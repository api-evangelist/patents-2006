---

title: Two circuit board touch-sensor device
abstract: An apparatus and method for detecting a presence of a conductive object on a sensor array of a first circuit board using active electronic components of a second circuit board, which is coupled to the first circuit board. The apparatus may include a first circuit board, which includes a sensor array of sensor elements, and a second circuit board, coupled to the first circuit board, including sensing circuitry to measure capacitance on the sensor array of the first circuit board. The method may include measuring a capacitance on the sensor array using the active electronic components of the second circuit board, and processing the measured capacitance.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08373664&OS=08373664&RS=08373664
owner: Cypress Semiconductor Corporation
number: 08373664
owner_city: San Jose
owner_country: US
publication_date: 20061218
---
This invention relates to the field of user interface devices and in particular to touch sensor devices.

Computing devices such as notebook computers personal data assistants PDAs mobile communication devices and portable entertainment devices such as handheld video game devices multimedia players and the like have user interface devices which are also known as human interface devices HID that facilitate interaction between the user and the computing device. One type of user interface device that has become more common is a touch sensor pad also known as a touchpad . A touchpad replicates mouse X Y movement by using two defined axes which contain a collection of sensor elements that detect the position of a conductive object such as a finger. Mouse right left button clicks can be replicated by two mechanical buttons located in the vicinity of the touchpad or by tapping commands on the touchpad itself. The touchpad provides a user interface device for performing such functions as positioning a pointer and selecting an item on a display. These touch pads may include multi dimensional sensor arrays for detecting movement in multiple axes. The sensor array may include a one dimensional sensor array to detect movement in one axis. The sensor array may also be two dimensional to detect movement in two axes.

One type of touchpad operates by way of capacitance sensing utilizing capacitive sensors. The capacitance detected by a capacitive sensor may change as a function of the proximity of a conductive object to the sensor. The capacitance may also change due the surface area of the conductive object that is in contact with the sensing device. The conductive object can be for example a stylus or a user s finger. In a touch sensor device a change in capacitance detected by each sensor in the X and Y dimensions of the sensor array due to the proximity or movement of a conductive object can be measured by a variety of methods. Regardless of the method usually an electrical signal representative of the capacitance detected by each capacitive sensor is processed by a processing device which in turn develops electrical signals representative of the position of the conductive object in relation to the touch sensor pad in the X and Y dimensions. A touch sensor strip slider or button operates on the same capacitance sensing principle.

Conventional capacitive touch pads are constructed on four layer printed and two layer printed circuit boards PCBs . For example U.S. Pat. Nos. 5 869 790 and 6 188 391 describe a four layer and two layer PCB respectively. In a conventional four layer touchpad the first and second layers contain the horizontal and vertical sensor elements also referred to as pads and interconnecting sensor traces that form the capacitive sensor matrix the third layer contains a ground plane and the fourth layer contains the controller and associated circuitry and interconnections to the capacitive sensor matrix. In some conventional two layer touch pads one layer contains the horizontal sensor elements and their corresponding interconnecting sensor traces the second layer contains the vertical sensor elements and their interconnecting sensor traces and the controller resides on either of the two layers. It should be noted that in the field of capacitive touch pads in reference to multiple layer touch pads e.g. two layer or four layer touch pads the term layer is conventionally used to refer to a side of a non conductive substrate upon which conductive material is disposed. It appears that the conventional meaning of the term layer is followed in U.S. Pat. Nos. 5 869 790 and 6 188 391 as discussed in further detail below.

U.S. Pat. No. 6 188 391 describes the use of screen printing carbon ink patterning to fabricate some of the conductive sensor traces to realize a two layer board with the controller chip disposed on the opposite side i.e. the second layer of the board as the sensor elements and interconnecting conductive sensor traces i.e. metal and conductive ink . is a cross sectional view illustrating the two layer touch pad of the purported invention of U.S. Pat. No. 6 188 391. of the present invention is a reproduction of FIG. 8B of U.S. Pat. No. 6 188 391 with the addition of the controller chip . It should be noted that in U.S. Pat. No. 6 188 391 the first layer referred to as a single composite layer contains both the horizontal sensor traces and vertical sensor traces as illustrated in . The second layer is on the underside of the printed circuit board and contains the controller chip which is not shown in the illustration of FIG. 8B of U.S. Pat. No. 6 188 391 but included in of the present application for ease of understanding . Accordingly the touchpad produced using screen printing carbon ink patterning described in U.S. Pat. No. 6 188 391 is a two layer touchpad because the conductive material that constitutes the controller and associated interconnection circuitry to the array is located on a different side i.e. layer of the non conductive PCB substrate e.g. constructed from FR4 Flame Resistant 4 PC board laminate than that of the conductive material used to form the sensor array.

As can be seen from an inspection of of the present application and also FIG. 8B of U.S. Pat. No. 6 188 391 the topside layer containing both the horizontal and vertical sensor element layers is a composite layer as it is referred to by U.S. Pat. No. 6 188 391. In such a composite layer the vertical carbon ink interconnecting sensor traces and the horizontal metal interconnecting sensor traces reside in two different planes. The sensor elements sense pads illustrated by diamonds and the horizontal metal interconnecting sensor traces reside in a lower plane than the vertical carbon ink sensor traces . The vertical carbon ink interconnecting sensor traces reside on a substantially different plane that is on top of the plane containing the sensor elements and the horizontal metal interconnecting sensor traces . Although some portion of the carbon ink sensor traces may dip into the lower plane in areas between the horizontal metal interconnecting sensor traces of the lower plane otherwise occupied by insulation the carbon ink sensor traces cannot reside in the same area of the lower plane than is occupied by the horizontal metal interconnecting sensor traces and their corresponding horizontal sense pads .

The substrate s of each of these conventional PCBs are made are constructed of material such as FR4 composite that is relatively more expensive than conductive ink on polymer construction of a typical keyboard key matrix. FR1 and FR2 composites may also be used. FR1 and FR2 are lower cost PCB substrates than FR4 but still more expensive than the film construction.

The traces on the two printed sheets are arranged such that each trace on the upper sheet crosses each trace on the lower sheet over a hole once and only once. In this way each button on the keyboard makes a unique contact between one of the traces on the upper sheet and one of the traces on the lower sheet. Typically one sheet has eight traces referred to as the key matrix Rows and the other sheet has between sixteen and twenty four traces referred to as Columns . In this way an 8 16 or 8 24 matrix is formed with each key or button corresponding to a single point in the matrix.

The keyboard matrix is connected to a main PCB with the keyboard controller e.g. keyboard controller integrated circuit IC using a compression contact. These compression contacts may be an inexpensive compression contact.

The construction of these conventional keyboard matrices are very inexpensive compared to the conventional circuit boards used for touchpads. For example the cost of all 3 sheets together is typically around 0.40 with the area of each sheet being around 100 square inches. This compares with around 0.04 to 0.06 per square inch for a two layer FR4 PCB and around 0.08 to 0.10 for a four layer FR4 PCB. Accordingly for a typical PC keyboard with a 100 square inch matrix area the total cost of a FR4 PCB is around 4.00 to 6.00 for a two layer FR4 PCB and 8.00 to 10.00 for a four layer FR4 PCB.

In addition the construction of conventional touchpads is typically thicker than the thickness of the construction of keyboard matrices. This is due to the thickness of the conventional substrate s used for touchpads such as FR4. Typical thicknesses of FR4 PCBs are 1.6 mm and 0.8 mm. FR4 PCBs have a thickness of 0.4 mm is somewhat more expensive but becoming more widely used especially in touchpad applications.

In another conventional design a conventional touchpad can be implemented with a conventional keyboard matrix. Typically both the conventional touchpad and conventional keyboard matrix each include separately circuit boards connected by an interconnecting wire.

Described herein is an apparatus and method for detecting a presence of a conductive object on a sensor array of a first circuit board using active electronic components of a second circuit board which is coupled to the first circuit board. Also described herein is a method for manufacturing the apparatus. The following description sets forth numerous specific details such as examples of specific systems components methods and so forth in order to provide a good understanding of several embodiments of the present invention. It will be apparent to one skilled in the art however that at least some embodiments of the present invention may be practiced without these specific details. In other instances well known components or methods are not described in detail or are presented in simple block diagram format in order to avoid unnecessarily obscuring the present invention. Thus the specific details set forth are merely exemplary. Particular implementations may vary from these exemplary details and still be contemplated to be within the spirit and scope of the present invention.

In one embodiment the method may include measuring a capacitance on the sensor array using the active electronic components of the second circuit board and processing the measured capacitance. In one embodiment the apparatus may include a first circuit board including a sensor array of sensor elements and a second circuit board coupled to the first circuit board including sensing circuitry to measure capacitance on the sensor array of the first circuit board. The first circuit board may include one or more substrates with one or more capacitance sensor elements and interconnecting sensor traces. The first circuit board does not include active electronic components to measure a capacitance on the one or more capacitance sensor elements. The second circuit board may include active electronic components to measure the capacitance on the one or more capacitance sensor elements of on the first circuit board. The first and second circuit boards are coupled together using methods known by those of ordinary skill in the art.

Also described herein is a method of manufacturing for separately disposing the sensor array circuitry e.g. sensor array and the interconnecting sensor traces of the sensor array from the circuit board substrate that includes the sensing and or the processing circuitry. By separately disposing the sensor array circuitry from the sensing and processing circuitry the sensor array circuitry may be manufactured using a lower cost construction than the construction of conventional touchpads. The lower cost construction of the sensor array may be similar to that of conventional keyboard matrix circuitry.

The touchpad sensing area e.g. sensor array and interconnecting sensor traces may be separate from a PCB containing the sensing circuitry for example the sensor array may be disposed on a substrate e.g. sensor array substrate that is separate from the circuit board substrate that includes the sensing and or the processing circuitry. The sensor array may be constructed from conductive ink conductors printed on a polymer film such as PET. However other materials for the sensor array may also be used.

In one embodiment the X axis sensor elements and interconnecting sensor traces are printed on the top side of a polymer film substrate e.g. PET and the Y axis sensing elements and interconnecting sensor traces are printed on the lower side of the same polymer film substrate. The capacitance between a conductive object e.g. touchpad operating finger and the lower traces may be slightly smaller than the capacitance between the conductive object and the upper traces because of the additional thickness introduced by the polymer film substrate. This additional thickness however is relatively small since polymer films are thin as compared to other substrate material such as FR4. The difference in capacitance may be corrected by either the sensing circuitry or processing algorithms of a processing device.

In one embodiment the sensing circuitry is disposed e.g. mounted or printed on a separate circuit board e.g. PCB to which the sensor array circuitry of the first circuit board is connected. The separate circuit board may be smaller in size than conventional touchpad circuit boards since the separate circuit board does not include the sensor array circuitry. Typically the sensor array circuitry takes up more surface area of the substrate than the processing device e.g. capacitance sensing circuitry and or processing circuitry and by disposing the sensor array circuitry on a separate circuit board the surface area of the second circuit board can be reduced. By reducing the size of the second circuit board the cost of manufacturing is reduced since the second circuit board does not include a larger surface area upon which the sensor array circuitry is disposed. The cost of manufacturing may be further reduced by disposing the sensor array circuitry on a circuit board that includes a substrate material e.g. PET that is cheaper than the substrate material used for the sensing circuitry e.g. FR4 and or the substrate material used in conventional touchpads. The connection between the two circuit boards may be via a connector or alternatively via a pressure contact connector. The connection between the two circuit boards may be done using connectors that are similar to those described above with respect to conventional keyboard matrix and keyboard controller. For example the connection may be made using a connector a fastener an elastomer a screw a metal spring clip a compressive clamp or other mechanical connectors known by those of ordinary skill in the art. Alternatively electrical contact may be made between the two circuit boards using pressure contact connectors such as a compressive clamp or using anisotropic conductive adhesive material.

In another embodiment the sensor elements are printed on the same side of the polymer film substrate e.g. top or bottom side of the substrate . Either the X or Y axis interconnecting sensor traces are printed at the same time as the sensor elements. Similarly traces to the edge of the polymer film substrate may be printed to be used for connection to the sensing circuitry of the PCB. Next an insulating ink is printed on top of the first set of interconnecting sensor traces and then conductive ink is printed over the insulating ink to provide contact e.g. interconnecting sensor traces of conductive ink between the sensor elements of the other axis.

In another embodiment tapered sensor elements may be printed on the same side of the polymer film substrate e.g. top or bottom side of the substrate . The tapered sensor elements are disposed on a single layer non conductive substrate where one or more sensor traces lie substantially on the same plane as the tapered sensor elements. The method of manufacturing may include printing only one single layer of conductive material for both the sensor elements and the interconnecting sensor traces without printing additional layers such as the insulating ink and the second layer of conductive ink as described above.

It should be noted that other constructions are possible using two substrates either singly or in combination with an insulating film between the two substrates.

Also described herein are embodiments of a sensor array of a touchpad implemented with a keyboard matrix. These embodiments may be used in a laptop computer a hybrid touchpad keyboard device or other electronic devices that include these two types of user interface devices.

As described above the embodiments described herein may reduce the construction costs of the sensing device e.g. cost of manufacturing the first and or second circuit boards . The embodiments described herein may also reduce the thickness of the sensing device for example the thickness of the sensor array substrate e.g. PET film may be reduced from the substrates used for conventional sensor arrays e.g. 2 layer or 4 layer FR4 PCBs . The embodiments described herein may also allow the construction of a unified keyboard and touchpad assembly reducing the construction costs and or the thickness of the assembly.

The processing device may also include an analog block array not illustrated . The analog block array is also coupled to the system bus. Analog block array also may be configured to implement a variety of analog circuits e.g. ADC analog filters etc. using in one embodiment configurable UMs. The analog block array may also be coupled to the GPIO .

As illustrated capacitance sensor may be integrated into processing device . Capacitance sensor may include analog I O for coupling to an external component such as touch sensor pad touch sensor slider touch sensor buttons and or other devices. Capacitance sensor and processing device are described in more detail below.

It should be noted that the embodiments described herein are not limited to touch sensor pads for notebook implementations but can be used in other capacitive sensing implementations for example the sensing device may be a touch screen a touch sensor slider or a touch sensor button e.g. capacitance sensing button . It should also be noted that the embodiments described herein may be implemented in other sensing technologies than capacitive sensing such as resistive optical imaging surface wave infrared dispersive signal and strain gauge technologies. Similarly the operations described herein are not limited to notebook pointer operations but can include other operations such as lighting control dimmer volume control graphic equalizer control speed control or other control operations requiring gradual or discrete adjustments. It should also be noted that these embodiments of capacitive sensing implementations may be used in conjunction with non capacitive sensing elements including but not limited to pick buttons sliders ex. display brightness and contrast scroll wheels multi media control ex. volume track advance etc handwriting recognition and numeric keypad operation.

In one embodiment the electronic system includes a touch sensor pad coupled to the processing device via bus . Touch sensor pad may include a multi dimension sensor array. The multi dimension sensor array includes multiple sensor elements organized as rows and columns. In another embodiment the electronic system includes a touch sensor slider coupled to the processing device via bus . Touch sensor slider may include a single dimension sensor array. The single dimension sensor array includes multiple sensor elements organized as rows or alternatively as columns. In another embodiment the electronic system includes a touch sensor button coupled to the processing device via bus . Touch sensor button may include a single dimension or multi dimension sensor array. The single or multi dimension sensor array includes multiple sensor elements. For a touch sensor button the sensor elements may be coupled together to detect a presence of a conductive object over the entire surface of the sensing device. Alternatively the touch sensor button has a single sensor element to detect the presence of the conductive object. In one embodiment the touch sensor button may be a capacitance sensor element. Capacitance sensor elements may be used as non contact sensor elements. These sensor elements when protected by an insulating layer offer resistance to severe environments.

The electronic system may include any combination of one or more of the touch sensor pad touch sensor slider and or touch sensor button . In another embodiment the electronic system may also include non capacitance sensor elements coupled to the processing device via bus . The non capacitance sensor elements may include buttons light emitting diodes LEDs and other user interface devices such as a mouse a keyboard or other functional keys that do not require capacitance sensing. In one embodiment buses and may be a single bus. Alternatively these buses may be configured into any combination of one or more separate buses.

The processing device may also provide value added functionality such as keyboard control integration LEDs battery charger and general purpose I O as illustrated as non capacitance sensor elements . Non capacitance sensor elements are coupled to the GPIO .

Processing device may include internal oscillator clocks and communication block . The oscillator clocks block provides clock signals to one or more of the components of processing device . Communication block may be used to communicate with an external component such as a host processor via host interface I F line . Alternatively processing block may also be coupled to embedded controller to communicate with the external components such as host . Interfacing to the host can be through various methods. In one exemplary embodiment interfacing with the host may be done using a standard PS 2 interface to connect to an embedded controller which in turn sends data to the host via low pin count LPC interface. In some instances it may be beneficial for the processing device to do both touch sensor pad and keyboard control operations thereby freeing up the embedded controller for other housekeeping functions. In another exemplary embodiment interfacing may be done using a universal serial bus USB interface directly coupled to the host via host interface line . Alternatively the processing device may communicate to external components such as the host using industry standard interfaces such as USB PS 2 inter integrated circuit I2C bus or system packet interfaces SPI . The host and or embedded controller may be coupled to the processing device with a ribbon or flex cable from an assembly which houses the sensing device e.g. sensor array and processing device e.g. sensing circuitry and or processing circuitry .

In one embodiment the processing device is configured to communicate with the embedded controller or the host to send and or receive data. The data may be a command or alternatively a signal. In an exemplary embodiment the electronic system may operate in both standard mouse compatible and enhanced modes. The standard mouse compatible mode utilizes the HID class drivers already built into the Operating System OS software of host . These drivers enable the processing device and sensing device to operate as a standard pointer control user interface device such as a two button PS 2 mouse. The enhanced mode may enable additional features such as scrolling reporting absolute position or disabling the sensing device such as when a mouse is plugged into the notebook. Alternatively the processing device may be configured to communicate with the embedded controller or the host using non OS drivers such as dedicated touch sensor pad drivers or other drivers known by those of ordinary skill in the art.

In one embodiment the processing device may operate to communicate data e.g. commands or signals using hardware software and or firmware and the data may be communicated directly to the processing device of the host such as a host processor or alternatively may be communicated to the host via drivers of the host such as OS drivers or other non OS drivers. It should also be noted that the host may directly communicate with the processing device via host interface .

In one embodiment the data sent to the host from the processing device includes click double click movement of the pointer scroll up scroll down scroll left scroll right step Back and step Forward. In another embodiment the data sent to the host include the position or location of the conductive object on the sensing device. Alternatively other user interface device commands may be communicated to the host from the processing device . These commands may be based on gestures occurring on the sensing device that are recognized by the processing device such as tap push hop and zigzag gestures. Alternatively other commands may be recognized. Similarly signals may be sent that indicate the recognition of these operations.

In particular a tap gesture for example may be when the finger e.g. conductive object is on the sensing device for less than a threshold time. If the time the finger is placed on the touchpad is greater than the threshold time it may be considered to be a movement of the pointer in the x or y axes. Scroll up scroll down scroll left and scroll right step back and step forward may be detected when the absolute position of the conductive object is within a pre defined area and movement of the conductive object is detected.

Processing device may reside on a common carrier substrate such as for example an integrated circuit IC die substrate a multi chip module substrate or the like. Alternatively the components of processing device may be one or more separate integrated circuits and or discrete components. In one exemplary embodiment processing device may be a Programmable System on a Chip PSoC processing device manufactured by Cypress Semiconductor Corporation San Jose Calif. Alternatively processing device may be one or more other processing devices known by those of ordinary skill in the art such as a microprocessor or central processing unit a controller special purpose processor digital signal processor DSP an application specific integrated circuit ASIC a field programmable gate array FPGA or the like. In an alternative embodiment for example the processing device may be a network processor having multiple processors including a core unit and multiple microengines. Additionally the processing device may include any combination of general purpose processing device s and special purpose processing device s .

It should also be noted that the embodiments described herein are not limited to having a configuration of a processing device coupled to a host but may include a system that measures the capacitance on the sensing device and sends the raw data to a host computer where it is analyzed by an application. In effect the processing that is done by processing device may also be done in the host.

In one embodiment the method and apparatus described herein may be implemented in a fully self contained touch sensor pad which outputs fully processed x y movement and gesture data signals or data commands to a host. In another embodiment the method and apparatus may be implemented in be a touch sensor pad which outputs x y movement data and also finger presence data to a host and where the host processes the received data to detect gestures. In another embodiment the method and apparatus may be implemented in a touch sensor pad which outputs raw capacitance data to a host where the host processes the capacitance data to compensate for quiescent and stray capacitance and calculates x y movement and detects gestures by processing the capacitance data. Alternatively the method and apparatus may be implemented in a touch sensor pad which outputs pre processed capacitance data to a host where the touchpad processes the capacitance data to compensate for quiescent and stray capacitance and the host calculates x y movement and detects gestures from the pre processed capacitance data.

In one embodiment the electronic system that includes the embodiments described herein may be implemented in a conventional laptop touch sensor pad. Alternatively it may be implemented in a wired or wireless keyboard integrating a touch sensor pad which is itself connected to a host. In such an implementation the processing described above as being performed by the host may be performed in part or in whole by the keyboard controller which may then pass fully processed pre processed or unprocessed data to the system host. In another embodiment the embodiments may be implemented in a mobile handset e.g. cellular or mobile phone or other electronic devices where the touch sensor pad may operate in one of two or more modes. For example the touch sensor pad may operate either as a touch sensor pad for x y positioning and gesture recognition or as a keypad or other array of touch sensor buttons and or sliders.

Capacitance sensor may be integrated into the IC of the processing device or alternatively in a separate IC. Alternatively descriptions of capacitance sensor may be generated and compiled for incorporation into other integrated circuits. For example behavioral level code describing capacitance sensor or portions thereof may be generated using a hardware descriptive language such as VHDL or Verilog and stored to a machine accessible medium e.g. CD ROM hard disk floppy disk etc. . Furthermore the behavioral level code can be compiled into register transfer level RTL code a netlist or even a circuit layout and stored to a machine accessible medium. The behavioral level code the RTL code the netlist and the circuit layout all represent various levels of abstraction to describe capacitance sensor .

It should be noted that the components of electronic system may include all the components described above. Alternatively electronic system may include only some of the components described above.

In one embodiment electronic system may be used in a notebook computer. Alternatively the electronic device may be used in other applications such as a mobile handset a personal data assistant PDA a keyboard a television a remote control a monitor a handheld multi media device a handheld video player a handheld gaming device or a control panel.

In one embodiment capacitance sensor may be a capacitive switch relaxation oscillator CSR . The CSR may have an array of sensor elements also referred to as capacitive touch switches using a current programmable relaxation oscillator an analog multiplexer digital counting functions and high level software routines to compensate for environmental and physical sensor element variations. The sensor array may include combinations of independent sensor elements sliding sensor elements e.g. touch sensor slider and touch sensor sensor element pads e.g. touch pad implemented as a pair of orthogonal sliding sensor elements. The CSR may include physical electrical and software components. The physical component may include the physical sensor element itself typically a pattern constructed on a printed circuit board PCB with an insulating cover a flexible membrane or a transparent overlay. The electrical component may include an oscillator or other means to convert a changed capacitance into a measured signal. The electrical component may also include a counter or timer to measure the oscillator output. The software component may include detection and compensation software algorithms to convert the count value into a sensor element detection decision also referred to as switch detection decision . For example in the case of slider sensor elements or X Y touch sensor sensor element pads a calculation for finding position of the conductive object to greater resolution than the physical pitch of the sensor elements may be used.

It should be noted that there are various known methods for measuring capacitance. Although the embodiments described herein are described using a relaxation oscillator the present embodiments are not limited to using relaxation oscillators but may include other methods such as current versus voltage phase shift measurement resistor capacitor charge timing capacitive bridge divider charge transfer or the like.

The current versus voltage phase shift measurement may include driving the capacitance through a fixed value resistor to yield voltage and current waveforms that are out of phase by a predictable amount. The drive frequency can be adjusted to keep the phase measurement in a readily measured range. The resistor capacitor charge timing may include charging the capacitor through a fixed resistor and measuring timing on the voltage ramp. Small capacitor values may require very large resistors for reasonable timing. The capacitive bridge divider may include driving the capacitor under test through a fixed reference capacitor. The reference capacitor and the capacitor under test form a voltage divider. The voltage signal is recovered with a synchronous demodulator which may be done in the processing device . The charge transfer may be conceptually similar to an R C charging circuit. In this method Cis the capacitance being sensed. Cis the summing capacitor into which charge is transferred on successive cycles. At the start of the measurement cycle the voltage on Cis reset. The voltage on Cincreases exponentially and only slightly with each clock cycle. The time for this voltage to reach a specific threshold is measured with a counter. Additional details regarding these alternative embodiments have not been included so as to not obscure the present embodiments and because these alternative embodiments for measuring capacitance are known by those of ordinary skill in the art.

The conductive object in this embodiment has been illustrated as a finger. Alternatively this technique may be applied to any conductive object for example a conductive door switch position sensor or conductive pen in a stylus tracking system e.g. stylus .

The relaxation oscillator begins by charging the capacitor at a fixed current Ic from a ground potential or zero voltage until the voltage across the capacitor at node reaches a reference voltage or threshold voltage V. At the threshold voltage V the relaxation oscillator allows the accumulated charge at node to discharge e.g. the capacitor to relax back to the ground potential and then the process repeats itself. In particular the output of comparator asserts a clock signal F e.g. F goes high which enables the reset switch . This resets the voltage on the capacitor at node to ground and the charge cycle starts again. The relaxation oscillator outputs a relaxation oscillator clock signal F having a frequency f dependent upon capacitance C of the capacitor and charging current Ic .

The comparator trip time of the comparator and reset switch add a fixed delay. The output of the comparator is synchronized with a reference system clock to guarantee that the comparator reset time is long enough to completely reset the charging voltage on capacitor . This sets a practical upper limit to the operating frequency. For example if capacitance C of the capacitor changes then fchanges proportionally according to Equation 1 . By comparing fof F against the frequency f of a known reference system clock signal REF CLK the change in capacitance C can be measured. Accordingly equations 2 and 3 below describe that a change in frequency between F and REF CLK is proportional to a change in capacitance of the capacitor . where 2 . 3 

In one embodiment a frequency comparator may be coupled to receive relaxation oscillator clock signal F and REF CLK compare their frequencies fand f respectively and output a signal indicative of the difference f between these frequencies. By monitoring f one can determine whether the capacitance of the capacitor has changed.

In one exemplary embodiment the relaxation oscillator may be built using a programmable timer e.g. 555 timer to implement the comparator and reset switch . Alternatively the relaxation oscillator may be built using other circuiting. Relaxation oscillators are known by those of ordinary skill in the art and accordingly additional details regarding their operation have not been included so as to not obscure the present embodiments.

Relaxation oscillator of includes all the components described with respect to and a selection circuit . The selection circuit is coupled to the sensor elements N the reset switch the current source and the comparator . Selection circuit may be used to allow the relaxation oscillator to measure capacitance on multiple sensor elements e.g. rows or columns . The selection circuit may be configured to sequentially select a sensor element of the multiple sensor elements to provide the charge current and to measure the capacitance of each sensor element. In one exemplary embodiment the selection circuit is a multiplexer array of the relaxation oscillator . Alternatively selection circuit may be other circuitry outside the relaxation oscillator or even outside the capacitance sensor to select the sensor element to be measured. Capacitance sensor may include one relaxation oscillator and digital counter to measure capacitance on all the sensor elements of the sensor array. Alternatively capacitance sensor may include multiple relaxation oscillators and digital counters to measure capacitance on the sensor elements of the sensor array. The multiplexer array may also be used to ground the sensor elements that are not being measured. This may be done in conjunction with a dedicated pin in the GP10 port .

In another embodiment the capacitance sensor may be configured to simultaneously scan the sensor elements as opposed to being configured to sequentially scan the sensor elements as described above. For example the sensing device may include a sensor array having multiple rows and columns. The rows may be scanned simultaneously and the columns may be scanned simultaneously.

In one exemplary embodiment the voltages on all of the rows of the sensor array are simultaneously moved while the voltages of the columns are held at a constant voltage with the complete set of sampled points simultaneously giving a profile of the conductive object in a first dimension. Next the voltages on all of the rows are held at a constant voltage while the voltages on all the rows are simultaneously moved to obtain a complete set of sampled points simultaneously giving a profile of the conductive object in the other dimension.

In another exemplary embodiment the voltages on all of the rows of the sensor array are simultaneously moved in a positive direction while the voltages of the columns are moved in a negative direction. Next the voltages on all of the rows of the sensor array are simultaneously moved in a negative direction while the voltages of the columns are moved in a positive direction. This technique doubles the effect of any transcapacitance between the two dimensions or conversely halves the effect of any parasitic capacitance to the ground. In both methods the capacitive information from the sensing process provides a profile of the presence of the conductive object to the sensing device in each dimension. Alternatively other methods for scanning known by those of ordinary skill in the art may be used to scan the sensing device.

Digital counter is coupled to the output of the relaxation oscillator . Digital counter receives the relaxation oscillator output signal F . Digital counter is configured to count at least one of a frequency or a period of the relaxation oscillator output received from the relaxation oscillator.

As described above with respect to the relaxation oscillator when a finger or conductive object is placed on the sensor element the capacitance increases from Cp to Cp Cf so the relaxation oscillator output signal F decreases. The relaxation oscillator output signal F is fed to the digital counter for measurement. There are two methods for counting the relaxation oscillator output signal frequency measurement and period measurement. In one embodiment the digital counter may include two multiplexers and . Multiplexers and are configured to select the inputs for the PWM and the timer for the two measurement methods frequency and period measurement methods. Alternatively other selection circuits may be used to select the inputs for the PWM and the timer . In another embodiment multiplexers and are not included in the digital counter for example the digital counter may be configured in one or the other measurement configuration.

In the frequency measurement method the relaxation oscillator output signal is counted for a fixed period of time. The timer is read to obtain the number of counts during the gate time. This method works well at low frequencies where the oscillator reset time is small compared to the oscillator period. A pulse width modulator PWM is clocked for a fixed period by a derivative of the system clock VC which is a divider from system clock e.g. 24 MHz . Pulse width modulation is a modulation technique that generates variable length pulses to represent the amplitude of an analog input signal in this case VC . The output of PWM enables timer e.g. 16 bit . The relaxation oscillator output signal clocks the timer . The timer is reset at the start of the sequence and the count value is read out at the end of the gate period.

In the period measurement method the relaxation oscillator output signal gates a timer which is clocked by the system clock e.g. 24 MHz . In order to improve sensitivity and resolution multiple periods of the oscillator are counted with the PWM . The output of PWM is used to gate the timer . In this method the relaxation oscillator output signal drives the clock input of PWM . As described above pulse width modulation is a modulation technique that generates variable length pulses to represent the amplitude of an analog input signal in this case the relaxation oscillator output signal . The output of the PWM enables timer e.g. 16 bit which is clocked at the system clock frequency e.g. 24 MHz . When the output of PWM is asserted e.g. goes high the count starts by releasing the capture control. When the terminal count of the PWM is reached the capture signal is asserted e.g. goes high stopping the count and setting the PWM s interrupt. The timer value is read in this interrupt. The relaxation oscillator is indexed to the next sensor element e.g. capacitor to be measured and the count sequence is started again.

The two counting methods may have equivalent performance in sensitivity and signal to noise ratio SNR . The period measurement method may have a slightly faster data acquisition rate but this rate is dependent on software loads and the values of the sensor element capacitances. The frequency measurement method has a fixed sensor element data acquisition rate.

The length of the timer and the detection time required for the sensor element are determined by sensitivity requirements. Small changes in the capacitance on capacitor result in small changes in frequency. In order to find these small changes it may be necessary to count for a considerable time.

At startup or boot the sensor elements e.g. capacitors N may be scanned and the count values for each sensor element with no activation are stored as a baseline array Cp . The presence of a finger on the sensor element is determined by the difference in counts between a stored value for no sensor element activation also referred to as switch activation and the acquired value with sensor element activation referred to here as n. The sensitivity of a single sensor element is approximately 

The value of n should be large enough for reasonable resolution and clear indication of sensor element activation. This drives sensor element construction decisions. Cf should be as large a fraction of Cp as possible. In one exemplary embodiment the fraction of Cf Cp ranges between approximately 0.01 to approximately 2.0. Alternatively other fractions may be used for Cf Cp. Since Cf is determined by finger area and distance from the finger to the conductive traces e.g. sensor elements and or interconnecting sensor traces through the over lying insulator the baseline capacitance Cp should be minimized. The baseline capacitance Cp includes the capacitance of the sensor element plus any parasitics including routing and chip pin capacitance.

In sensor array applications variations in sensitivity should be minimized. If there are large differences in n one sensor element may activate at 1.0 cm while another may not activate until direct contact. This presents a non ideal user interface device. There are numerous methods for balancing the sensitivity. These may include precisely matching on board capacitance with PCB trace length modification adding balance capacitors on each PCB trace and or adapting a calibration factor to each sensor element to be applied each time the sensor element is tested.

In one embodiment the PCB design may be adapted to minimize capacitance including thicker PCBs where possible. In one exemplary embodiment a 0.062 inch thick PCB is used. Alternatively other thicknesses may be used for example a 0.015 inch thick PCB a 1.6 mm a 0.8 mm and a 0.4 mm PCBs.

It should be noted that the count window should be long enough for n to be a significant number. In one embodiment the significant number can be as little as 10 or alternatively as much as several hundred. In one exemplary embodiment where Cf is 1.0 of Cp and where the sensor element threshold is set at a count value of 20 n is found to be 

Adding some margin to yield 2500 counts and running the frequency measurement method at 1.0 MHz the detection time for the sensor element is 2.5 microseconds. In the frequency measurement method the frequency difference between a sensor element with and without activation i.e. CP CF vs. CP is approximately 

This shows that the sensitivity variation between one channel and another is a function of the square of the difference in the two channels static capacitances. This sensitivity difference can be compensated using routines in the high level Application Programming Interfaces APIs .

In the period measurement method the count difference between a sensor element with and without activation i.e. CP CF vs. CP is approximately 

The charge currents are typically lower and the period is longer to increase sensitivity or the number of periods for which fis counted can be increased. In either method by matching the static parasitic capacitances Cp of the individual sensor elements the repeatability of detection increases making all sensor elements work approximately at the same difference. Compensation for this variation can be done in software at runtime. The compensation algorithms for both the frequency method and period method may be included in the high level APIs.

Some implementations of this circuit use a current source programmed by a fixed resistor value. If the range of capacitance to be measured changes external components i.e. the resistor should be adjusted.

Using the selection circuit multiple sensor elements may be sequentially scanned to provide current to and measure the capacitance from the capacitors e.g. sensor elements as described above. In one embodiment while one sensor element is being measured the remaining sensor elements are grounded to a system ground using the GPIO port . This drive and multiplex arrangement bypasses the existing GPIO to connect the selected pin to an internal analog multiplexer mux bus. The capacitor charging current e.g. current source and reset switch are connected to the analog bus. This may limit the pin count requirement to simplify the number of sensor elements e.g. capacitors N to be addressed. In one exemplary embodiment no external resistors or capacitors are required inside or outside the processing device to enable operation.

The capacitor charging current for the relaxation oscillator may be generated in a register programmable current output DAC also known as IDAC . Accordingly the current source may be a current DAC or IDAC. The IDAC output current may be set by an 8 bit value provided by the processing device such as from the processing core . The 8 bit value may be stored in a register or in memory.

Estimating and measuring PCB capacitances may be difficult the oscillator reset time may add to the oscillator period especially at higher frequencies and there may be some variation to the magnitude of the IDAC output current with operating frequency. Accordingly the optimum oscillation frequency and operating current for a particular sensor array may be determined to some degree by experimentation.

In many capacitive sensor element designs the two plates e.g. and of the sensing capacitor are actually adjacent sensor elements that are electrically isolated e.g. PCB pads or traces as indicated in . Typically one of these plates is grounded to a system ground. Layouts for touch sensor slider e.g. linear slide sensor elements and touch sensor pad applications have sensor elements that are immediately adjacent. In this case all of the sensor elements that are not active are grounded to a system ground through the GPIO of the processing device dedicated to that pin. The actual capacitance between adjacent plates is small Cp but the capacitance of the active plate and its PCB trace back to the processing device to ground when detecting the presence of the conductive object may be considerably higher Cp f . The capacitance of two parallel plates is given by the following equation 

The dimensions of equation 8 are in meters. This is a very simple model of the capacitance. The reality is that there are fringing effects that substantially increase the sensor element to ground and PCB trace to ground capacitance.

Sensor element sensitivity i.e. activation distance may be increased by one or more of the following 1 increasing board thickness to increase the distance between the active sensor element and any parasitics 2 minimizing PCB trace routing underneath sensor elements 3 utilizing a gridded ground with 50 or less fill if use of a ground plane is absolutely necessary 4 increasing the spacing between sensor elements and any adjacent ground plane 5 increasing pad area 6 decreasing thickness of any insulating overlay or 7 verifying that there is no air gap between the sensor element surface and the touching finger.

There is some variation of sensor element sensitivity as a result of environmental factors. A baseline update routine which compensates for this variation may be provided in the high level APIs.

Sliding sensor elements are used for control requiring gradual or discrete adjustments. Examples include a lighting control dimmer volume control graphic equalizer and speed control. These sensor elements are mechanically adjacent to one another. Activation of one sensor element results in partial activation of physically adjacent sensor elements. The actual position in the sliding sensor element is found by computing the centroid location of the set of sensor elements activated.

In applications for touch sensor sliders e.g. sliding sensor elements and touch sensor pads it is often necessary to determine finger or other capacitive object position to more resolution than the native pitch of the individual sensor elements. The contact area of a finger on a sliding sensor element or a touchpad sensor element is often larger than any single sensor element. In one embodiment in order to calculate the interpolated position using a centroid the array is first scanned to verify that a given sensor element location is valid. The requirement is for some number of adjacent sensor element signals to be above a noise threshold. When the strongest signal is found this signal and those immediately adjacent are used to compute a centroid 

The calculated value may be fractional. In order to report the centroid to a specific resolution for example a range of 0 to 100 for 12 sensor elements the centroid value may be multiplied by a calculated scalar. It may be more efficient to combine the interpolation and scaling operations into a single calculation and report this result directly in the desired scale. This may be handled in the high level APIs. Alternatively other methods may be used to interpolate the position of the conductive object.

A physical touchpad assembly is a multi layered module to detect a conductive object. In one embodiment the multi layer stack up of a touchpad assembly includes two or more PCBs an adhesive layer and an overlay. The first PCB may include the sensor array disposed on one or more sides of the first PCB. The touchpad assembly may also include one or more additional PCBs that include the processing device and other electronic components such as the connector to the host . These components instead of being mounted on a non sensing side of a PCB that includes the sensor array as done conventionally are mounted on the one or more additional PCBs. Alternatively other multi layer stack ups may be used in the touchpad assembly.

The one or more additional PCBs of the second circuit board which do not include the sensor array may be made of standard materials such as FR4 or Kapton e.g. flexible PCB . In either case the processing device may be attached e.g. soldered directly to the one or more additional PCBs. The first circuit board may be made of standard materials or alternatively as materials that are cheaper than the standard materials e.g. FR4 or Kapton .

The PCB thickness varies depending on multiple variables including height restrictions and sensitivity requirements. In one embodiment a second circuit board has a thickness that is at least approximately 0.3 millimeters mm . Alternatively the second circuit board may have other thicknesses. In one embodiment the first circuit board has a thickness that is at least approximately X mm. Alternatively the first circuit board may have other thicknesses. For example the sensor element on a PET substrate may be less than approximately 0.1 mm thick. The circuit board with active electronics may be approximately 0.8 mm thick. The PCB length and width is dependent on individual design requirements for the device on which the sensing device is mounted such as a notebook or mobile handset.

The adhesive layer is directly on top of the PCB sensor array and is used to affix the overlay to the overall touchpad assembly. The adhesive layer may also be disposed on top of the PCB that does not include the sensor array. Typical material used for connecting the overlay to the PCB is non conductive adhesive such as 3M 467 or 468. In one exemplary embodiment the adhesive thickness is approximately 0.05 mm. Alternatively other thicknesses may be used.

The overlay may be non conductive material used to protect the PCB circuitry to environmental elements and to insulate the user s finger e.g. conductive object from the circuitry. Overlay can be ABS plastic polycarbonate glass or polyester film such as Mylar polyester film. Alternatively other materials known by those of ordinary skill in the art may be used. In one exemplary embodiment the overlay has a thickness of approximately 1.0 mm. In another exemplary embodiment the overlay thickness has a thickness of approximately 2.0 mm. Alternatively other thicknesses may be used.

The sensor array may be a grid like pattern of sensor elements e.g. capacitive elements used in conjunction with the processing device to detect a presence of a conductive object such as finger to a resolution greater than that which is native. The touch sensor pad layout pattern may be disposed to maximize the area covered by conductive material such as copper in relation to spaces necessary to define the rows and columns of the sensor array.

Alternating columns in correspond to x and y axis elements. The y axis sensor elements K are illustrated as black hexagons in and the x axis sensor elements L are illustrated as white hexagons in . It should be noted that other shapes may be used for the sensor elements such as diamonds as illustrated in or the like. In another embodiment the columns and row may include vertical and horizontal bars e.g. rectangular shaped bars however this design may include additional layers in the PCB to allow the vertical and horizontal bars to be positioned on the PCB so that they are not in contact with one another.

As illustrated in the top conductive layer includes the sensor elements for both the columns and the rows of the sensor array as well as the connections between the sensor elements of the columns of the sensor array. The bottom conductive layer includes the conductive paths that connect the sensor elements of the rows that reside in the top conductive layer . The conductive paths between the sensor elements of the rows use vias to connect to one another in the bottom conductive layer . Vias go from the top conductive layer through the dielectric layer to the bottom conductive layer . Coating layers and are applied to the surfaces opposite to the surfaces that are coupled to the dielectric layer on both the top and bottom conductive layers and .

It should be noted that the space between coating layers and and dielectric layer which does not include any conductive material may be filled with the same material as the coating layers or dielectric layer. Alternatively it may be filled with other materials.

It should be noted that the present embodiments are not be limited to connecting the sensor elements of the rows using vias to the bottom conductive layer but may include connecting the sensor elements of the columns using vias to the bottom conductive layer . Furthermore the present embodiments are not limited two layer configurations but may include disposing the sensor elements on multiple layers such as three or four layer configurations. In another embodiment the present embodiments may be implemented in a 1 layer configuration.

When pins are not being sensed only one pin is sensed at a time they are routed to ground. By surrounding the sensing device e.g. touch sensor pad with a ground plane the exterior elements have the same fringe capacitance to ground as the interior elements. Alternatively the individual sensor elements may be surrounded by a ground plane.

In one embodiment an IC including the processing device may be directly placed on either side of the second circuit board which does not include the sensor array. This placement does not necessary have to be in the center. The processing device IC is not required to have a specific set of dimensions for a touch sensor pad nor a certain number of pins. Alternatively the IC may be placed somewhere external to the second circuit board.

Sensor array may be similar to the sensor array as described with respect to A D. The sensor array may be one dimensional or alternatively multi dimensional. It should also be noted that the embodiments described herein may also be applied to one or more touch sensor buttons.

In one embodiment the sensing circuitry which is disposed on the second circuit board is configured to measure capacitance on the sensor array of the first circuit board . The sensing circuitry may include one or more capacitance sensors as described above with respect to . As previously described the capacitance sensor may include analog I O for coupling to an external component such as a sensor element of the sensor array . In one embodiment the one or more capacitance sensors may each be a capacitive switch relaxation oscillator CSR as described in more detail above. Alternatively the one or more capacitance sensors may be other circuits for measuring capacitance such as current versus voltage phase shift measurement resistor capacitor charge timing capacitive bridge divider charge transfer or the like.

In another embodiment descriptions of the sensing circuitry may be generated and compiled for incorporation into other integrated circuits. For example behavioral level code describing capacitance sensor or portions thereof may be generated using a hardware descriptive language such as VHDL or Verilog and stored to a machine accessible medium e.g. CD ROM hard disk floppy disk etc. . Furthermore the behavioral level code can be compiled into register transfer level RTL code a netlist or even a circuit layout and stored to a machine accessible medium. The behavioral level code the RTL code the netlist and the circuit layout all represent various levels of abstraction to describe the sensing circuitry .

In one embodiment the sensing circuitry includes a selection circuit such as the selection circuit e.g. multiplexer array described with respect to . The selection circuit may be configured to sequentially select a sensor element of the multiple sensor elements to provide the charge current and to measure the capacitance of each sensor element. In another embodiment the selection circuit may be configured to simultaneously scan the sensor elements as opposed to being configured to sequentially scan the sensor elements as described above. For example the sensing device may include a sensor array e.g. having multiple rows and columns. The rows may be scanned simultaneously and the columns may be scanned simultaneously. In one exemplary embodiment the selection circuit is a multiplexer array of a relaxation oscillator. Alternatively selection circuit may be other circuitry outside the relaxation oscillator or even outside the capacitance sensor to select the sensor element to be measured.

In one embodiment the sensing circuitry includes a digital counter such as the digital counter . The digital counter may be configured to receive the output of the capacitance sensor such as a relaxation oscillator. The digital counter may be configured to count at least one of a frequency or a period of the relaxation oscillator. Alternatively the digital counter may include circuitry for digitizing the capacitance measured on the sensor array .

The sensing circuitry may include one relaxation oscillator and digital counter for the sensor elements of the sensor array . Alternatively the sensing circuitry may include multiple relaxation oscillators and digital counters to measure capacitance on the sensor elements of the sensor array . The sensing circuitry may also include circuitry for grounding the sensor elements of the sensor array that are not being measured.

The processing circuitry which is disposed on the second circuit board is configured to process the measured capacitance by the sensing circuitry . The measured capacitance may be used to determine position e.g. absolute or relative position of the conductive object on the sensing device switch activation or button presses e.g. whether a defined area on the sensing device has been pressed by the conductive object recognition of gestures e.g. tap double tap push hop and zigzag gestures or the like or the like.

The application system circuitry which is disposed on the third circuit board is configured to use the processed determinations made by the processing circuitry for an application. The application system circuitry may also be configured to perform similar operations as the processing circuitry . The application system circuitry may be implemented on the host such as host computer as described above. The application system circuitry may also be implemented in an embedded controller such as embedded controller as described above. The application system circuitry may also be coupled to additional circuitry of the system such as peripherals to the host.

In one embodiment the second circuit board includes the processing device which incorporates the sensing circuitry and the processing circuitry . The processing device may be mounted to the substrate of the second circuit board . The processing device may be for example a Programmable System on a Chip PSoC processing device manufactured by Cypress Semiconductor Corporation San Jose Calif. Alternatively the sensing circuitry and the processing circuitry may be implemented in one or more other processing devices known by those of ordinary skill in the art such as a microprocessor or central processing unit a controller special purpose processor digital signal processor DSP an application specific integrated circuit ASIC a field programmable gate array FPGA or the like.

In another embodiment the sensing circuitry and processing circuitry are implemented on two or more separate circuit boards. For example the sensing circuitry may be implemented on one circuit board and the processing circuitry may be implemented on another circuit board both of which are different circuit boards than the first circuit board which includes the sensor array . In another embodiment the processing circuitry is implemented on the third circuit board which contains the application system circuitry . In another embodiment the sensing circuitry the processing circuitry and the application system circuitry are implemented in a single circuit board e.g. second or third circuit boards or .

Coupled to the first circuit board is an additional circuit board circuit board . The second circuit board includes one or more substrates also referred to herein as PCB substrate on which the active electronic components may be disposed e.g. printed mounted or the like . The active electronic components include the sensing circuitry as described above. Alternatively the active electronic components include the sensing circuitry the processing circuitry the application system circuitry or any combination thereof. In one embodiment the active electronic components include sensing electronics PCB which may be printed or mounted on the substrate of the second circuit board a capacitance sensor e.g. IC that includes the one or more capacitance sensors described above and other electronic components e.g. power circuits grounding circuits I O circuits or the like mounted to the substrate of the second circuit board . Alternatively the active electronic components may reside on a common carrier substrate which is mounted to the substrate of the second circuit board such as for example an IC die substrate a multi chip module substrate or the like. In another embodiment the sensing circuitry or alternatively both the sensing circuitry and the processing circuitry may be integrated into the second circuit board such as PCB instead of being mounted to the substrate of the circuit board.

In another embodiment anisotropic conductive adhesive may be used in place of the pressure contact connector to make and maintain the electrical connection between the conductive ink traces and of the lower and upper sides of the sensor array substrate e.g. polymer film substrate and the contacts of the PCB substrate PCB traces . Alternatively other coupling mechanisms and methods known by those of ordinary skill in the art may be used.

The conductive ink traces and may be the conductive material that makes up the sensor elements and or the interconnecting sensor traces of the sensor array . In this embodiment conductive ink trace is disposed on one side of the sensor array substrate and the conductive ink trace is disposed on the other side of the sensor array substrate in a two sided circuit board configuration. In the two sided circuit board configuration a first set of sensor elements e.g. the rows or columns of the sensor array and interconnecting sensor traces are disposed on a first side of the sensor array substrate and a second set of sensor elements e.g. the columns or rows of the sensor array and interconnecting sensor traces are disposed on a second side of the sensor array substrate . Alternatively other configurations of the sensor array are possible such as a single sided circuit board where all the sensor elements are disposed on one side of the sensor array substrate or a two sided circuit board where all the sensor elements are disposed on one side of the sensor array substrate and the interconnecting sensor traces for one of the sets of sensor elements are disposed on a second side of the sensor array substrate making electrical contact with the one set of sensor elements using vias e.g. like the vias illustrated in .

In another embodiment a pair of substrates may be used for the sensor array substrate where the conductive ink is printed on one substrate facing the side of the other substrate that is unprinted. In another embodiment the pair of substrates may be separated by an insulating material with no conductive traces printed on it.

Similar mechanisms as describe above with respect to can be used to couple the first circuit board and the second circuit board such as the pressure contact connector as illustrated in . It should be noted that both the sets of sensor elements and and their interconnecting sensor traces are electrically coupled to the PCB traces of the substrate although only illustrates how the conductive ink is coupled to the PCB trace via conductive ink trace e.g. a small piece of film with conductive ink on the lower side . Alternatively other coupling mechanisms and methods known by those of ordinary skill in the art may be used.

The first circuit board of includes one or more sensor elements and disposed on a single layer non conductive substrate sensor array substrate where one or more sensor traces lie substantially on the same plane as one or more sensor elements and . The structure of the sensor elements and in may be referred to as tapered sensor elements. Alternatively the tapered sensor elements may be used in other types of touch sensing devices for example a linear touch sensor slider a touch sensor button or the like.

The sensor elements and may be the same material as the sensor traces and may be one continuous piece of conductive material. Since the sensor elements and and the sensor traces may be the same continuous piece of conductive material the sensor elements and may also be referred to as sensor traces.

Sensor traces connect the tapered sensor elements and to the active electronic components of the second circuit board on one side of a non conductive substrate sensor array substrate . Due to the structure of the tapered sensor elements and and the layout of the sensor traces as illustrated in sensor traces do not need to intersect with each other to connect to active electronic components of the second circuit board . As such a single type of sensor trace may be used to connect tapered sensor elements and to the active electronic components . For example conductive material such as conductive ink e.g. conductive ink may be used for the sensor elements and and sensor traces that are disposed onto the non conductive substrate. The sensor traces lie substantially on the same plane e.g. lower plane as the sensor elements and since the structure of the tapered sensor element does not require more than one type of sensor trace to connect sensor elements and to active electronic components . It should also be noted that the sensor elements and and sensor traces may include similar or dissimilar conductive material. In another embodiment the sensor elements and may be sensor traces themselves and are directly coupled to the active electronic components without the use of any additional conductive traces e.g. the conductive ink may be the same for sensor element sensor trace and conductive ink trace . In effect the sensor elements and and the sensor traces are the same conductive sensor elements.

In one embodiment the sensor traces are printed on the back side of the overlay e.g. Mylar overlay . Alternatively the sensor traces may be disposed on the circuit board.

The second circuit board is disposed so that the contacts of the second circuit board e.g. carbon printed contacts are facing down making contact with the contacts of the first circuit board . The contacts of the second circuit board make contact with the column printed traces and the short transfer contact which is coupled to the row printed traces . The second circuit board is screwed down with a screw into the touchpad enclosure . By screwing down the second circuit board to the touchpad enclosure the elastomer is under compression making a pressure contact between the contacts of the first and second circuit boards and .

The embodiments of illustrated in and A D illustrate the sensor array substrate of the first circuit board and the substrate of the second circuit board as being in the same plane as each other or in planes that are substantially parallel to each other. Alternatively the sensor array substrate of the first circuit board and the substrate of the second circuit board may be implemented in other configurations such as the embodiments described below with respect to or the like.

In another embodiment a single sheet of material may be used for the one or more substrates and may include both a sensor array and a keyboard matrix. Alternatively one or more substrates may be used in an electronic device that includes both a touchpad and a keyboard matrix on the first circuit board.

As described above the first circuit board including the sensor array substrates and the second circuit board including the substrate are disposed in a plane such that the second circuit board is substantially perpendicular to the plane of the first circuit board . In one embodiment the sensor array substrate includes a bend in the substrate to form an L shaped bend. In one embodiment the bend has an angle of approximately 90 . Alternatively other angles may be used. In another embodiment the second circuit board may be disposed in another plane that is non parallel to the plane of the first circuit board . As illustrated in the two embodiments of the second circuit board may be coupled to either side of the sensor array substrate .

In another embodiment the sensor array includes a bend in the substrate to form an S shaped bend. In this embodiment the S bend starts curves from the plane of a first circuit board toward a second plane of the second circuit board which is substantially parallel to the plane of the first circuit board. However the second plane is above the plane of the first circuit board instead of below like the second circuit board of the embodiments illustrated in .

The embodiments described above include only a sensor array on the first circuit board . In another embodiment the first circuit board may include a sensor array and a keyboard matrix. Alternatively the sensor array and the keyboard matrix may be disposed on separate substrates of different circuit boards and the active electronic components on one or more additional circuit boards.

The keyboard matrix may be a conventional keyboard matrix as described above. For example the keyboard matrix may be constructed as two thin sheets of plastic or polymer e.g. PET with conductive traces e.g. silver ink printed on them arranged such that when pressure is applied at certain locations one trace on one sheet makes an electrical connection with one trace at the corresponding location on the other sheet. The keyboard buttons are each positioned over one of these locations so that when the keyboard button is pressed pressure is applied to the upper sheet at one of these locations causing it to touch a trace on the lower sheet causing an electrical contact to be made. In one embodiment the two sheets are separated by a third sheet with no traces printed and holes located at each of the button positions so that when no pressure is applied to the area above the hole the conductive traces on each of the other two sheets are not in contact.

The traces on the two printed sheets are arranged such that each trace on the upper sheet crosses each trace on the lower sheet over a hole once and only once. In this way each button on the keyboard makes a unique contact between one of the traces on the upper sheet and one of the traces on the lower sheet. In one embodiment one sheet has eight traces referred to as the key matrix Rows and the other sheet has sixteen traces referred to as Columns e.g. 8 16 . Alternatively more or less traces may be used such as 24 e.g. 8 24 . In this way a matrix is formed with each button corresponding to a single point in the matrix.

In one embodiment the keyboard matrix of the first circuit board is connected to the second circuit board using of compression contact such as pressure contact connector . The second to circuit board includes active electronic components which may include a keyboard controller such as a keyboard controller integrated circuit mounted to the substrate of the second circuit board . In another embodiment the row traces on the lower side of the upper sheet contact with short traces on the upper side of the lower sheet and these short connecting traces and also the column traces on the lower sheet contact to contacts on the second circuit board e.g. carbon printed pads . A non conducting rubber elastomer is situated in a groove in the keyboard enclosure and the sheets e.g. layers of the first circuit board are laid over the elastomer with the contacts on the lower sheet facing upwards . The second circuit board may be placed so that the contacts on the second circuit board e.g. carbon printed contact pads are facing the contacts of the lower sheet contacts disposed on the keyboard matrix substrate and the second circuit board may be screwed down with screws into the keyboard enclosure. By screwing down the second circuit board to the keyboard enclosure the elastomer is under compression making a pressure contact between the sheet contacts and the contacts of the second circuit board . Alternatively keyboard matrix of the first circuit board is connected to the second circuit board using other the other embodiments described herein or using other connecting mechanisms known by those of ordinary skill in the art.

Similarly the sensor array of the first circuit board is connected to the second circuit board using but the embodiments described herein or using other connecting mechanisms known by those of ordinary skill in the art. In one embodiment the sensor array of the first circuit board is disposed on one or more substrate. In one embodiment the sensor array is disposed on one of the one or more substrates of the keyboard matrix . Alternatively the sensor array is disposed on one or more substrates that are separate from the one or more substrate of the keyboard matrix .

In one embodiment the first circuit board of includes a keyboard matrix sensing area and a touchpad sensing area. The keyboard matrix sensing area includes the keyboard matrix and the touchpad sensing area includes the sensor array . Alternatively the keyboard matrix sensing area may be disposed on one circuit board e.g. traces of the keyboard matrix may be printed on sheets of polymer film as described above and the touchpad sensing area may be disposed on another circuit board e.g. sensor elements and or interconnecting sensor traces of sensor array may be printed on one or more sheets of polymer film as described above as illustrated below with respect to .

In one embodiment the first circuit board includes three layers two sheets of polymer film e.g. PET with conductive traces printed in a keyboard matrix sensing area arranged such that when pressure is applied at certain locations one trace on one sheet makes an electrical connection with one trace at the corresponding location on the other sheet. The third layer is an additional sheet disposed between the two sheets of polymer film however the third layer has no traces printed on it and includes holes located at each of the button positions so that when no pressure is applied to the area above the hole the conductive traces on each of the other two sheets are not in contact.

In the touchpad sensing area one layer of the three layers may include conductive traces e.g. sensor elements and or interconnecting sensor traces or sensor traces as describe above printed on one or more of the three layers of polymer film. In one embodiment the conductive traces are printed on only the top layer for example a first set of sensor elements and interconnecting sensor traces on one side of the first sheet of polymer film and a second set of sensor elements and interconnecting sensor traces on the other side of the polymer film or both sets of sensor elements are printed on the same side of the first sheet of polymer film. Alternatively the conductive traces are printed on the first and second first and third sheets the second and third sheets or any combination thereof.

In another embodiment the touchpad sensing area of the first circuit board may include more or less layers than the keyboard matrix sensing area of the first circuit board .

In one embodiment the first circuit board includes two layers and the second circuit board includes three layers. Alternatively the first circuit board may include more or less layers than two and the second circuit board may include more or less layers than three.

In another embodiment the sensor array is disposed on a first circuit board touchpad controller IC of the active electronics is disposed on the second circuit board the keyboard controller IC of the active electronic components is disposed on a third circuit board and the keyboard matrix is disposed on a fourth circuit board not illustrated in . Similarly the active electronics of the two circuit boards and may be configured to communicate over conductive traces disposed on the first circuit board or alternatively over conductive traces disposed on the fourth circuit board. Alternatively the active electronics of the two circuit boards and may be configured to communicate over an interconnecting cable.

It should be noted that the locations of the keyboard matrix and the sensor array with respect to one another and with respect to the second circuit board is not limited to the embodiment illustrated in but may include other configurations such as the keyboard matrix being disposed below or to the side of the sensor array of the touchpad.

Embodiments described herein may be implemented in various touch sensing devices with the sensors on one circuit board e.g. PCB and the active electronics on another circuit boards e.g. PCB . In one embodiment the touch sensing device includes a touch panel having one or more touch sensor buttons on the first circuit board and the processing device on the second circuit board. In another embodiment the first circuit board includes sensor elements of a slider. In another embodiment the first circuit board includes sensor elements for one or more buttons and a slider. In another embodiment a touchpad is disposed on the first circuit board and the processing device on the second circuit board. In another embodiment the first circuit board that includes the touchpad includes touch sensor buttons and or sliders. In another embodiment the first circuit board includes a touchpad and a keyboard matrix. Alternatively the embodiments described herein may be implemented in other combinations of touch sensor buttons sliders and touchpads.

In one embodiment the method of operation includes providing a first circuit board including a sensor array of sensor elements of a touchpad wherein the first circuit board comprises no active electronic components to measure capacitance and detecting a presence of a conductive object on the touchpad of the first circuit board using active electronic components of a second circuit board coupled to the first circuit board. The method may further include measuring a capacitance on the sensor array using the active electronic components of the second circuit board and processing the measured capacitance. In another embodiment the first circuit board comprises a keyboard matrix and the method further includes detecting a button press on the keyboard matrix.

In one embodiment the one or more substrates may be a single sheet of polymer film e.g. PET printed with conductive ink to form the sensor elements and or the interconnecting sensor traces. Alternatively other materials may be used for the one or more substrates. In one embodiment the conductive ink includes silver. Alternatively the conductive ink may include other materials such as carbon.

In one embodiment the sensor array may be disposed on a single sided circuit board. In another embodiment the sensor array may be disposed on a two sided circuit board where a first set of sensor elements and interconnecting sensor traces are printed on a first side and a second set of sensor elements and interconnecting sensor traces are printed on a second side. In another embodiment all the sensor elements and interconnecting sensor traces are disposed on the same side of the circuit board. In another embodiment all the sensor elements and one set of the interconnecting sensor traces is printed on a first side and the second set of interconnecting sensor traces is printed on a second side. The second set of interconnecting sensor traces make electrical contact with a second set of sensor elements using vias.

Embodiments of the present invention described herein include various operations. These operations may be performed by hardware components software firmware or a combination thereof. As used herein the term coupled to may mean coupled directly or indirectly through one or more intervening components. Any of the signals provided over various buses described herein may be time multiplexed with other signals and provided over one or more common buses. Additionally the interconnection between circuit components or blocks may be shown as buses or as single signal lines. Each of the buses may alternatively be one or more single signal lines and each of the single signal lines may alternatively be buses.

Certain embodiments may be implemented as a computer program product that may include instructions stored on a machine readable medium. These instructions may be used to program a general purpose or special purpose processor to perform the described operations. A machine readable medium includes any mechanism for storing or transmitting information in a form e.g. software processing application readable by a machine e.g. a computer . The machine readable medium may include but is not limited to magnetic storage medium e.g. floppy diskette optical storage medium e.g. CD ROM magneto optical storage medium read only memory ROM random access memory RAM erasable programmable memory e.g. EPROM and EEPROM flash memory electrical optical acoustical or other form of propagated signal e.g. carrier waves infrared signals digital signals etc. or another type of medium suitable for storing electronic instructions.

Additionally some embodiments may be practiced in distributed computing environments where the machine readable medium is stored on and or executed by more than one computer system. In addition the information transferred between computer systems may either be pulled or pushed across the communication medium connecting the computer systems.

Although the operations of the method s herein are shown and described in a particular order the order of the operations of each method may be altered so that certain operations may be performed in an inverse order or so that certain operation may be performed at least in part concurrently with other operations. In another embodiment instructions or sub operations of distinct operations may be in an intermittent and or alternating manner.

In the foregoing specification the invention has been described with reference to specific exemplary embodiments thereof. It will however be evident that various modifications and changes may be made thereto without departing from the broader spirit and scope of the invention as set forth in the appended claims. The specification and drawings are accordingly to be regarded in an illustrative sense rather than a restrictive sense.


---

title: Forwarding one or more preferences during call forwarding
abstract: In one embodiment, a telephony system includes a memory that stores one or more call preferences of a user, and a central call routing entity that enables a user to set a call forwarding rule. In accordance with the call forwarding rule and in response to an incoming call to a first telephone device of the user, the call routing entity routing the incoming call to a second telephone device along with a message indicating that the one or more call preferences of the user are stored in the memory. The one or more call preferences are then fetched and applied at the second telephone device. It is emphasized that this abstract is provided to comply with the rules requiring an abstract that will allow a searcher or other reader to quickly ascertain the subject matter of the technical disclosure.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08300627&OS=08300627&RS=08300627
owner: Cisco Technology, Inc.
number: 08300627
owner_city: San Jose
owner_country: US
publication_date: 20060802
---
The present invention relates generally to the fields of telecommunications and telephony systems more specifically to telephony networks that include call management systems or advanced call processing features.

Many telephony systems include advanced features that enhance user capabilities. For instance call waiting is a well known feature of telephony systems that notifies a caller when another call is coming in during an active call. Caller ID is another well known feature that displays the originating telephone number and the subscriber s name associated with that number to the called party before the called party answers a telephone call. Still another configurable feature is call forwarding wherein incoming calls to a particular directory number are automatically routed to another number. A number of variations to the basic call forwarding feature also exist. By way of example call forward busy is a feature that re routes incoming calls to an alternate line only when the first line is in use. Similarly call forward no answer is a configurable feature that re routes incoming calls from one phone to another phone when the first phone is not answered after a certain number of rings.

A number of commercial communication system products are available that combine call processing and Internet Protocol IP telephony with many of the functions of a conventional IP private branch exchange PBX system for business enterprises. For instance Cisco s CallManager is a software based call processing component that extends enterprise telephony features and functions to packet telephony network devices such as IP phones media processing devices voice over IP VoIP gateways and multimedia applications. Additional data voice and video services such as unified messaging multimedia conferencing collaborative contact centers and interactive multimedia response systems may interact with the IP telephony solution through the CallManager open telephony application programming interface API . In a version of the CallManager call processing software users may set various preferences on their telephone device such as incoming call ring tones for different caller IDs and or call priority e.g. siren for important calls chirp for medium priority calls etc. call display settings for displaying pictures or photos of a caller etc. However when a user forwards their calls to another telephone device these preference settings are not applied at the forwarded destination telephone device.

A system and method that enables users to forward their call preferences such as alerting ring tones alerting caller ID preferences such as display of numbers photos etc. and the like to a target phone connected via the same PBX or a different PBX is described. In the following description specific details are set forth such as device types system configurations methods etc. in order to provide a thorough understanding of the present invention. However persons having ordinary skill in the relevant arts will appreciate that these specific details may not be needed to practice the present invention.

In other embodiments CFPR may be resident on each user s PBX e.g. IP PBX system or on a single IP PBX system that handles call management functions for an organization or enterprise. By way of example shows an IP PBX system with a CMS program that handles call routing processing and other IP telephony functions for users of telephone devices a PC with built in softphone capabilities and a cellular telephone device connected with IP PBX via a wireless network . IP PBX is connected with a database or CFPR that stores preferences of users of telephone devices those preference including things such as alerting ring tone display preference priority call ring tones etc. In the architecture of an incoming call intended for any of devices may be forwarded to another telephone device connected to IP PBX along with one or more user preferences e.g. alerting ring tone fetched from CFPR . These preferences are then immediately applied at the target telephone device.

Continuing with the examples of practitioners in the art will appreciate that in still another embodiment user preferences may be stored in a variety of other hardware e.g. RAM or firmware components connected with IP network . In certain embodiments user preferences may be incorporated into memory or storage components of IP PBX system and or or IP PBX in or be integrated into the user preferences or profile settings typically provided for in CMS .

According to one embodiment of the present invention when Joe sets up a call forwarding rule on telephone device such that his calls are forwarded to Sheila s telephone device all or a selected subset of Joe s call preferences are uploaded from CFPR onto IP PBX . At a later time when IP PBX receives an incoming call to Joe s telephone device IP PBX forwards that call to Sheila s telephone device and includes information in the call control message indicating that user preferences for that call are stored on the forwarding PBX i.e. IP PBX .

Note that in an alternative embodiment Joe s call preferences may be stored on his telephone device rather than on CFPR and uploaded to IP PBX when Joe configures his telephone device with a call forwarding rule. In still another implementation Joe s call preferences are not uploaded from CFPR to IP PBX at the time that Joe configures telephone device to forward calls to Shelia s telephone number. Instead when IP PBX receives an incoming call to Joe s telephone device IP PBX forwards that call to Sheila s telephone device and includes information in the call control message indicating that user preferences for that call are stored on CFPR which may be accessed via server on IP network .

Regardless of where user preferences are stored or how user preferences are uploaded and accessed information in the call control message sent to the target i.e. forwarded telephone device may include instructions on how to download the user s preferences e.g. either from the forwarding IP PBX CFPR or elsewhere. In an alternative embodiment the user s call preferences may be included in the call control message header with instructions regarding how to download media files such as ring tones specified in the user s preferences pictures photos etc. For example the call control message may comprise a Session Initiation Protocol SIP message with a SIP header field that includes a Uniform Resource Locator URL with authentication information for downloading media files. This latter embodiment is described in more detail later below.

When Sheila s telephone device receives the forwarded call intended for Joe it fetches Joe s call preferences along with any media files for ring tones according to instructions information received and then applies those preferences to the current call. For example Joe s user preferences may specify that a traditional Italian song or melody is played as a ring tone for his calls whereas Sheila s usual ring tone may consist of the start of Beethoven s Fifth symphony. As a result when a call forwarded from Joe s telephone device rings on Sheila s telephone device it does so with an alerting ring tone specified by Joe s user preferences e.g. the traditional Italian song . Thus the specific alerting ring tone that Sheila and Joe both hear allows each of them to immediately identify the intended recipient of the current call.

As discussed above a variety of different network architecture configurations and specific implementations may be utilized to achieve forwarding of user preferences in conjunction with forwarding of that user s calls. For instance in another embodiment when Joe sets up his call forwarding rule to forward his calls to Sheila s telephone device his call preferences are immediately sent directly to Sheila s telephone device along with instructions on downloading any media files for ring tones. In response to the instructions Sheila s telephone device may fetch Joe s call preferences and save them locally along with any media files downloaded either from Joe s telephone device CFPR or elsewhere. Thereafter any time when IP PBX forwards an incoming call intended for Joe to Sheila s telephone device IP PBX may include information e.g. contained in a call control message header identifying the call as such. In response Sheila s telephone device retrieves Joe s user preferences stored locally and applies those preferences e.g. a traditional Italian song for the alerting ring tone for handling the forwarded call intended for Joe.

In a more specific embodiment Sheila s telephone device may ask her permission before saving Joe s user preferences and media files locally. In still another embodiment Sheila s telephone device includes software or firmware that permits her to set up rules specific to the handling of forwarded calls. For instance she may configure telephone device such that telephone device only saves user preferences for forwarded calls locally but does not immediately fetch and download media files e.g. ring tone specified by the user preferences. Instead telephone device fetches and downloads media files e.g. from a repository server for the user preferences at the time it receives a forwarded call.

In instances where Sheila s phone already has the ring tone specified in Joe s forwarded preferences stored locally it simply plays that ring tone when a forwarded call intended for Joe arrives. In a case where Sheila s telephone device attempts to download a ring tone or media file from a server and is unsuccessful telephone device may utilize a default ring tone when a forwarded call for Joe arrives.

In yet another embodiment the forwarding of preferences is transitive. In other words preferences are carried forward along with the call regardless of how many times the call gets forwarded. By way of example if Joe forwards his incoming calls to Sheila s telephone and then from Sheila s device Joe later forwards his calls to Bob s telephone then Bob s telephone device would receive or fetch Joe s user preferences and apply them to the forwarded call.

It should be understood that the various embodiments of the present invention described herein are not limited to the user of VoIP telephone devices or networks. Any telephone device or network capable of packet based message transmission may be utilized in conjunction with the present invention. For instance telephone devices and networks compatible with the Integrated Services Digital Network ISDN standard may be utilized in certain embodiments. Similarly the network configurations systems and methods described herein in accordance with different embodiments are not limited to the use of IP PBX systems. Any central call routing entity such as a PBX cellular network service provider network etc. may be adapted or modified to implement the functions and capabilities described herein.

Once user B s telephone device obtains e.g. downloads user A s preferences those preferences are utilized or applied to the forwarded call on user B s telephone device block . In other words according to the embodiment of the preferences or properties are fetched dynamically e.g. when call alerting occurs and then utilized or applied to the forwarded call. For example if user A s preferences include a certain song as an alerting ring tone that song will be played on user B s telephone device rather than user B s normal or preset alerting ring tone. Other common user preferences include specific sounds or tones e.g. siren chirp etc. for indicating call priority levels photos or video clips displayed on the telephone device e.g. a photograph or captured image of the incoming caller etc.

In certain implementations the SIP message header may also include the specific ring tone or media files to be applied played on user B s telephone. In instances where the SIP header does not contain the ring tone or other media files specified in user A s preferences and user B s telephone device similarly does not have the specified ring tone or media files stored locally user B s telephone device may download the needed ring tone media files from another entity e.g. the PBX system central repository etc. block . In still another embodiment where user B s telephone device is missing some capabilities as compared to user A s telephone device then user A is informed of the missing capabilities that could not be transferred. Conversely in cases where user B s telephone device has additional capabilities over user A s telephone device then user A may be informed of those additional capabilities and be allowed to set up his preferences to take advantage of those capabilities at the time that he sets up his call forwarding.

Once the preferences properties have been received or obtained they are utilized or applied to the forwarded call on user B s telephone device block .

It should be understood that elements of the present invention may also be provided as a computer program product which may include a machine readable medium having stored thereon instructions which may be used to program a computer e.g. a processor or other electronic device to perform a sequence of operations. Alternatively the operations may be performed by a combination of hardware and software. The machine readable medium may include but is not limited to floppy diskettes optical disks CD ROMs and magneto optical disks ROMs RAMs EPROMs EEPROMs magnet or optical cards or other type of machine readable medium suitable for storing electronic instructions.

Additionally although the present invention has been described in conjunction with specific embodiments numerous modifications and alterations are well within the scope of the present invention. Accordingly the specification and drawings are to be regarded in an illustrative rather than a restrictive sense.


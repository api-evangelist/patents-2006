---

title: System and method for testing state retention circuits
abstract: This invention discloses a system and method for testing a plurality of state retention circuits in an integrated circuit (IC) chip, that comprises a built-in test circuit configured to invoke a clock, a save and a restore signal, and a plurality of serially connected data latches receiving the clock, save and restore signals, wherein each data latch employs one of the plurality of state retention circuits, wherein the plurality of data latches save their existing data in their corresponding state retention circuits upon an assertion of the save signal, restore the data from the plurality of state retention circuits back to their corresponding data latches upon an assertion of the restore signal, and shifting the existing data along the series of the data latches one latch a cycle of the clock signal.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07596737&OS=07596737&RS=07596737
owner: Taiwan Semiconductor Manufacturing Co., Ltd.
number: 07596737
owner_city: Hsin-Chu
owner_country: TW
publication_date: 20061110
---
The present invention relates generally to integrated circuit IC design and more particularly to power supply management for IC memory devices.

A need for low power electronics has been driven by portable applications packing density of ICs and conservation of energy. Particularly in portable applications one way to reduce power consumption and enhance battery life is to shut off most of the circuits in an IC chip during a sleep mode except those that hold data for subsequent wake up operations.

Since the SAVE and RESTORE signals are generated inside the IC chip conventional automatic test pattern generation ATPG methods cannot access and invoke them so that the conventional ATPG method cannot test the state retention circuit i.e. the balloon latch . As such what is needed are a built in circuit and corresponding testing methodology that invoke the save and restore functions of the state retention circuit and writes in as well as reads out test patterns for testing them.

This invention discloses a system and method for testing a plurality of state retention circuits in an integrated circuit IC chip. According to one aspect of the present invention the system comprises a built in test circuit configured to invoke a clock a save and a restore signal and a plurality of serially connected data latches receiving the clock save and restore signals wherein each data latch employs one of the plurality of state retention circuits wherein the plurality of data latches save their existing data in their corresponding state retention circuits upon an assertion of the save signal restore the data from the plurality of state retention circuits back to their corresponding data latches upon an assertion of the restore signal and shifting the existing data along the series of the data latches one latch a cycle of the clock signal.

According to another aspect of the present invention the method comprising following sequential steps shifting a first test pattern into a plurality of serially connected data latches wherein each data latch employs one of the plurality of state retention circuits saving the first test pattern in the plurality of data latches to their corresponding state retention circuits entering a sleep mode wherein power supplies to the plurality of data latches is shut off while to the plurality of state retention circuits remain exiting the sleep mode wherein the power supplies are restored shifting a second test pattern into the plurality of data latches wherein the second test pattern is complementary to the first test pattern restoring the first test pattern saved in the plurality of state retention circuits back into the plurality of data latches obtaining a third test pattern by shifting out the data from the plurality of data latches and comparing the third test pattern with the first test pattern wherein if the two test patterns matches the plurality of state retention circuits passes a test otherwise it fails.

The construction and method of operation of the invention however together with additional objectives and advantages thereof will be best understood from the following description of specific embodiments when read in connection with the accompanying drawings.

The present invention discloses system and method for testing state retention circuit in an integrated circuit IC chip.

Referring to the block may be implemented as a multiplexer for selecting between a SCAN IN signal and the data supplied by the data generator i.e. a test pattern can either be supplied by an outside tester or be supplied by the data generator . In case the test pattern is supplied by the data generator that same test pattern is also passed to the data comparator for being compared with the data shifted out from the data latches 0 n . In case the test pattern is supplied by the outside tester that test pattern is also stored by the outside tester for comparing with the data shifted out from the data latches 0 n . In this case the shifted out data is sent to the TAP directly at node SCAN OUT without going through the data comparator .

Referring to an output of the multiplexer is coupled to an input of a first data latch 0 in the series of latches 0 n . An output of the first latch 0 is then coupled to an input of a second latch 2 and so on and so forth until the last latch n is reached. The CLK signal is a special clock signal for synchronizing and shifting the data latches 0 n during the test mode operation. It may be different from the chip main clock signals. In every CLK cycle data stored in the data latches 0 n shift from top to bottom by one latch i.e. data in the data latch 0 will be shifted to data latch 1 data in data latch n 1 data will be shifted to the data latch n and data in data latch n will be shifted out to either data comparator or directly to the TAP. Data stored in the data latches 0 n will be shifted out one by one and after n 1 number of cycles all of them will be shifted out.

Referring to upon an assertion of the Save signal data stored in the data latches 0 n will be written into their corresponding state retention circuit shown in . An asserting of the SLEEP signal switches off power supplies to the main circuits except the state retention circuit when the chip is about to enter a sleep mode. When the testing system leaving the sleeping mode an assertion of the RESTORE signal restores the data stored in the state retention latches back to their corresponding data latches. The SRT signal is coupled to the blocks and to control them to response to the test mode. For instance when the testing system enters the testing mode The SRT signal is asserted which will activate the data generator to generate a predetermined test pattern.

Although the embodiment uses only all 1 as a test pattern one having skill in the art would appreciate that other test patterns may also achieve the goal of testing data retention latches. For instance one case involves first shifting in all 0 and then overwriting it with all 1 . In another case the test pattern may be arbitrary as long as the overwritten test patter complementary to it and the outside tester has knowledge about the test pattern.

The above illustration provides many different embodiments or embodiments for implementing different features of the invention. Specific embodiments of components and processes are described to help clarify the invention. These are of course merely embodiments and are not intended to limit the invention from that described in the claims.

Although the invention is illustrated and described herein as embodied in one or more specific examples it is nevertheless not intended to be limited to the details shown since various modifications and structural changes may be made therein without departing from the spirit of the invention and within the scope and range of equivalents of the claims. Accordingly it is appropriate that the appended claims be construed broadly and in a manner consistent with the scope of the invention as set forth in the following claims.


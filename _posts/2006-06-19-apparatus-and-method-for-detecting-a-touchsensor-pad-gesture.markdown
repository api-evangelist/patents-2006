---

title: Apparatus and method for detecting a touch-sensor pad gesture
abstract: An apparatus and method for distinguishing a particular gesture from among multiple gestures, performed by a conductive object on the sensing device, using fewer than three time intervals. The apparatus may include a sensing device to detect a presence of a conductive object, and a processing device, coupled to the sensing device, to distinguish the multiple gestures. The method may include distinguishing between a tap gesture, a double tap gesture, a drag gesture, and a motion gesture.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08169421&OS=08169421&RS=08169421
owner: Cypress Semiconductor Corporation
number: 08169421
owner_city: San Jose
owner_country: US
publication_date: 20060619
---
This invention relates to the field of user interface devices and in particular to touch sensor devices.

Computing devices such as notebook computers personal data assistants PDAs and mobile handsets have user interface devices which are also known as human interface device HID . One user interface device that has become more common is a touch sensor pad. A basic notebook touch sensor pad emulates the function of a personal computer PC mouse. A touch sensor pad is typically embedded into a PC notebook for built in portability. A touch sensor pad replicates mouse x y movement by using two defined axes which contain a collection of sensor elements that detect the position of a conductive object such as a finger. Mouse right left button clicks can be replicated by two mechanical buttons located in the vicinity of the touchpad or by tapping commands on the touch sensor pad itself. The touch sensor pad provides a user interface device for performing such functions as positioning a cursor or selecting an item on a display. These touch sensor pads may include multi dimensional sensor arrays for detecting movement in multiple axes. The sensor array may include a one dimensional sensor array detecting movement in one axis. The sensor array may also be two dimensional detecting movements in two axes.

Another user interface device that has become more common is a touch screen. Touch screens also known as touchscreens touch panels or touchscreen panels are display overlays which are typically either pressure sensitive resistive electrically sensitive capacitive acoustically sensitive SAW surface acoustic wave or photo sensitive infra red . The effect of such overlays allows a display to be used as an input device removing the keyboard and or the mouse as the primary input device for interacting with the display s content. Such displays can be attached to computers or as terminals to networks. There are a number of types of touch screen technology such as optical imaging resistive surface wave capacitive infrared dispersive signal and strain gauge technologies. Touch screens have become familiar in retail settings on point of sale systems on ATMs on mobile handsets on game consoles and on PDAs where a stylus is sometimes used to manipulate the graphical user interface GUI and to enter data.

One difference between touch sensor sliders and touch sensor pads may be how the signals are processed after detecting the conductive objects. Another difference is that the touch sensor slider is not necessarily used to convey absolute positional information of a conducting object e.g. to emulate a mouse in controlling cursor positioning on a display but rather may be used to actuate one or more functions associated with the sensing elements of the sensing device.

In addition to detecting motion of the conductive object in one or two axes to control cursor movement these conventional touch sensor pads have been designed to recognize gesture features. One conventional touch sensor pad includes methods for recognizing gestures made by a conductive object on a touch sensor pad as taught by U.S. Pat. No. 6 380 931 to Gillespie et al. This conventional touch sensor pad recognizes tapping pushing hopping and zigzag gestures by analyzing the position pressure and movement of the conductive object on the sensor pad during the time of a suspected gesture and sends signals to a host indicating the occurrence of these gestures.

This conventional touch sensor pad includes a capacitive position sensing system which determines the position of the conductive object such as a finger that is proximate to or touching a sensing surface. This conventional touch sensor pad also obtains the finger pressure by summing the capacitances measured on sense lines. A finger is present if the pressure exceeds a suitable threshold value. The basic tap gesture is a quick tap of the finger on the pad. Such a tap of short duration involving little or no X or Y finger motion during the tap is presented to the host as a brief click of the mouse button. If a multi button mouse is simulated the tap gesture may simulate a click of the primary mouse button or the button to be simulated may be user selectable using a shift key control panel or other known means. Two taps in rapid succession are presented to the host as a double click of the button. In general multiple taps translate into multiple clicks.

In addition because it is impossible to tell whether a finger stroke will be a valid tap while the finger is still down as opposed to a cursor motion this conventional touch sensor pad does not report a button click until the finger is lifted. This delay is not generally noticeable to the user since taps by definition are very brief strokes.

As described above conventional touch sensor pads use qualifiers such as time pressure and motion to determine gestures on the touch sensor pad. For example the conventional touch sensor pad of U.S. Pat. No. 6 380 931 uses time pressure and motion to determine a tap gesture. If a finger stroke is less than a specified amount of time e.g. TapTime does not move outside a specified radius e.g. TapRadius and is applied such that the measured pressures is above a specified threshold e.g. Ztap threshold for at least some part of the stroke a tap gesture is recognized. The conventional touch sensor pad discerns the difference between normal track sensor pad motion and a tap gesture using timing. A tap gesture is recognized when the time the conductive object is present on the touch sensor pad is less than a reference amount of time and conversely a motion gesture is recognized e.g. no tap gesture is recognized when the time the conductive object is present on the touch sensor pad is more than the reference amount of time.

As mentioned above the timing of the finger presence absence is one of several factors which are used to discern the difference between normal motion gestures and the other gestures such as tap double tap or drag gestures. As illustrated above with respect to three or more time intervals are used to distinguish one type of gesture from another and typical implementations use three or more separate times to measure these intervals. The states of the conventional touch sensor pad change upon detection of presence or absence of the finger. For example first time interval is started when the finger pressure is above a certain threshold e.g. Ztap the second time interval starts when the finger is removed from the touch sensor pad and the third time interval starts when the finger returns to the touch sensor pad if at all . All of the time intervals start and stop upon detection of the presence or absence of the finger.

The use of three or more time periods in gesture recognition requires more timers in a circuit such as a microcontroller unit that implements the touch sensor pad. In addition the user is able to configure the touch sensor pad to suit the user s preferences. Having three or more variables to adjust in tuning the function of the touch sensor pad may be confusing rendering the configuration feature less useful.

Described herein is a method and apparatus for distinguishing a particular gesture from among multiple gestures performed by a conductive object on the sensing device using fewer than three time intervals. The following description sets forth numerous specific details such as examples of specific systems components methods and so forth in order to provide a good understanding of several embodiments of the present invention. It will be apparent to one skilled in the art however that at least some embodiments of the present invention may be practiced without these specific details. In other instances well known components or methods are not described in detail or are presented in simple block diagram format in order to avoid unnecessarily obscuring the present invention. Thus the specific details set forth are merely exemplary. Particular implementations may vary from these exemplary details and still be contemplated to be within the spirit and scope of the present invention.

Embodiments of a method and apparatus are described to distinguish a particular gesture from among multiple gestures performed by a conductive object on the sensing device using fewer than three time intervals. In one embodiment the method may include distinguishing between a tap gesture a double tap gesture a drag gesture and a motion gesture. Alternatively other gestures may be distinguished. In one embodiment the apparatus may include a sensing device to detect a presence of a conductive object and a processing device coupled to the sensing device to distinguish a particular gesture from among multiple gestures using fewer than three time intervals.

The embodiments herein describe an improved method of distinguishing touch sensor pad gestures that uses only two time intervals. This may be done using a single timer or alternatively two timers. When a finger or other conductive object first touches the touchpad t a timer is started. If the finger remains on the touchpad after a first timeout period t then no gesture is detected and the touch sensor pad or touch sensor pad system begins using the movement of the finger across the touch sensor pad to provide as input positioning data such as to control a cursor on a display. When motion is detected and no other gesture is detected it can be said that the touch sensor pad detects a motion gesture. If the finger moves away from the touchpad before the first timeout and does not touch the touch sensor pad by the end of a second timeout period t then a single tap gesture is detected. Conventionally a single tap gesture is used to mimic the behavior of a left mouse click. If the finger moves away from the touchpad before the first timeout then touches the touch sensor pad again and then moves away from the touchpad by the end of a second timeout period t then a double tap gesture is detected. Conventionally a double tap gesture is used to mimic the behavior of a double left mouse click. If the finger moves away from the touchpad before the first timeout and then touches the touch sensor pad again and then remains on the touchpad at the end of a second timeout period t then a drag gesture also referred to as a tap and drag gesture is detected. Conventionally a drag gesture is used to mimic the behavior of a holding down the left button of a mouse while moving the mouse.

As described above in the conventional touch sensor pad the timing of finger touches of the touch sensor pad is one of several criteria used to distinguish between various gestures and normal x y touchpad movement. Similarly the embodiments described herein may be used as one of several criteria for detecting gestures or as the sole criterion for detecting a gestures and distinguishing between different gestures .

The processing device may also include an analog block array not illustrated . The analog block array is also coupled to the system bus. Analog block array also may be configured to implement a variety of analog circuits e.g. ADC analog filters etc. using in one embodiment configurable UMs. The analog block array may also be coupled to the GPIO .

As illustrated capacitance sensor may be integrated into processing device . Capacitance sensor may include analog I O for coupling to an external component such as touch sensor pad touch sensor slider touch sensor buttons and or other devices. Capacitance sensor and processing device are described in more detail below.

It should be noted that the embodiments described herein are not limited to touch sensor pads for notebook implementations but can be used in other capacitive sensing implementations for example the sensing device may be a touch screen a touch sensor slider or a touch sensor button e.g. capacitance sensing button . It should also be noted that the embodiments described herein may be implemented in other sensing technologies than capacitive sensing such as resistive optical imaging surface wave infrared dispersive signal and strain gauge technologies. Similarly the operations described herein are not limited to notebook cursor operations but can include other operations such as lighting control dimmer volume control graphic equalizer control speed control or other control operations requiring gradual adjustments. It should also be noted that these embodiments of capacitive sensing implementations may be used in conjunction with non capacitive sensing elements including but not limited to pick buttons sliders ex. display brightness and contrast scroll wheels multi media control ex. volume track advance etc handwriting recognition and numeric keypad operation.

In one embodiment the electronic system includes a touch sensor pad coupled to the processing device via bus . Touch sensor pad may include a multi dimension sensor array. The multi dimension sensor array includes multiple sensor elements organized as rows and columns. In another embodiment the electronic system includes a touch sensor slider coupled to the processing device via bus . Touch sensor slider may include a single dimension sensor array. The single dimension sensor array includes multiple sensor elements organized as rows or alternatively as columns. In another embodiment the electronic system includes a touch sensor button coupled to the processing device via bus . Touch sensor button may include a single dimension or multi dimension sensor array. The single or multi dimension sensor array includes multiple sensor elements. For a touch sensor button the sensor elements may be coupled together to detect a presence of a conductive object over the entire surface of the sensing device. Alternatively the touch sensor button has a single sensor element to detect the presence of the conductive object. In one embodiment the touch sensor button may be a capacitance sensor element. Capacitance sensor elements may be used as non contact switches. These switches when protected by an insulating layer offer resistance to severe environments.

The electronic system may include any combination of one or more of the touch sensor pad touch sensor slider and or touch sensor button . In another embodiment the electronic system may be used in a touch screen display. In another embodiment the electronic system may also include non capacitance sensor elements coupled to the processing device via bus . The non capacitance sensor elements may include buttons light emitting diodes LEDs and other user interface devices such as a mouse a keyboard or other functional keys that do not require capacitance sensing. In one embodiment buses and may be a single bus. Alternatively these buses may be configured into any combination of one or more separate buses.

The processing device may also provide value added functionality such as keyboard control integration LEDs battery charger and general purpose I O as illustrated as non capacitance sensor elements . Non capacitance sensor elements are coupled to the GPIO .

Processing device may include internal oscillator clocks and communication block . The oscillator clocks block provides clock signals to one or more of the components of processing device . Communication block may be used to communicate with an external component such as a host processor via host interface I F line . Alternatively processing block may also be coupled to embedded controller to communicate with the external components such as host . Interfacing to the host can be through various methods. In one exemplary embodiment interfacing with the host may be done using a standard PS 2 interface to connect to an embedded controller which in turn sends data to the host via low pin count LPC interface. In some instances it may be beneficial for the processing device to do both touch sensor pad and keyboard control operations thereby freeing up the embedded controller for other housekeeping functions. In another exemplary embodiment interfacing may be done using a universal serial bus USB interface directly coupled to the host via host interface line . Alternatively the processing device may communicate to external components such as the host using industry standard interfaces such as USB PS 2 inter integrated circuit C bus or system packet interfaces SPI . The host and or embedded controller may be coupled to the processing device with a ribbon or flex cable from an assembly which houses the sensing device and processing device.

In one embodiment the processing device is configured to communicate with the embedded controller or the host to send and or receive data. The data may be a command or alternatively a signal. In an exemplary embodiment the electronic system may operate in both standard mouse compatible and enhanced modes. The standard mouse compatible mode utilizes the HID class drivers already built into the Operating System OS software of host . These drivers enable the processing device and sensing device to operate as a standard cursor control user interface device such as a two button PS 2 mouse. The enhanced mode may enable additional features such as scrolling reporting absolute position or disabling the sensing device such as when a mouse is plugged into the notebook. Alternatively the processing device may be configured to communicate with the embedded controller or the host using non OS drivers such as dedicated touch sensor pad drivers or other drivers known by those of ordinary skill in the art.

In other words the processing device may operate to communicate data e.g. commands or signals using hardware software and or firmware and the data may be communicated directly to the processing device of the host such as a host processor or alternatively may be communicated to the host via drivers of the host such as OS drivers or other non OS drivers. It should also be noted that the host may directly communicate with the processing device via host interface .

In one embodiment the data sent to the host from the processing device includes click double click movement of the cursor scroll up scroll down scroll left scroll right step Back and step Forward. Alternatively other user interface device commands may be communicated to the host from the processing device . These commands may be based on gestures occurring on the sensing device that are recognized by the processing device such as tap push hop and zigzag gestures. Alternatively other commands may be recognized. Similarly signals may be sent that indicate the recognition of these operations.

In particular a tap gesture for example may be when the finger e.g. conductive object is on the sensing device for less than a threshold time. If the time the finger is placed on the touchpad is greater than the threshold time it may be considered to be a movement of the cursor in the x or y axes. Scroll up scroll down scroll left and scroll right step back and step forward may be detected when the absolute position of the conductive object is within a pre defined area and movement of the conductive object is detected.

Processing device may reside on a common carrier substrate such as for example an integrated circuit IC die substrate a multi chip module substrate or the like. Alternatively the components of processing device may be one or more separate integrated circuits and or discrete components. In one exemplary embodiment processing device may be a Programmable System on a Chip PSoC processing device manufactured by Cypress Semiconductor Corporation San Jose Calif. Alternatively processing device may be one or more other processing devices known by those of ordinary skill in the art such as a microprocessor or central processing unit a controller special purpose processor digital signal processor DSP an application specific integrated circuit ASIC a field programmable gate array FPGA or the like. In an alternative embodiment for example the processing device may be a network processor having multiple processors including a core unit and multiple microengines. Additionally the processing device may include any combination of general purpose processing device s and special purpose processing device s .

It should also be noted that the embodiments described herein are not limited to having a configuration of a processing device coupled to a host but may include a system that measures the capacitance on the sensing device and sends the raw data to a host computer where it is analyzed by an application. In effect the processing that is done by processing device may also be done in the host.

In one embodiment the method and apparatus described herein may be implemented in a fully self contained touch sensor pad which outputs fully processed x y movement and gesture data signals or data commands to a host. In another embodiment the method and apparatus may be implemented in be a touch sensor pad which outputs x y movement data and also finger presence data to a host and where the host processes the received data to detect gestures. In another embodiment the method and apparatus may be implemented in a touch sensor pad which outputs raw capacitance data to a host where the host processes the capacitance data to compensate for quiescent and stray capacitance and calculates x y movement and detects gestures by processing the capacitance data. Alternatively the method and apparatus may be implemented in a touch sensor pad which outputs pre processed capacitance data to a host where the touchpad processes the capacitance data to compensate for quiescent and stray capacitance and the host calculates x y movement and detects gestures from the pre processed capacitance data.

In one embodiment the electronic system that includes the embodiments described herein may be implemented in a conventional laptop touch sensor pad. Alternatively it may be implemented in a wired or wireless keyboard integrating a touch sensor pad which is itself connected to a host. In such an implementation the processing described above as being performed by the host may be performed in part or in whole by the keyboard controller which may then pass fully processed pre processed or unprocessed data to the system host. In another embodiment the embodiments may be implemented in a mobile handset e.g. cell phone or other electronic devices where the touch sensor pad may operate in one of two or more modes. For example the touch sensor pad may operate either as a touch sensor pad for x y positioning and gesture recognition or as a keypad or other array of touch sensor buttons and or sliders.

Capacitance sensor may be integrated into the IC of the processing device or alternatively in a separate IC. Alternatively descriptions of capacitance sensor may be generated and compiled for incorporation into other integrated circuits. For example behavioral level code describing capacitance sensor or portions thereof may be generated using a hardware descriptive language such as VHDL or Verilog and stored to a machine accessible medium e.g. CD ROM hard disk floppy disk etc. . Furthermore the behavioral level code can be compiled into register transfer level RTL code a netlist or even a circuit layout and stored to a machine accessible medium. The behavioral level code the RTL code the netlist and the circuit layout all represent various levels of abstraction to describe capacitance sensor .

It should be noted that the components of electronic system may include all the components described above. Alternatively electronic system may include only some of the components described above.

In one embodiment electronic system may be used in a notebook computer. Alternatively the electronic device may be used in other applications such as a mobile handset a personal data assistant PDA a keyboard a television a remote control a monitor a handheld multi media device a handheld video player a handheld gaming device or a control panel.

In one embodiment capacitance sensor may be a capacitive switch relaxation oscillator CSR . The CSR may have an array of capacitive touch switches using a current programmable relaxation oscillator an analog multiplexer digital counting functions and high level software routines to compensate for environmental and physical switch variations. The switch array may include combinations of independent switches sliding switches e.g. touch sensor slider and touch sensor pads implemented as a pair of orthogonal sliding switches. The CSR may include physical electrical and software components. The physical component may include the physical switch itself typically a pattern constructed on a printed circuit board PCB with an insulating cover a flexible membrane or a transparent overlay. The electrical component may include an oscillator or other means to convert a changed capacitance into a measured signal. The electrical component may also include a counter or timer to measure the oscillator output. The software component may include detection and compensation software algorithms to convert the count value into a switch detection decision. For example in the case of slide switches or X Y touch sensor pads a calculation for finding position of the conductive object to greater resolution than the physical pitch of the switches may be used.

It should be noted that there are various known methods for measuring capacitance. Although the embodiments described herein are described using a relaxation oscillator the present embodiments are not limited to using relaxation oscillators but may include other methods such as current versus voltage phase shift measurement resistor capacitor charge timing capacitive bridge divider charge transfer or the like.

The current versus voltage phase shift measurement may include driving the capacitance through a fixed value resistor to yield voltage and current waveforms that are out of phase by a predictable amount. The drive frequency can be adjusted to keep the phase measurement in a readily measured range. The resistor capacitor charge timing may include charging the capacitor through a fixed resistor and measuring timing on the voltage ramp. Small capacitor values may require very large resistors for reasonable timing. The capacitive bridge divider may include driving the capacitor under test through a fixed reference capacitor. The reference capacitor and the capacitor under test form a voltage divider. The voltage signal is recovered with a synchronous demodulator which may be done in the processing device . The charge transfer may be conceptually similar to an R C charging circuit. In this method Cis the capacitance being sensed. Cis the summing capacitor into which charge is transferred on successive cycles. At the start of the measurement cycle the voltage on Cis reset. The voltage on Cincreases exponentially and only slightly with each clock cycle. The time for this voltage to reach a specific threshold is measured with a counter. Additional details regarding these alternative embodiments have not been included so as to not obscure the present embodiments and because these alternative embodiments for measuring capacitance are known by those of ordinary skill in the art.

The conductive object in this case is a finger alternatively this technique may be applied to any conductive object for example a conductive door switch position sensor or conductive pen in a stylus tracking system e.g. stylus .

The relaxation oscillator begins by charging the capacitor from a ground potential or zero voltage and continues to pile charge on the capacitor at a fixed charging current Ic until the voltage across the capacitor at node reaches a reference voltage or threshold voltage V. At threshold voltage V the relaxation oscillator allows the accumulated charge at node to discharge e.g. the capacitor to relax back to the ground potential and then the process repeats itself. In particular the output of comparator asserts a clock signal F e.g. F goes high which enables the reset switch . This resets the voltage on the capacitor at node to ground and the charge cycle starts again. The relaxation oscillator outputs a relaxation oscillator clock signal F having a frequency f dependent upon capacitance C of the capacitor and charging current Ic .

The comparator trip time of the comparator and reset switch add a fixed delay. The output of the comparator is synchronized with a reference system clock to guarantee that the comparator reset time is long enough to completely reset the charging voltage on capacitor . This sets a practical upper limit to the operating frequency. For example if capacitance C of the capacitor changes then fwill change proportionally according to Equation 1 . By comparing fof F against the frequency f of a known reference system clock signal REF CLK the change in capacitance C can be measured. Accordingly equations 2 and 3 below describe that a change in frequency between F and REF CLK is proportional to a change in capacitance of the capacitor . C where 2 . 3 

In one embodiment a frequency comparator may be coupled to receive relaxation oscillator clock signal F and REF CLK compare their frequencies fand f respectively and output a signal indicative of the difference f between these frequencies. By monitoring f one can determine whether the capacitance of the capacitor has changed.

In one exemplary embodiment the relaxation oscillator may be built using a programmable timer e.g. 555 timer to implement the comparator and reset switch . Alternatively the relaxation oscillator may be built using other circuitry. Relaxation oscillators are known in by those of ordinary skill in the art and accordingly additional details regarding their operation have not been included so as to not obscure the present embodiments.

Relaxation oscillator of includes all the components described with respect to and a selection circuit . The selection circuit is coupled to the sensor elements N the reset switch the current source and the comparator . Selection circuit may be used to allow the relaxation oscillator to measure capacitance on multiple sensor elements e.g. rows or columns . The selection circuit may be configured to sequentially select a sensor element of the multiple sensor elements to provide the charge current and to measure the capacitance of each sensor element. In one exemplary embodiment the selection circuit is a multiplexer array of the relaxation oscillator . Alternatively selection circuit may be other circuitry outside the relaxation oscillator or even outside the capacitance sensor to select the sensor element to be measured. Capacitance sensor may include one relaxation oscillator and digital counter for the sensor elements of the sensor array. Alternatively capacitance sensor may include multiple relaxation oscillators and digital counters to measure capacitance on the sensor elements of the sensor array. The multiplexer array may also be used to ground the sensor elements that are not being measured. This may be done in conjunction with a dedicated pin in the GP10 port .

In another embodiment the capacitance sensor may be configured to simultaneously scan the sensor elements as opposed to being configured to sequentially scan the sensor elements as described above. For example the sensing device may include a sensor array having multiple rows and columns. The rows may be scanned simultaneously and the columns may be scanned simultaneously.

In one exemplary embodiment the voltages on all of the rows of the sensor array are simultaneously moved while the voltages of the columns are held at a constant voltage with the complete set of sampled points simultaneously giving a profile of the conductive object in a first dimension. Next the voltages on all of the rows are held at a constant voltage while the voltages on all the rows are simultaneously moved to obtain a complete set of sampled points simultaneously giving a profile of the conductive object in the other dimension.

In another exemplary embodiment the voltages on all of the rows of the sensor array are simultaneously moved in a positive direction while the voltages of the columns are moved in a negative direction. Next the voltages on all of the rows of the sensor array are simultaneously moved in a negative direction while the voltages of the columns are moved in a positive direction. This technique doubles the effect of any transcapacitance between the two dimensions or conversely halves the effect of any parasitic capacitance to the ground. In both methods the capacitive information from the sensing process provides a profile of the presence of the conductive object to the sensing device in each dimension. Alternatively other methods for scanning known by those of ordinary skill in the art may be used to scan the sensing device.

Digital counter is coupled to the output of the relaxation oscillator . Digital counter receives the relaxation oscillator output signal F . Digital counter is configured to count at least one of a frequency or a period of the relaxation oscillator output received from the relaxation oscillator.

As described above with respect to the relaxation oscillator when a finger or conductive object is placed on the switch the capacitance increases from Cp to Cp Cf so the relaxation oscillator output signal F decreases. The relaxation oscillator output signal F is fed to the digital counter for measurement. There are two methods for counting the relaxation oscillator output signal frequency measurement and period measurement. In one embodiment the digital counter may include two multiplexers and . Multiplexers and are configured to select the inputs for the PWM and the timer for the two measurement methods frequency and period measurement methods. Alternatively other selection circuits may be used to select the inputs for the PWM and the time . In another embodiment multiplexers and are not included in the digital counter for example the digital counter may be configured in one or the other measurement configuration.

In the frequency measurement method the relaxation oscillator output signal is counted for a fixed period of time. The counter is read to obtain the number of counts during the gate time. This method works well at low frequencies where the oscillator reset time is small compared to the oscillator period. A pulse width modulator PWM is clocked for a fixed period by a derivative of the system clock VC which is a divider from system clock e.g. 24 MHz . Pulse width modulation is a modulation technique that generates variable length pulses to represent the amplitude of an analog input signal in this case VC . The output of PWM enables timer e.g. 16 bit . The relaxation oscillator output signal clocks the timer . The timer is reset at the start of the sequence and the count value is read out at the end of the gate period.

In the period measurement method the relaxation oscillator output signal gates a counter which is clocked by the system clock e.g. 24 MHz . In order to improve sensitivity and resolution multiple periods of the oscillator are counted with the PWM . The output of PWM is used to gate the timer . In this method the relaxation oscillator output signal drives the clock input of PWM . As described above pulse width modulation is a modulation technique that generates variable length pulses to represent the amplitude of an analog input signal in this case the relaxation oscillator output signal . The output of the PWM enables timer e.g. 16 bit which is clocked at the system clock frequency e.g. 24 MHz . When the output of PWM is asserted e.g. goes high the count starts by releasing the capture control. When the terminal count of the PWM is reached the capture signal is asserted e.g. goes high stopping the count and setting the PWM s interrupt. The timer value is read in this interrupt. The relaxation oscillator is indexed to the next switch e.g. capacitor to be measured and the count sequence is started again.

The two counting methods may have equivalent performance in sensitivity and signal to noise ratio SNR . The period measurement method may have a slightly faster data acquisition rate but this rate is dependent on software loads and the values of the switch capacitances. The frequency measurement method has a fixed switch data acquisition rate.

The length of the counter and the detection time required for the switch are determined by sensitivity requirements. Small changes in the capacitance on capacitor result in small changes in frequency. In order to find these small changes it may be necessary to count for a considerable time.

At startup or boot the switches e.g. capacitors N are scanned and the count values for each switch with no actuation are stored as a baseline array Cp . The presence of a finger on the switch is determined by the difference in counts between a stored value for no switch actuation and the acquired value with switch actuation referred to here as n. The sensitivity of a single switch is approximately 

The value of n should be large enough for reasonable resolution and clear indication of switch actuation. This drives switch construction decisions.

Cf should be as large a fraction of Cp as possible. In one exemplary embodiment the fraction of Cf Cp ranges between approximately 0.01 to approximately 2.0. Alternatively other fractions may be used for Cf Cp. Since Cf is determined by finger area and distance from the finger to the switch s conductive traces through the over lying insulator the baseline capacitance Cp should be minimized. The baseline capacitance Cp includes the capacitance of the switch pad plus any parasitics including routing and chip pin capacitance.

In switch array applications variations in sensitivity should be minimized. If there are large differences in n one switch may actuate at 1.0 cm while another may not actuate until direct contact. This presents a non ideal user interface device. There are numerous methods for balancing the sensitivity. These may include precisely matching on board capacitance with PC trace length modification adding balance capacitors on each switch s PC board trace and or adapting a calibration factor to each switch to be applied each time the switch is tested.

In one embodiment the PCB design may be adapted to minimize capacitance including thicker PCBs where possible. In one exemplary embodiment a 0.062 inch thick PCB is used. Alternatively other thicknesses may be used for example a 0.015 inch thick PCB.

It should be noted that the count window should be long enough for n to be a significant number. In one embodiment the significant number can be as little as 10 or alternatively as much as several hundred. In one exemplary embodiment where Cf is 1.0 of Cp a typical weak switch and where the switch threshold is set at a count value of 20 n is found to be 

Adding some margin to yield 2500 counts and running the frequency measurement method at 1.0 MHz the detection time for the switch is 2.5 microseconds. In the frequency measurement method the frequency difference between a switch with and without actuation i.e. CP CF vs. CP is approximately 

This shows that the sensitivity variation between one channel and another is a function of the square of the difference in the two channels static capacitances. This sensitivity difference can be compensated using routines in the high level Application Programming Interfaces APIs .

In the period measurement method the count difference between a switch with and without actuation i.e. CP CF vs. CP is approximately 

The charge currents are typically lower and the period is longer to increase sensitivity or the number of periods for which fis counted can be increased. In either method by matching the static parasitic capacitances Cp of the individual switches the repeatability of detection increases making all switches work approximately at the same difference. Compensation for this variation can be done in software at runtime. The compensation algorithms for both the frequency method and period method may be included in the high level APIs.

Some implementations of this circuit use a current source programmed by a fixed resistor value. If the range of capacitance to be measured changes external components i.e. the resistor should be adjusted.

Using the selection circuit multiple sensor elements may be sequentially scanned to provide current to and measure the capacitance from the capacitors e.g. sensor elements as described above. In other words while one sensor element is being measured the remaining sensor elements are grounded using the GPIO port . This drive and multiplex arrangement bypasses the existing GPIO to connect the selected pin to an internal analog multiplexer mux bus. The capacitor charging current e.g. current source and reset switch are connected to the analog mux bus. This may limit the pin count requirement to simply the number of switches e.g. capacitors N to be addressed. In one exemplary embodiment no external resistors or capacitors are required inside or outside the processing device to enable operation.

The capacitor charging current for the relaxation oscillator is generated in a register programmable current output DAC also known as IDAC . Accordingly the current source is a current DAC or IDAC. The IDAC output current may be set by an 8 bit value provided by the processing device such as from the processing core . The 8 bit value may be stored in a register or in memory.

Estimating and measuring PCB capacitances may be difficult the oscillator reset time may add to the oscillator period especially at higher frequencies and there may be some variation to the magnitude of the IDAC output current with operating frequency. Accordingly the optimum oscillation frequency and operating current for a particular switch array may be determined to some degree by experimentation.

In many capacitive switch designs the two plates e.g. and of the sensing capacitor are actually adjacent sensor elements that are electrically isolated e.g. PCB pads or traces as indicated in . Typically one of these plates is grounded. Layouts for touch sensor slider e.g. linear slide switches and touch sensor pad applications have switches that are immediately adjacent. In this case all of the switches that are not active are grounded through the GPIO of the processing device dedicated to that pin. The actual capacitance between adjacent plates is small Cp but the capacitance of the active plate and its PCB trace back to the processing device to ground when detecting the presence of the conductive object may be considerably higher Cp Cf . The capacitance of two parallel plates is given by the following equation 

The dimensions of equation 8 are in meters. This is a very simple model of the capacitance. The reality is that there are fringing effects that substantially increase the switch to ground and PCB trace to ground capacitance.

Switch sensitivity i.e. actuation distance may be increased by one or more of the following 1 increasing board thickness to increase the distance between the active switch and any parasitics 2 minimizing PC trace routing underneath switches 3 utilizing a grided ground with 50 or less fill if use of a ground plane is absolutely necessary 4 increasing the spacing between switch pads and any adjacent ground plane 5 increasing pad area 6 decreasing thickness of any insulating overlay or 7 verifying that there is no air gap between the PC pad surface and the touching finger.

There is some variation of switch sensitivity as a result of environmental factors. A baseline update routine which compensates for this variation may be provided in the high level APIs.

Sliding switches are used for control requiring gradual adjustments. Examples include a lighting control dimmer volume control graphic equalizer and speed control. These switches are mechanically adjacent to one another. Actuation of one switch results in partial actuation of physically adjacent switches. The actual position in the sliding switch is found by computing the centroid location of the set of switches activated.

In applications for touch sensor sliders e.g. sliding switches and touch sensor pads it is often necessary to determine finger or other capacitive object position to more resolution than the native pitch of the individual switches. The contact area of a finger on a sliding switch or a touch pad is often larger than any single switch. In one embodiment in order to calculate the interpolated position using a centroid the array is first scanned to verify that a given switch location is valid. The requirement is for some number of adjacent switch signals to be above a noise threshold. When the strongest signal is found this signal and those immediately adjacent are used to compute a centroid 

The calculated value will almost certainly be fractional. In order to report the centroid to a specific resolution for example a range of 0 to 100 for 12 switches the centroid value may be multiplied by a calculated scalar. It may be more efficient to combine the interpolation and scaling operations into a single calculation and report this result directly in the desired scale. This may be handled in the high level APIs. Alternatively other methods may be used to interpolate the position of the conductive object.

A physical touchpad assembly is a multi layered module to detect a conductive object. In one embodiment the multi layer stack up of a touchpad assembly includes a PCB an adhesive layer and an overlay. The PCB includes the processing device and other components such as the connector to the host necessary for operations for sensing the capacitance. These components are on the non sensing side of the PCB. The PCB also includes the sensor array on the opposite side the sensing side of the PCB. Alternatively other multi layer stack ups may be used in the touchpad assembly.

The PCB may be made of standard materials such as FR4 or Kapton e.g. flexible PCB . In either case the processing device may be attached e.g. soldered directly to the sensing PCB e.g. attached to the non sensing side of the PCB . The PCB thickness varies depending on multiple variables including height restrictions and sensitivity requirements. In one embodiment the PCB thickness is at least approximately 0.3 millimeters mm . Alternatively the PCB may have other thicknesses. It should be noted that thicker PCBs may yield better results. The PCB length and width is dependent on individual design requirements for the device on which the sensing device is mounted such as a notebook or mobile handset.

The adhesive layer is directly on top of the PCB sensing array and is used to affix the overlay to the overall touchpad assembly. Typical material used for connecting the overlay to the PCB is non conductive adhesive such as 3M 467 or 468. In one exemplary embodiment the adhesive thickness is approximately 0.05 mm. Alternatively other thicknesses may be used.

The overlay may be non conductive material used to protect the PCB circuitry to environmental elements and to insulate the user s finger e.g. conductive object from the circuitry. Overlay can be ABS plastic polycarbonate glass or Mylar . Alternatively other materials known by those of ordinary skill in the art may be used. In one exemplary embodiment the overlay has a thickness of approximately 1.0 mm. In another exemplary embodiment the overlay thickness has a thickness of approximately 2.0 mm. Alternatively other thicknesses may be used.

The sensor array may be a grid like pattern of sensor elements e.g. capacitive elements used in conjunction with the processing device to detect a presence of a conductive object such as finger to a resolution greater than that which is native. The touch sensor pad layout pattern maximizes the area covered by conductive material such as copper in relation to spaces necessary to define the rows and columns of the sensor array.

Alternating columns in correspond to x and y axis elements. The y axis sensor elements K are illustrated as black diamonds in and the x axis sensor elements L are illustrated as white diamonds in and . It should be noted that other shapes may be used for the sensor elements. In another embodiment the columns and row may include vertical and horizontal bars e.g. rectangular shaped bars however this design may include additional layers in the PCB to allow the vertical and horizontal bars to be positioned on the PCB so that they are not in contact with one another.

As illustrated in the top conductive layer includes the sensor elements for both the columns and the rows of the sensor array as well as the connections between the sensor elements of the columns of the sensor array. The bottom conductive layer includes the conductive paths that connect the sensor elements of the rows that reside in the top conductive layer . The conductive paths between the sensor elements of the rows use vias to connect to one another in the bottom conductive layer . Vias go from the top conductive layer through the dielectric layer to the bottom conductive layer . Coating layers and are applied to the surfaces opposite to the surfaces that are coupled to the dielectric layer on both the top and bottom conductive layers and .

It should be noted that the space between coating layers and and dielectric layer which does not include any conductive material may be filled with the same material as the coating layers or dielectric layer. Alternatively it may be filled with other materials.

It should be noted that the present embodiments are not be limited to connecting the sensor elements of the rows using vias to the bottom conductive layer but may include connecting the sensor elements of the columns using vias to the bottom conductive layer . Furthermore the present embodiments are not limited two layer configurations but may include disposing the sensor elements on multiple layers such as three or four layer configurations.

When pins are not being sensed only one pin is sensed at a time they are routed to ground. By surrounding the sensing device e.g. touch sensor pad with a ground plane the exterior elements have the same fringe capacitance to ground as the interior elements.

In one embodiment an IC including the processing device may be directly placed on the non sensor side of the PCB. This placement does not necessary have to be in the center. The processing device IC is not required to have a specific set of dimensions for a touch sensor pad nor a certain number of pins. Alternatively the IC may be placed somewhere external to the PCB.

In one embodiment the gesture detection block may send an enable motion signal to the motion detection block to enable the motion detection block to output motion . This may be done in response to detecting that no other gesture is detected and that only movement of the conductive object on the sensing device is detected. Alternatively motion detection block and gesture detection block may be implemented in a single block and output both motion and gestures upon detecting a motion gesture or non motion gestures respectively.

In one embodiment the gesture processing block may determine how many times the presence of the conductive object is detected in one time interval to distinguish between multiple gestures as illustrated in . In one embodiment the gesture processing block determines a number of times the conductive object moves away from the sensing device and a number of times the conductive object is detected on the sensing device before the end of the one time interval. For example a tap gesture is recognized when the number of times the conductive object moves away from the sensing device is equal to one during the first time period the number of times the conductive object is detected on the sensing device is equal to one during the first time period the number of times the conductive object moves away from the sensing device is equal to zero during the second time period and the number of times the conductive object is detected on the sensing device is equal to zero during the second time period. A double tap gesture is recognized when the number of times the conductive object moves away from the sensing device is equal to two and the number of times the conductive object is detected on the sensing device is equal to two. A drag gesture is recognized when the number of times the conductive object moves away from the sensing device is equal to one and the number of times the conductive object is detected on the sensing device is equal to two. A motion gesture is recognized when the number of times the conductive object moves away from the sensing device is equal to zero and the number of times the conductive object is detected on the sensing device is equal to one.

In one embodiment the gesture processing block may determine how many times the presence of the conductive object is detected in two time intervals to distinguish between multiple gestures as illustrated in . In one embodiment the gesture processing block determines a number of times the conductive object moves away from the sensing device and a number of times the conductive object is detected on the sensing device before the end of each time interval. For example a tap gesture is recognized when the number of times the conductive object moves away from the sensing device is equal to one during the first time period the number of times the conductive object is detected on the sensing device is equal to one during the first time period the number of times the conductive object moves away from the sensing device is equal to zero during the second time period and the number of times the conductive object is detected on the sensing device is equal to zero during the second time period. A double tap gesture is recognized when the number of times the conductive object moves away from the sensing device is equal to one during the first time period the number of times the conductive object is detected on the sensing device is equal to one during the first time period the number of times the conductive object moves away from the sensing device is equal to one during the second time period and the number of times the conductive object is detected on the sensing device is equal to one during the second time period. A drag gesture is recognized when the number of times the conductive object moves away from the sensing device is equal to one during the first time period the number of times the conductive object is detected on the sensing device is equal to one during the first time period the number of times the conductive object moves away from the sensing device is equal to zero during the second time period and the number of times the conductive object is detected on the sensing device is equal to one during the second time period. A motion gesture is recognized when the number of times the conductive object moves away from the sensing device is equal to zero during the first time period the number of times the conductive object is detected on the sensing device is equal to one during the first time period the number of times the conductive object moves away from the sensing device is equal to zero during the second time period and the number of times the conductive object is detected on the sensing device is equal to one during the second time period.

As previously mentioned gesture processing block distinguishes a particular gesture from among multiple gestures performed by the conductive object on the sensing device using fewer than three time intervals. For example a tap gesture is recognized when the presence of the conductive object the presence that triggered the start time is no longer detected before an end of the first time interval e.g. when timer sends the first timeout signal to gesture processing block and a subsequent presence of the conductive object is not detected by an end of a second time interval e.g. when timer sends the second timeout signal to gesture processing block . Upon detecting a tap gesture the gesture processing block outputs tap gesture signal . Similarly upon detecting a double tap or drag gesture the processing block outputs double tap gesture signal or drag gesture signal respectively. Alternatively gesture processing block may be configured to detect other gestures on the sensing device and output other gesture signals .

In one embodiment a double tap gesture is recognized when the presence of the conductive object is no longer detected before an end of a first time interval and a subsequent presence is detected during a second time interval but is no longer detected by an end of the second time interval. In another embodiment a drag gesture is recognized when the presence of the conductive object is no longer detected before an end of a first time interval and a subsequent presence is detected during a second time interval and remains detected by an end of the second time interval. In another embodiment a motion gesture is recognized when the presence of the conductive object remains detected at an end of a first time interval.

However if this condition is met e.g. the number of finger up events is greater than zero then the method proceeds to operation which includes determining whether the finger is up e.g. removed from the sensing device. If the number of finger up events is greater than zero then motion gesture is not detected at the end of the first time interval. If the finger is not up from the sensing device then the method returns to operation . Operation is an error trap. If at the first timeout t the finger is not up i.e. finger is down but a motion gesture was not detected an error has occurred as can be seen in . This error trap may result from electrical noise or some other error. Without this error trap a double tap or drag gesture may be erroneously detected. In another embodiment the method may not include the error trap of operation . Conversely if the finger is up from the sensing device the processing device again determines how many finger up and finger down events are detected before the end of the second time interval indicated by the second timeout operation . After the number of finger up and finger down events has been determined at the end of the second time interval the method proceeds to operation which includes determining whether the number of finger up events is equal to one and the number of finger down events is equal to one. If this condition is met a tap gesture is detected. If this condition is not met then the tap gesture is not detected and the method proceeds to operation which includes determining whether the number of finger up events is equal to two and the number of finger down events is equal to two during the second time interval e.g. before the second timeout operation . If this condition is met then the double tap gesture is detected. If this condition is not met then the double tap gesture is not detected and the method proceeds to operation which includes determining whether the number of finger up events is equal to one and the number of finger down events is equal to two during the second time interval e.g. before the second timeout operation . If this condition is met then the drag gesture is detected. In other words if the presence of the conductive object remains detected at an end of the second time interval indicated by the second timeout the drag gesture is detected.

In one embodiment the method for recognizing a tap gesture made on a sensing device of the electronic system includes the operations of 1 detecting a first presence of a conductive object on the sensing device 2 comparing the duration of said first presence with a first reference amount of time 3 waiting for a second reference amount of time and 4 initiating a signal to the host indicating the occurrence of said gesture if the duration of said first presence is less than said first reference amount of time and no second presence is detected with said second reference amount of time. Alternatively the method for recognizing a tap gesture may include determining if the presence of the conductive object is no longer detected before an end of a first time interval and a subsequent presence is not detected by an end of a second time interval.

In one embodiment the method for recognizing a double tap gesture made on a sensing device of the electronic system includes the operations of 1 detecting a first presence of a conductive object on the touch sensor pad 2 comparing the duration of said first presence with a first reference amount of time 3 initiating a first signal to the host indicating the occurrence of said gesture if the duration of said first presence is less than said first reference amount of time 4 terminating said first signal if a second reference amount of time passes before a second presence is detected 5 detecting a second presence of said conductive object on the touch sensor pad 6 terminating said first signal if the duration of said second presence ends after said second reference amount of time and 7 sending a second signal to said host indicating said second gesture after the termination of said first signal. Alternatively the method for recognizing a double tap gesture may include determining if the presence of the conductive object is no longer detected before an end of a first time interval and a subsequent presence is detected during a second time interval but is no longer detected by an end of the second time interval.

In another embodiment the method for recognizing a drag gesture made on a sensing device of the electronic system includes the operations of 1 detecting a first presence of a conductive object on the touch sensor pad 2 comparing the duration of said first presence with a first reference amount of time 3 initiating a gesture signal to the host indicating the occurrence of a gesture if the duration of said first presence is less than said first reference amount of time 4 detecting a second presence of said conductive object on the touch sensor pad 5 detecting whether said second presence persists after a second reference amount of time and 6 maintaining said drag gesture signal and repeatedly sending information containing an indication of X and Y position or a change thereof to said host for the duration of said second presence said second presence persists after a second reference amount of time. The method may further include providing an indication of X and Y position information to a host in conjunction with recognizing the drag gesture. Alternatively the method for recognizing a drag gesture may include determining if the presence of the conductive object is no longer detected before an end of a first time interval and a subsequent presence is detected during a second time interval and remains detected by an end of the second time interval.

In one embodiment the method for recognizing a motion gesture includes determining if the presence of the conductive object remains detected at an end of a first time interval. Alternatively other operations may be used to recognize when no other gestures are recognized to allow movement of the conductive object to be sent to the host.

As described above motion gesture is recognized when the presence of the conductive object presence remains detected at an end of a first time interval indicated by first timeout . The conductive object may or may not move away from the sensing device during the second timer interval as indicated by absence . Tap gesture is recognized when the presence of the conductive object presence that triggered the start time is no longer detected before an end of the first time interval e.g. indicated by the first timeout and a subsequent presence of the conductive object is not detected by an end of a second time interval e.g. indicated by the detecting absence up to the second timeout . Double tap gesture is recognized when the presence of the conductive object presence is no longer detected before an end of a first time interval e.g. indicated by the first timeout and a subsequent presence presence is detected during a second time interval e.g. indicated by the second timeout but is no longer detected by an end of the second time interval e.g. indicated by the second time out . In this embodiment both the presences and and the absences and are detected in each time interval respectively. Drag gesture is recognized when the presence of the conductive object presence is no longer detected before an end of a first time interval e.g. indicated by the first timeout and a subsequent presence presence is detected during a second time interval e.g. indicated by the second timeout and remains detected by an end of the second time interval e.g. indicated by the first timeout . In this embodiment only one absence absence is detected starting in the first time interval.

In another embodiment the number of ups and downs may be counted during the two time intervals and accordingly the motion gesture is recognized when the number of finger up events is equal to zero and the number of finger down events is equal to one during the first time interval. The number of finger up events during the second time period can be equal to one or zero. For the other three gestures both the number of finger up and finger down events are equal to one during the first time interval ending at the first timeout . However during the second time interval the number of finger up and finger down events differ for the three gestures. For tap gesture to be recognized the number of finger up events is equal to zero and the number of finger down events is equal to zero during the second time interval ending at the second timeout . For double tap gesture to be recognized the number of finger up events is equal to one and the number of finger down events is equal to one during the second time interval ending at the second timeout . For drag gesture to be recognized the number of finger up events is equal to zero and the number of finger down events is equal to one during the second time interval ending at the second timeout .

In one embodiment the gesture processing may be performed using a single timer with two timeouts first and second timeouts and . The single timer may be restarted at the end of the first time interval e.g. at first timeout t such that the value of the second timeout second timeout t is equal to the time at the end of the second time interval less the time at the end of the first time interval e.g. t t . Alternatively the gesture processing may be performed using two timers each with timeouts. In this embodiment both timers may be started at start time t with the first timer detecting the first timeout t and the second timer detecting the second timeout t . Alternatively the second timer may be started at the end of the first time interval e.g. indicated by the first timeout t and end at a second time out t t .

In this embodiment a single timer is used to count the number of finger down and finger up events in a single time period after a finger presence is first detected. If no finger up event is detected after the initiating finger down event then no gesture is detected and the touch sensor pad performs normal x y operations e.g. motion gesture . If a single finger up event is detected and no further finger down event is detected then a single tap gesture e.g. is inferred. If a total of two finger down events and two finger up events are detected then a double tap gesture e.g. is inferred. If a total of two finger down events and a single finger up event is detected than a drag gesture e.g. is inferred.

As described above motion gesture is recognized when the presence of the conductive object presence remains detected at an end of a first time interval indicated by first timeout . Tap gesture is recognized when the presence of the conductive object presence is no longer detected before an end of the first time interval at first timeout . Double tap gesture is recognized when the presence of the conductive object is detected twice before the end of the first timeout . In this embodiment both the presences and and the absences and are detected in the time interval . Drag gesture is recognized when the presence of the conductive object is detected twice before the end of the first timeout . However in this embodiment the subsequent presence presence remains detected by an end of the time interval at first timeout . In this embodiment only one absence absence is detected in the time interval .

In another embodiment the number of ups and downs may be counted during the two time intervals and accordingly motion gesture is recognized when the number of times the conductive object moves away from the sensing device is equal to zero and the number of times the conductive object is detected on the sensing device is equal to one. Tap gesture is recognized when the number of finger up events is equal to one and the number of finger down events is equal to one. Double tap gesture is recognized when the number of finger up events is equal to two and the number of finger down events is equal to two. Drag gesture is recognized when the number of finger up events is equal to one and the number of finger down events is equal to two.

The embodiments described herein may be advantageous by allowing the detection of multiple gestures using a single timer with only 2 timeouts or even one timer with one timeout rather than multiple timers and or three or more timeout periods.

Embodiments of the present invention described herein include various operations. These operations may be performed by hardware components software firmware or a combination thereof. As used herein the term coupled to may mean coupled directly or indirectly through one or more intervening components. Any of the signals provided over various buses described herein may be time multiplexed with other signals and provided over one or more common buses. Additionally the interconnection between circuit components or blocks may be shown as buses or as single signal lines. Each of the buses may alternatively be one or more single signal lines and each of the single signal lines may alternatively be buses.

Certain embodiments may be implemented as a computer program product that may include instructions stored on a machine readable medium. These instructions may be used to program a general purpose or special purpose processor to perform the described operations. A machine readable medium includes any mechanism for storing or transmitting information in a form e.g. software processing application readable by a machine e.g. a computer . The machine readable medium may include but is not limited to magnetic storage medium e.g. floppy diskette optical storage medium e.g. CD ROM magneto optical storage medium read only memory ROM random access memory RAM erasable programmable memory e.g. EPROM and EEPROM flash memory electrical optical acoustical or other form of propagated signal e.g. carrier waves infrared signals digital signals etc. or another type of medium suitable for storing electronic instructions.

Additionally some embodiments may be practiced in distributed computing environments where the machine readable medium is stored on and or executed by more than one computer system. In addition the information transferred between computer systems may either be pulled or pushed across the communication medium connecting the computer systems.

Although the operations of the method s herein are shown and described in a particular order the order of the operations of each method may be altered so that certain operations may be performed in an inverse order or so that certain operation may be performed at least in part concurrently with other operations. In another embodiment instructions or sub operations of distinct operations may be in an intermittent and or alternating manner.

In the foregoing specification the invention has been described with reference to specific exemplary embodiments thereof. It will however be evident that various modifications and changes may be made thereto without departing from the broader spirit and scope of the invention as set forth in the appended claims. The specification and drawings are accordingly to be regarded in an illustrative sense rather than a restrictive sense.


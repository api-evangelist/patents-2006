---

title: Brew platform enabling advanced voice services (AVS) including push-to-talk, push-to-conference and push-to-message on wireless handsets and networks
abstract: A client application that provides advanced voice services (AVS), such as Push-to-Talk (P2T), Push-to-Conference (P2C), Upgrade to Conference (upgrade from P2T to P2C), Push-to-Message (P2M) and group SMS (Short Message Service), on wireless handsets and networks using a Binary Runtime Environment for Wireless (BREW™), which is an open architecture that serves as a common platform for wireless applications. The functionality provided by the BREW™ AVS client application includes menu displays for the handset, as well as user interaction with the menu displays. Specifically, the functionality includes One-to-One Conference Calls, One-to-Many Conference Calls, Dynamic Conference Calls, One-to-One Messaging, or One-to-Many Messaging.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08036692&OS=08036692&RS=08036692
owner: Kodiaks Networks, Inc.
number: 08036692
owner_city: San Ramon
owner_country: US
publication_date: 20060808
---
This application claims the benefit under 35 U.S.C. Section 119 e of the following and commonly assigned U.S. provisional patent application 

Ser. No. 60 706 265 filed on Aug. 8 2005 by Ravi Ayyasamy and Krishnakant M. Patel entitled ADVANCED VOICE SERVICES CLIENT FOR BREW PLATFORM 

U.S. Utility application Ser. No. 10 515 556 filed Nov. 23 2004 by Gorachand Kundu Ravi Ayyasamy and Krishnakant Patel entitled DISPATCH SERVICE ARCHITECTURE FRAMEWORK which application claims the benefit under 35 U.S.C. Section 365 of PCT International Patent Application Serial Number PCT US03 16386 which application claims the benefit under 35 U.S.C. Section 119 e of U.S. Provisional Patent Application Ser. Nos. 60 382 981 60 383 179 and 60 407 168 

U.S. Utility application Ser. No. 10 564 903 filed Jan. 17 2006 by F. Craig Farrill Bruce D. Lawler and Krishnakant M. Patel entitled PREMIUM VOICE SERVICES FOR WIRELESS COMMUNICATIONS SYSTEMS which application claims the benefit under 35 U.S.C. Section 365 of PCT International Patent Application Serial Number PCT US04 23038 which application claims the benefit under 35 U.S.C. Section 119 e of U.S. Provisional Patent Application Ser. Nos. 60 488 638 60 492 650 and 60 576 094 and which application is a continuation in part and claims the benefit under 35 U.S.C. Section 119 120 and or 365 of PCT International Patent Application Serial Number PCT US03 16386 

U.S. patent application Ser. No. 11 126 587 filed May 11 2005 by Ravi Ayyasamy and Krishnakant M. Patel entitled ARCHITECTURE CLIENT SPECIFICATION AND APPLICATION PROGRAMMING INTERFACE API FOR SUPPORTING ADVANCED VOICE SERVICES AVS INCLUDING PUSH TO TALK ON WIRELESS MS AND NETWORKS which application claims the benefit under 35 U.S.C. Section 119 e of U.S. Provisional Patent Application Ser. Nos. 60 569 953 and 60 579 309 and which application is a continuation in part and claims the benefit under 35 U.S.C. Sections 119 120 and or 365 of U.S. Utility patent application Ser. No. 10 515 556 and PCT International Patent Application Serial Number PCT US04 23038 

U.S. Utility patent application Ser. No. 11 129 268 filed May 13 2005 by Krishnakant M. Patel Gorachand Kundu Ravi Ayyasamy and Basem Ardah entitled ROAMING GATEWAY FOR SUPPORT OF ADVANCED VOICE SERVICES WHILE ROAMING IN WIRELESS COMMUNICATIONS SYSTEMS which application claims the benefit under 35 U.S.C. Section 119 e of U.S. Provisional Patent Application Ser. No. 60 571 075 and which application is a continuation in part and claims the benefit under 35 U.S.C. Sections 119 120 and or 365 of U.S. Utility patent application Ser. No. 10 515 556 and P.C.T. International Patent Application Serial Number PCT US04 23038 

U.S. Utility patent application Ser. No. 11 134 883 filed May 23 2005 by Krishnakant Patel Vyankatesh V. Shanbhag Ravi Ayyasamy Stephen R. Horton and Shan Jen Chiou entitled ADVANCED VOICE SERVICES ARCHITECTURE FRAMEWORK which application claims the benefit under 35 U.S.C. Section 119 e of U.S. Provisional Patent Application Ser. No. 60 573 059 and 60 576 092 and which application is a continuation in part and claims the benefit under 35 U.S.C. Sections 119 120 and or 365 of U.S. Utility patent application Ser. No. 10 515 556 P.C.T. International Patent Application Serial Number PCT US04 23038 U.S. Utility patent application Ser. No. 11 126 587 and U.S. Utility patent application Ser. No. 11 129 268 and

U.S. Utility patent application Ser. No. 11 136 233 filed May 24 2005 by Krishnakant M. Patel Vyankatesh Vasant Shanbhag and Anand Narayanan entitled SUBSCRIBER INFORMATION MODULE SIM ENABLING ADVANCED VOICE SERVICES AVS INCLUDING PUSH TO TALK ON WIRELESS MS AND NETWORKS which application claims the benefit under 35 U.S.C. Section 119 e of U.S. Provisional Patent Application Ser. No. 60 573 780 and which application is a continuation in part and claims the benefit under 35 U.S.C. Sections 119 120 and or 365 of U.S. Utility patent application Ser. No. 10 515 556 P.C.T. International Patent Application Serial Number PCT US04 23038 U.S. Utility patent application Ser. No. 11 126 587 and U.S. Utility patent application Ser. No. 11 134 883 

U.S. Utility patent application Ser. No. 11 158 527 filed Jun. 22 2005 by F. Craig Farrill entitled PRESS TO CONNECT FOR WIRELESS COMMUNICATIONS SYSTEMS which application claims the benefit under 35 U.S.C. Section 119 e of U.S. Provisional Patent Application Ser. No. 60 581 954 and which application is a continuation in part and claims the benefit under 35 U.S.C. Sections 119 120 and or 365 of U.S. Utility patent application Ser. No. 10 515 556 and P.C.T. International Patent Application Serial Number PCT US04 23038 

U.S. Utility patent application Ser. No. 11 183 516 filed Jul. 18 2005 by Deepankar Biswaas entitled VIRTUAL PUSH TO TALK PTT AND PUSH TO SHARE PTS FOR WIRELESS COMMUNICATIONS SYSTEMS which application claims the benefit under 35 U.S.C. Section 119 e of U.S. Provisional Patent Application Ser. No. 60 588 464 and

U.S. Utility patent application Ser. No. 11 356 775 filed Feb. 17 2006 by Krishnakant M. Patel Bruce D. Lawler Giridhar K. Boray and Brahmananda R. Vempati entitled ENHANCED FEATURES IN AN ADVANCED VOICE SERVICES AVS FRAMEWORK FOR WIRELESS COMMUNICATIONS SYSTEMS which application claims the benefit under 35 U.S.C. Section 119 e of U.S. Provisional Patent Application Ser. No. 60 654 271 

PCT International Patent Application Serial Number PCT US2006 011628 filed Mar. 30 2006 by Krishnakant M. Patel Gorachand Kundu Sameer Dharangaonkar Giridhar K. Boray and Deepankar Biswas entitled TECHNIQUE FOR IMPLEMENTING ADVANCED VOICE SERVICES USING AN UNSTRUCTURED SUPPLEMENTARY SERVICE DATA USSD INTERFACE which application claims the benefit under 35 U.S.C. Section 119 e of U.S. Provisional Patent Application Ser. No. 60 666 424 

This invention relates in general to wireless communications systems and more specifically to a BREW client application enabling Advanced Voice Services AVS including Push to Talk P2T Push to Conference P2C and Push to Message P2M on wireless handsets and networks.

Group based voice services such as two way half duplex voice calls within a group or between individuals also known as Push to Talk Press to Talk PTT or P2T have enormous revenue earnings potential for wireless networks such as cellular phone networks and personal communications systems PCS networks which are mobile phone networks.

Moreover the Assignee has introduced Advanced Voice Services AVS including improved implementations for P2T as well as novel group based voice services such as Push to Conference P2C Upgrade to Conference upgrade from P2T to P2C Push to Message P2M and group SMS Short Message Service for wireless handsets and networks. More information on these advanced voice services can be found in the cross referenced applications identified above.

To support these advanced voice services improved handsets are required. Previously the Assignee has introduced an architecture client specification and application programming interface API for supporting AVS as well as a Subscriber Identity Module SIM for supporting AVS. More information on these concepts can be found in the cross referenced applications identified above.

However there is also a need for handsets that support AVS that are based on the Binary Runtime Environment for Wireless BREW solution offered by Qualcomm Inc. which is an open architecture that serves as a common platform for wireless applications. More specifically there is a need in the art for BREW enabled handsets that support advanced voice services such as Push to Talk P2T Push to Conference P2C Upgrade to Conference upgrade from P2T to P2C Push to Message P2M and other advanced voice services. The present invention aims to satisfy this need.

To overcome the limitations in the prior art described above and to overcome other limitations that will become apparent upon reading and understanding the present specification the present invention discloses a BREW AVS client application that provides AVS such as Push to Talk P2T Push to Conference P2C Upgrade to Conference upgrade from P2T to P2C Push to Message P2M and group SMS Short Message Service on wireless handsets and networks. The functionality provided by the BREW AVS client application includes menu displays for the handset as well as user interaction with the menu displays. Specifically the functionality includes 1 1 Conference Calls 1 Many Conference Calls Dynamic Conference Calls 1 1 Messaging or 1 Many Messaging.

In the following description of the preferred embodiment reference is made to the accompanying drawings which form a part hereof and in which is shown by way of illustration the specific embodiment in which the invention may be practiced. It is to be understood that other embodiments may be utilized as structural changes may be made without departing from the scope of the present invention.

The present invention describes a BREW enabled handset for providing advanced voice services AVS and more specifically a BREW AVS client application that provides AVS functionality such as Push to Talk P2T Push to Conference P2C Upgrade to Conference upgrade from P2T to P2C Push to Message P2M and group SMS Short Message Service on wireless handsets and networks. This AVS functionality includes menu displays for the handset as well as user interaction with the menu displays. The BREW AVS client application also provides presence and availability functions on the handset. In addition the BREW AVS client application provides contact and group management on the handset.

Within the network an RTX Real Time Exchange previously known as a Dispatch Gateway DG communicates with a MSC Mobile Switching Center and PSTN Public Switched Telephone Network using SS7 ISUP WIN CAMEL Signaling System 7 Integrated Services Digital Network User Part Wireless Intelligent Network Customized Applications for Mobile Enhanced Logic messages at a signaling plane . A bearer path implements a TDM Time Division Multiplexing interface carrying PCM Pulse Code Modulation or TFO Tandem Free Operation voice frames. Support for TFO in this path is negotiated between a BSC Base Station Controller and the RTX for each originating and terminating leg of an AVS call. The use of TFO ensures high voice quality as voice vocoder conversion is avoided between mobile to mobile calls.

When a subscriber originates an AVS call the MSC routes the call to the RTX . The MSC also requests the BSC via to establish a radio traffic path with a mobile station MS also known as a handset or mobile unit via the BTS Base Transceiver Station as it does for a normal cellular call . At this time the BSC tries to negotiate TFO if it is supported on a TDM link with the far end in this case the RTX .

At the same time after the MSC terminates the group call request to the RTX the RTX identifies the terminating group users and their MS ISDN Mobile Station Integrated Services Digital Network numbers. It sends an ISUP call origination request for each terminating MS . It may send requests directly to the MSC PSTN or IP network via a PDSN Public Data Switched Network Router and or Internet Intranet depending on the routing table configuration for terminating MS ISDN numbers. Once the bearer path is established the RTX begins a negotiation with the far end in this case the terminating BSC for each terminating leg to a MS .

Once bearer paths are established for originating and terminating legs for an AVS call the RTX switches or duplicates voice frames from the originating MS to all terminating MS s .

The RTX may use an IP network or the Internet Intranet for two different purposes. The IP network or the Internet Intranet can be used in a toll bypass mode where two RTXs can exchange voice traffic bypassing the PSTN . However each RTX is responsible for terminating traffic to its closest MSC . In this case the IP network or the Internet Intranet is used as a backbone transport of voice traffic between two RTXs .

The IP network or the Internet Intranet can also be used for a registration and presence application. Since the MSC will not direct a registration request from a MS to the RTX because it would require changes in the MSC the latter does not have any information of the registered MS . To circumvent this issue a registration and presence application runs over an IP stack in the MS . After the MS registers for a data interface i.e. obtaining an IP address with the PDSN or Serving GSM Service Nodes SGSN in the case of GSM networks the registration and presence application in the MS registers with the RTX using its IP address. The RTX also uses this IP interface to update the presence information of other group members to a MS .

An alternative embodiment would use the SMS Short Message Service transport to carry presence messages over a data channel. The RTX interacts with the MS using predefined presence application related messages that are transported as SMS messages. The same messages can be transported via the PDSN interface if group users have data service.

The architecture includes a Call Processing system Presence Server Real Time Event Processing system one or more Media Managers and an SMPP Short Message Peer to Peer Transport as well as modules for various SS7 protocols such as MTP 1 Message Transfer Part Level 1 MTP 2 Message Transfer Part Level 2 MTP 3 Message Transfer Part Level 3 ISUP Integrated Services Digital Network User Part SCCP Signaling Connection Control Part and TCAP Transactions Capabilities Application Part protocols.

The Call Processing system Presence Server Media Managers SMPP Transport and other modules communicate across an IP network . The Real Time Event Processing system communicates directly with the Call Processing system Presence Server and the modules for various SS7 protocols. The modules for various SS7 protocols communicate with other entities via a SS7 Signaling Link . The SMPP Transport communicates with a SMSC Short Message Service Center gateway using the SMPP protocol . The Media Managers communicate among themselves using the H.110 protocol or some other protocol such TCP IP .

The operation of these various components are described in more detail below as well as in the co pending and commonly assigned patent applications cross referenced above and incorporated by reference herein.

The originating MS signals the RTX via the wireless network e.g. by transmitting one or more configured DTMF Dual Tone Multi Frequency digits to the RTX . The Media Manager systems receive the DTMF digits and pass the DTMF digits to the Call Processing system . The Call Processing CP system determines whether the originating MS has subscribed to the AVS feature before originating the AVS call. Upon confirmation the Call Processing system initiates a new AVS call. The Call Processing system interacts with the Presence Server and Real Time Event Processing system to cause the wireless network to perform call setup with the terminating MS s for the AVS call and thereafter to manage the AVS call.

During the AVS call the Call Processing system interacts with the Media Manager systems to maintain the H.110 channels and assign any additional H.110 channels required for the AVS call which may span across multiple Media Manager systems . During the AVS call the Media Manager systems of the RTX are used to mix audio streams between the originating MS and the terminating MS and then deliver these mixed audio streams to the originating MS and the terminating MS . The H.110 channels are used for passing mixed and unmixed audio streams voice between the Media Manager systems as required.

The high level functional components of the MS includes an operating system OS stored in memory encoder decoder processing logic and user interface wherein the encoder decoder processing logic and user interface interface to the OS of the MS in order to perform their functions. In addition the MS provides an address book database and an AVS contacts groups database . Under the control of the OS a BREW AVS client application is executed by the MS that provides AVS functionality for the MS .

At power on the MS loads the OS as well as the BREW AVS client application necessary to support the AVS features. This functionality provided includes the look and feel of the menu displays on the MS as well as user interaction with the menu displays.

During operation the encoder decoder decodes and encodes messages and populates specific data structures in the MS . The encoder decoder checks the validity of the incoming messages by verifying mandatory parameters for each of the incoming messages. A message will not be processed further if the encoder decoder fails to decode the message.

The processing logic handles all the AVS related functionalities such as Group Private Dynamic Group calls. The processing logic implementation is device specific and vendor specific and it interacts with the other components including the encoder decoder user interface address book database or AVS contacts group database .

The processing logic provides an auto answer mechanism for AVS calls. Specifically when a call is received the processing logic automatically answers the call. The processing logic makes use of call notification for incoming call detection and based on various parameters received within the call notification determines whether the call is an AVS call. If the call is an AVS call then the processing logic uses AT commands to answer the AVS call and turn on the speaker of the MS . All of this takes place within a certain time period. On the other hand if the call is not an AVS call then normal call processing is performed by the MS .

The processing logic also provides floor control using DTMF tone control. In P2T calls which are half duplex a determination of who may talk is based on who has the floor. Using the processing logic provided in the MS appropriate DTMF tones are sent to the RTX in accordance with specific key sequences i.e. pressing and or releasing a P2T key that indicate whether the floor has been requested and or released by the user.

In addition the processing logic provides SMS destination control based on the type of subscriber. At the time of subscriber data provisioning if it is determined that the MS will use AVS based logic then appropriate logic is invoked in the RTX to send presence messages over SMS to the MS . Similarly the MS is configured at the time of provisioning to receive accept such SMS and respond to the RTX appropriately.

Finally the processing logic also enables subscribers to track the presence of fellow members of the group in the network on their MS and provides a mechanism and API to carry out contacts and group management operations on the MS such as add member delete member etc.

Since most of the presence information is stored in the database the database is tightly integrated with the processing logic . The database stores groups contacts presence and availability related information. The database information essentially contains group and member information along with presence information associated with each group and member. Apart from group and member information the database also stores subscriber information such as privileges presence information etc. The other components of the MS may interact with the database to retrieve update the group members and presence information for various operations. The database also has pointers to the native address book database on the MS to provide seamless alias naming for contacts used with cellular calls as well as AVS features.

The user interface provides a mechanism for the user to view and manage groups group members contacts presence and availability. The user interface also makes it possible to invoke the AVS features from the group contact list screens as described in more detail below.

The BREW AVS client application enables users to communicate instantly i.e. in real time among group members. This service is provided on wireless MS that have a Push to talk PTT button and speaker capability. AVS calls include PTT calls Voice Bridge Instant Conference and Voice Notes Instant Voice Message .

The BREW AVS client application is a downloadable over the air OTA application for the BREW enabled MS . The BREW AVS client application can be downloaded over the air OTA and requires no handset replacement. The suite of functions provided by the BREW AVS client application includes Voice Bridge instant group conferencing Voice Notes instant voice messaging for individuals and groups and Instant Availability.

The following table describes the user interface screens and different options available from the BREW AVS client application 

The AVS functionality provided by the BREW client application is described in more detail below in conjunction with .

Note that in the above figures the particular sequence of steps designated keys items displayed functions performed and prompts displayed are for illustrative purposes only. Those skilled in the art will recognize that other sequences of steps designated keys items displayed functions performed or prompts displayed may be used without departing from the scope of the present invention.

The foregoing description of the preferred embodiment of the invention has been presented for the purposes of illustration and description. It is not intended to be exhaustive or to limit the invention to the precise form disclosed. Many modifications and variations are possible in light of the above teaching. It is intended that the scope of the invention be limited not with this detailed description but rather by the claims appended hereto.


---

title: Network service performance monitoring apparatus and methods
abstract: Network service performance monitoring apparatus and methods are disclosed. Performance information associated with a network service is collected from multiple service monitoring points. The service monitoring points include at least a service monitoring point in a first communication network and a service monitoring second communication network that is controlled independently of the first communication network. The first communication network could be a network in which a service provider system that provides the network service is located, and the second communication network could be a communication network through which the network service is accessible by a network service consumer. In this case, the collected performance information may be integrated to create an inter-network view of performance of the service. Historical performance information associated with a network service may be used to establish a performance baseline for the service.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07865584&OS=07865584&RS=07865584
owner: Alcatel Lucent
number: 07865584
owner_city: Paris
owner_country: FR
publication_date: 20061107
---
The present patent application claims the benefit of U.S. Provisional Patent Application Ser. No. 60 814 983 entitled NETWORK SERVICE PERFORMANCE MONITORING APPARATUS AND METHODS and filed on Jun. 20 2006 the entire contents of which are incorporated herein by reference.

The present patent application is related to each of the following patent applications the contents of which are entirely incorporated herein by reference 

U.S. Provisional Patent Application Ser. No. 60 815 134 entitled SECURE DOMAIN INFORMATION PROTECTION APPARATUS AND METHODS and filed on Jun. 20 2006 and U.S. Utility patent application Ser. No. 11 467 387 filed on Aug. 25 2006 and claiming the benefit thereof 

U.S. Provisional Patent Application Ser. No. 60 815 099 entitled COMMUNICATION NETWORK APPLICATION ACTIVITY MONITORING AND CONTROL and filed on Jun. 20 2006 and U.S. Utility patent application Ser. No. 11 460 789 filed on Jul. 28 2006 and claiming the benefit thereof 

U.S. Provisional Patent Application Ser. No. 60 814 963 entitled SECURE COMMUNICATION NETWORK USER MOBILITY APPARATUS AND METHODS and filed on Jun. 20 2006 and U.S. Utility patent application Ser. No. 11 465 172 filed on Aug. 17 2006 and claiming the benefit thereof.

This invention relates generally to communications and in particular to monitoring performance of network services.

Services for which information is distributed through a communication network may be referred to as network services. Web services are an example of network services and represent the next generation of technology being used for automatically exchanging information between different applications over the public Internet and many private networks. Web services provide a framework for building web based distributed applications and can provide efficient and effective automated machine to machine communications.

From a technology point of view web services are network accessible functions that can be accessed using standard Internet protocols such as HyperText Transfer Protocol HTTP eXtensible Markup Language XML Simple Object Access Protocol SOAP etc. over standard interfaces.

The real power of web services technology is in its simplicity. The core technology only addresses the common language and communication issues and does not directly address the onerous task of application integration. Web services can be viewed as a sophisticated machine to machine Remote Procedure Call RPC technology for interconnecting multiple heterogeneous untrusted systems. Web services take the best of many new technologies by utilizing XML technology for data conversion transparency and Internet standards such as HTTP and Simple Mail Transfer Protocol SMTP for message transport.

One of the primary drivers behind the development and standardization of web services is the ability to facilitate seamless machine to machine application level communications by providing a loose coupling between disparate applications. Such a loose coupling of applications allows applications on different servers to interoperate without requiring a static inflexible interface between them. Applications using very different technologies can interoperate using standard web services protocols.

A significant problem faced by network and application administrators in respect of network services or more generally network applications by which services are exposed to users is the ability to monitor service availability and performance based on performance baselines or other metrics for services provided within an organization and across organizational boundaries. Good corporate governance dictates that proper monitoring and control points be in place for all business activities.

Individual software applications and services may provide control and reporting of performance of a particular application at the service provider but they do not have the capability to provide a consolidated end to end view of service performance at the service provider and the service consumer or any other points along a service transaction path. Distributed application and service management products similarly only reflect service performance at a service provider and not at other strategic network monitoring points. These types of application provider or server based monitoring approaches are also unable to monitor service performance between independently controlled networks that are in different administrative realms.

Network nodes that process service access messages such as existing firewalls and gateways may provide a log of all Internet Protocol IP messages that have been processed. They do not however supply the ability to track service performance for a particular service and provide a consolidated record of service performance across different networks or administrative realms.

Embodiments of the invention may enable such functions as monitoring network service availability monitoring network service performance and establishing performance baselines to ensure that a published network service performs within and conforms to corporate standards as well as external Service Level Agreements SLAs .

According to one aspect of the invention a machine implemented method is provided. In one embodiment the method includes collecting from a plurality of service monitoring points performance information associated with a network service and maintaining a record of performance of the network service based on the performance information collected at the plurality of service monitoring points. The plurality of service monitoring points includes a service monitoring point in a first communication network and a service monitoring point in a second communication network that is controlled independently of the first communication network.

The network service may include respective offerings of a type of network service by respective service provider systems in the first communication network and the second communication network.

Where the network service is provided by a service provider system in the first communication network and the second communication network is an external independently controlled communication network through which the network service is accessible by a network service consumer the record may be a record of inter network performance of the network service.

The method may also include designating a primary intra network collection point in each of the first communication network and the second communication network to collect performance information from multiple service monitoring points in each network. In this case collecting may involve collecting information from the designated primary intra network collection points.

In some embodiments the method includes comparing the record of performance to a performance requirement of the network service and generating an alert responsive to a difference between the record of performance and the performance requirement.

The performance requirement may reflect one or more of an SLA requirement an active baseline requirement established based on previously collected performance information associated with the network service and an internal performance requirement established in the first communication network.

Collecting may involve collecting information based on transaction data associated with the network service.

An apparatus is also provided and includes a performance information collection module and a performance information processing module. The performance information collection module is operable to collect from a plurality of service monitoring points performance information associated with a network service. The plurality of service monitoring points includes a service monitoring point in a first communication network and a service monitoring point in a second communication network that is controlled independently of the first communication network. The performance information processing module is operatively coupled to the performance information collection module and is operable to maintain a record of performance of the network service based on the performance information collected at the plurality of service monitoring points.

The network service may include respective offerings of a type of network service by respective service provider systems in the first communication network and the second communication network.

Where the network service is provided by a service provider system in the first communication network and the second communication network is an external independently controlled communication network through which the network service is accessible by a network service consumer the record may be a record of inter network performance of the network service.

The performance information collection module may be a designated primary intra network collection point in one of the first communication network and the second communication network and be operable to collect performance information from multiple service monitoring points in the one of the communication networks and to collect performance information from a designated primary intra network collection point in the other of the communication networks.

In some embodiments the performance information processor includes an alert generator that is operable to compare the record of performance to a performance requirement of the network service and to generate an alert responsive to a difference between the record of performance and the performance requirement.

As noted above the performance requirement may reflect one or more of an SLA requirement an active baseline requirement established based on previously collected performance information associated with the network service and an internal performance requirement established in the communication network.

The performance information processor may include a baseline generator for generating the active baseline requirement based on previously collected performance information associated with the network service.

The performance information collection module may collect performance information based on transaction data associated with the network service. If the transaction data includes data related to web service request and reply messages the data may include one or more of message size message type time received internal processing time and time sent.

A web services node may incorporate such an apparatus and in some embodiments is implemented at one or more of the first communication network the second communication network and a central aggregation point.

According to another aspect of the invention an apparatus includes a performance information collection module for collecting performance information associated with a network service at a service monitoring point the service monitoring point being a service monitoring point in one of a first communication network and a second communication network that is controlled independently of the first communication network and an interface enabling the collected performance information to be forwarded to the other of the first communication network and the second communication network.

There is also provided a machine readable medium storing a data structure. The data structure includes an identifier of a network service and performance information associated with the network service. The performance information includes performance information collected at a plurality of service monitoring points. The plurality of service monitoring points includes a service monitoring point in a first communication network and a service monitoring point in a second communication network that is controlled independently of the first communication network.

The data structure may also include information indicative of a condition under which a performance alert based on the performance information is to be generated.

A further aspect of the invention relates to an apparatus that includes a memory for storing historical performance information associated with a network service and an alert generator operatively coupled to the memory and operable to determine based on the historical performance information whether to generate an alert responsive to subsequently collected performance information associated with the service.

The apparatus may also include a baseline generator operatively coupled to the memory and to the alert generator and operable to establish a performance baseline based on the historical performance information. In this case the alert generator is operable to determine whether to generate an alert by comparing the subsequently collected performance information to the performance baseline established by the baseline generator.

A Graphical User Interface GUI is also provided and includes respective representations of a plurality of service monitoring points the plurality of service monitoring points including a service monitoring point in a first communication network and a service monitoring point in a second communication network that is controlled independently of the first communication network and respective representations of performance information associated with a network service that has been collected at the plurality of service monitoring points.

A further aspect of the invention provides a machine implemented method that involves collecting performance information associated with a network service at a service monitoring point the service monitoring point comprising a service monitoring point in one of a first communication network and a second communication network that is controlled independently of the first communication network and forwarding the collected performance information to the other of the first communication network and the second communication network.

According to yet another aspect of the invention a machine implemented method involves obtaining historical performance information associated with a network service and determining based on the historical performance information whether to generate an alert responsive to subsequently collected performance information associated with the network service.

The method may also involve establishing a performance baseline based on the historical performance information in which case the operation of determining may involve comparing the subsequently collected performance information to the performance baseline.

Other aspects and features of embodiments of the present invention will become apparent to those ordinarily skilled in the art upon review of the following description.

The enterprise system includes one or more application servers an application platform operatively coupled to the application server s a gateway operatively coupled to the application platform and to the communication network one or more user systems operatively coupled to the application platform and to the gateway an identity system operatively coupled to the application platform to the user system s and to the gateway and an application manager operatively coupled to the application platform and to the gateway. Other components or systems such as firewalls located on either side of the gateway to provide a DeMilitarized Zone DMZ may also be deployed. The enterprise system may have a similar structure.

In the application system an application platform is operatively coupled to the communication network and to one or more application servers . The remote user system installation includes an application proxy agent operatively coupled to one or more user systems .

Although many enterprise systems application systems remote user system installations service controllers and possibly other types of systems may be provided in a communication system only illustrative examples of certain types of systems have been shown in to avoid overly complicating the drawing. Internal details of the communication network such as border or access equipment and core switching routing components and the enterprise system have also been omitted from for similar reasons. The type structure and operation of the communication network may vary between deployments of embodiments of the invention. Other embodiments of the invention may also include enterprise systems application systems and or remote user system installations that include fewer further or different components with similar or different interconnections than shown.

It should therefore be appreciated that the communication system of as well as the contents of the other drawings are intended solely for illustrative purposes and that the present invention is in no way limited to the particular example embodiments explicitly shown in the drawings and described herein.

Those skilled in the art to which the present invention pertains will be familiar with many different types of communication networks including overlay networks such as application layer networks and more traditional infrastructures. The present invention is not limited to any particular type of communication network. In one embodiment the communication network is the Internet or some other public network.

Many examples of access technologies through which the systems access the communication network will also be familiar to those skilled in the art and accordingly have not been separately shown in .

Considering first the enterprise system an application server supports applications that may provide functions illustratively services for use by at least the local user system s . Where multiple application servers are deployed each server supports a respective set of functions or services which may or may not overlap the services supported by other servers.

In some embodiments these functions are also made available for use by external user systems such as user systems in the enterprise system where owners or operators of the enterprise systems have an agreement for inter system access by their users and or the user system s at the remote user system installation . The service controller may be involved in managing the usage of services which are provided by service provider systems such as the application server s within one administrative domain by external network service consumers such as the user system s .

References herein to use of applications are intended to convey the notion of any such function. Generally an application server executes a software application to provide these functions. A service such as a web service is an example of an application function that is exposed to user systems in the context of the present disclosure. Any references to applications functions and services should be interpreted accordingly.

An application server may include such components as one or more processors one or more memory devices and an interface for exchanging application transaction information such as service request messages and corresponding responses with user systems. Memory devices in an application server may be used to store operating system software application software etc. for use by the application server processor s . Enterprise systems such as are often implemented as a network in which case a network interface enables the application server s to communicate with the user system s and possibly other components of the enterprise system. In another possible implementation an application server includes separate interfaces for communicating with different enterprise system components.

A user system may similarly include one or more processors one or more memory devices and some sort of interface s for communicating with the application server s and possibly other components of the enterprise system . Operating system software client software for interacting with the application server s and or other types of information may be stored in user system memory devices.

Those skilled in the art will be familiar with many different types of systems that provide and or use network applications. Embodiments of the present invention relate primarily to monitoring the performance of network applications as opposed to how these applications are actually supported and accordingly the application server s the user system s and their operation are described only briefly herein to the extent necessary to illustrate aspects of the invention.

The identity system represents another component that is commonly provided in enterprise systems such as corporate networks and will be familiar to those skilled in the art. Access to services or other functions supported by the application server s in many cases must be restricted to a particular set of users. The identity system which may authenticate users and or user systems through interaction with a Lightweight Directory Access Protocol LDAP directory or other type of user database for example supplies a digital identity that may be used for authorizing or denying access to network services.

In terms of structure the application platform includes application server interfaces that are compatible with the user system interfaces illustratively Application Programming Interfaces APIs of the application server s one or more interfaces compatible with the application server interface s of the user system s and components for processing messages or other information received and or transmitted through these interfaces. As described in further detail below external user systems may be able to access the application server s through the gateway in which case the user system interface s of the application platform may also enable the application platform to communicate with the gateway . However in some embodiments a separate gateway interface may be provided for this purpose.

The gateway would also include one or more internal interfaces compatible with interfaces of other components of the enterprise system one or more external interfaces for enabling communication signals to be transmitted and or received through the communication network and intermediate components for processing signals received and or transmitted through the interfaces.

The application manager represents a control or monitoring element that might not itself perform real time processing of information as it is transferred between the application server s and the local user system s or external user systems. The application manager may communicate with the application platform and the gateway through compatible interfaces to perform such functions as configuring the application platform and or the gateway illustratively by downloading policies to the platform and or the gateway for enforcement.

The internal components of the application platform the gateway and the application manager may be implemented in hardware software firmware or some combination thereof. An apparatus as described below with reference to provides an illustrative example of a subsystem that may be provided in the application platform or the gateway .

In a traditional deployment of a so called Service Oriented Architecture SOA for an enterprise network SOA components are individually deployed and integrated on each application server. Publishing a service for use on a network within the enterprise system for instance would require a service registry for discovery and management of service offerings. Although web service standards address the need to restrict service access to authorized users a web services policy server would be needed to store and provide this information. Enforcing these policies can also be a challenge in that software vendors may require substantial changes to applications and servers in order to adapt to enterprise systems.

All of this can represent a significant project for an enterprise and may well have a relatively long implementation cycle. In addition the skill set required to implement such a project is highly specialized which might make an SOA implementation not economically feasible.

When extending web services or other types of applications to partners between the enterprise systems for example even more challenges exist for an SOA infrastructure deployed on application servers. For instance applications deployed at partner sites might use diverse security mechanisms that cannot share user identity information freely requiring translation of security tokens for users. Placing the burden of security token translation or other security functions on each application server tends to be costly and inefficient.

Data privacy requirements are also very difficult or even impossible to enforce at each application server since application servers themselves might not be aware of whether a user system or more generally a consumer of its service is external to its enterprise system.

XML specific denial of service XDOS attacks and possibly other threats may be particularly problematic in application server based SOA implementations. Web services for example are open to XDoS attacks which cannot be effectively dealt with on application servers.

The migration of server based SOA to a web services model to achieve application interoperability via loosely coupling applications necessitates the need for additional messaging illustratively in the form of SOAP headers and XML messages as well as additional processing requirements for managing these messages. This additional overhead consumes network bandwidth and can result in significant new requirements for application server hardware.

An alternate model for deployment of an SOA infrastructure is to integrate the SOA components into enterprise network elements as shown in . The application platform the gateway and the application manager represent SOA components in the enterprise system .

Deploying the SOA infrastructure separately from the application server s may provide several benefits the SOA infrastructure is then application agnostic applications require minimal modification the SOA infrastructure is an end to end integrated solution application server processing overhead is minimized and network bandwidth can be optimized.

With an enterprise system network based SOA deployment any message translations required for applications to interoperate can be performed according to policies set within the enterprise system not by the applications themselves. This allows translations to be defined independently of applications removing the reliance on application vendor implementations.

The business logic required to adapt message format and content is thus provided by the enterprise not by the application minimizing application modification. Web services messages for example can be adapted within an enterprise network to achieve application interoperability. As new interoperability requirements arise perhaps due to merger acquisition or the need to integrate with a new partner no application modification is required. New policies for message translation can instead be defined to provide for the new interoperability.

An SOA infrastructure deployed as an integrated enterprise network solution can provide a single monitoring control and consolidated reporting point illustratively the application manager . This can be important to enable proper corporate governance continuous corporate improvement and the ability to demonstrate compliance with regulations concerning data privacy and network security for instance.

Application server processing requirements for application interoperability can be significantly reduced for two reasons application server offload and a reduced number of required translations. Translations can be done once at the application platform for example and then forwarded onto multiple destinations rather than each application performing its own translation.

The network bandwidth consumed by additional message traffic can be reduced by routing packets to the application server s based upon inspecting the message SOAP headers XML tags or other message content. Routing can be sensitive to application contexts rather than based on static IP addresses for example.

If application server functions are to be extended to partner enterprise systems an SOA infrastructure deployed as enterprise network infrastructure may provide many further advantages. Translation of security tokens can be done once at the demarcation point between the partners networks illustratively at the gateway for external accesses to the application server s providing a single enforcement point for security policy. Data privacy can also be enforced at the point where data leaves a security domain again at the gateway for example. This drives efficiencies and reduces costs. In addition denial of service attacks targeted at corporate web services can be defended at the gateway the enterprise network edge which is perhaps the most secure place to deal with this issue.

The application platform provides an SOA infrastructure for integrating applications that traditionally have run as stand alone applications and may enable such capabilities as controlling and monitoring all activity initiated by a validated user to thereby allow generation of a consolidated audit trail translation for message and document formats managing the life cycle for applications including the staged rollout of web services and rollback to previous versions in the event of unexpected behavior for instance and monitoring application service performance to ensure that applications services meet internal corporate requirements.

This listing of example functions of the application platform like other functional examples noted herein is by no means restrictive or exhaustive. Many functions may be implemented independently every embodiment need not necessarily provide all functions and other functions may also be or become apparent to those skilled in the art.

Benefits of the application platform may include reduced application integration cost through minimum change to existing applications as noted above ensuring that access to corporate applications complies with Government regulations a central monitoring and control point for employee access to web services and continuous corporate improvement through consolidated reporting.

The gateway effectively extends an intranet SOA provided by the enterprise system through the communication network into an extranet allowing seamless integration with customers and partners without compromising security or privacy. Functions of the gateway may include possibly among others any or all of extending applications to a partner extranet and branch locations providing seamless mobility for partner access to applications ensuring partner access to corporate applications complies with Government regulations and maintaining privacy of corporate identities without compromising traceability.

In providing mobile access to the application server s from any partner sites associated with the enterprise system the gateway may allow the secure identification of partner institutions and acceptance of identities between different security domains. Application message and data translations for user systems associated with external partner sites may also be provided by the gateway while ensuring that all data remains private as per corporate policy. A consolidated audit trail of all application access may be collected and provided to an external partner enterprise system by the gateway to demonstrate conformance with regulations for instance.

The application manager provides a central point for monitoring and control of the application platform the gateway and any other platforms and gateways not shown in the enterprise system . Globally consistent policies for all applications so as to ensure improved corporate governance and or compliance with Government regulations can also be established in some embodiments through the application manager and distributed to the application platform and to the gateway for enforcement. The central application manager may also provide for globally consistent application change management.

The enterprise system includes both application server s that support applications and one or more user system s that may use those applications. However it should be appreciated that application servers and user systems need not necessarily be co located. The application system for example includes one or more application servers but no local user systems. Although only an application platform is shown in the application system some implementations of an application system might also include a gateway. Whereas the application system as shown might be suitable for example for a remote data center that is associated with a primary data center as the enterprise system a stand alone or unaffiliated application system that hosts applications for use by external user systems might also include a gateway for handling authentication of the external users for instance.

The application platform in the application system may interact with the application manager of the enterprise system or more generally the application manager of an affiliated enterprise system. In the case of a stand alone application system a local application manager may be provided. In some implementations the external service controller interacts with SOA infrastructure components in multiple different domains. For example the external service controller is operatively coupled to the communication network and might configure the gateway and a gateway in the enterprise system to collect and exchange performance statistics.

A user only deployment is shown in as the remote user system installation . The application proxy agent allows the user system s at a partner or branch location for example to use applications provided by remotely located application servers. In one embodiment the application proxy agent is a scaled down version of the gateway . The application proxy agent like the gateway might maintain privacy of corporate identities during authentication of the user system s with the enterprise system without compromising traceability and support secure communications through the communication network using tunnelling techniques for example but need not necessarily be able to authenticate external users since the remote user system installation does not host applications that could be used by external user systems.

The external service controller provides for external management of the sharing of network services between the systems but need not itself include or operate in conjunction with local service provider systems or service consumer systems. A service controller such as might therefore include a service registry system and a network interface through which network service information and service discovery information may be exchanged with the systems . The external service controller may also include components for collecting and or processing service performance information.

In operation a user system that wishes to make use of an application provided by an application server is first authenticated by the identity system . Those skilled in the art will be familiar with many security schemes that may be used for this purpose such as username password authentication. Where remote access to an application server is supported user authentication may be handled by the gateway possibly through interactions with an external identity system. The gateway may also be involved in authentication when a user system that is associated with a partner enterprise system or site is locally connected to the enterprise system and wishes to access an application server .

When a user has been authenticated messages or other forms of information may be exchanged between a user system and the application server s . A user may be allowed to access multiple applications after a single successful authentication.

As noted above improved techniques for monitoring performance of network services are needed. For example currently available products do not enable monitoring of network service performance in multiple independently controlled networks.

In addition there are no available products that allow service performance monitoring or automatic establishment of performance baselines at various network nodes to ensure conformance to Service Level Agreements SLAs by providing a consolidated record of service performance with alerts or alarms when performance is not within SLA requirements.

Currently available products also do not allow network and application administrators to monitor and baseline service performance by collecting service transaction data or other service performance information at multiple network sensor or collection points or to provide a consolidated record of end to end web service performance that transcends organizational boundaries.

These shortcomings leave administrators with no clear per service record of the actual performance availability and baseline delivered to service consumers and in the case of poor performance no indication of where the performance problem might be occurring and no ability to raise an alarm or even confirm whether the problem is within their organization their service provider or one of their business partners.

Network resident service performance monitoring as disclosed herein may allow multi point sensing of performance information such as service transaction data. A real time per service end to end record of service availability and performance can thereby be provided. In some embodiments automatic establishment of service performance baselines within an enterprise and across organizational boundaries is also possible.

As will become apparent from the following description embodiments of the invention may be implemented using a series of subsystems such as the service controller the application platform the gateway the application manager and the application proxy agent . These subsystems might be implemented as network nodes that process service messages in real time in order to facilitate application integration and enable rapid and cost effective deployment of SOAs as noted above.

Potential benefits of network resident service monitoring may include any or all of providing a tremendous operational cost saving tool for network and application administrators who need to ensure that service performance meets corporate requirements and or conforms to external SLAs supporting active monitoring of service availability and allowing appropriate baseline performance levels within their organization and across organizational boundaries to be automatically determined.

As noted above with reference to the contents of the drawings are intended solely for the purposes of illustration. A device in which the apparatus is implemented may include additional components that have not been explicitly shown for example. These components might take various forms depending on the point at which or the device s system s in which or in conjunction with which the apparatus is implemented. In general other embodiments of an apparatus may include further fewer or different components than explicitly shown with similar or different interconnections.

The types of connections through which the components of are operatively coupled may to at least some extent be implementation dependent. Electronic devices often use various types of physical connectors and wired connections. In the case of cooperating software functions for example an operative coupling may be through variables registers or commonly accessed areas of a memory and thus include a logical coupling.

Hardware software firmware or combinations thereof may be used to implement components of the apparatus . Processing elements such as microprocessors microcontrollers Programmable Logic Devices PLDs Field Programmable Gate Arrays FPGAs Application Specific Integrated Circuits ASICs and other types of intelligent integrated circuits may be suitable for this purpose.

The apparatus may interact with other components of a local communication network and a partner network through the interfaces . These interfaces may be of the same type or different types or even be the same interface where the same communication medium is used for information transfers with all other components. However in many implementations it is likely that the user system interface s will differ from at least the application server interface s and that multiple application server interfaces of different types may be provided for different application servers. The external interface s may include one or more interfaces of other different types.

A user system interface enables the apparatus to exchange application access information such as web service messages with user systems. Each application server interface similarly allows the apparatus to exchange application access information with a respective set of one or more local application servers.

This type of architecture for the apparatus might be appropriate for example when the apparatus is implemented at a gateway for monitoring service performance by monitoring information such as service messages associated with usage of locally hosted applications by external user systems and or service messages associated with usage of externally hosted applications by local user systems since a gateway might handle all application access information for an enterprise system.

However it should be appreciated that other implementations are also possible. In general the apparatus might be implemented at any service performance monitoring or analysis point as will become apparent from the following description. For an implementation of the apparatus at the application platform for example the external interface s might include an interface that is compatible with the gateway rather than the communication network . Thus the types and numbers of the interfaces might vary depending upon the location of a monitoring point but monitoring points may perform at least substantially similar functions as disclosed herein regardless of their location.

Through the external interface s the apparatus may exchange information with remote application servers and or user systems. In the system of for instance exchanges between the enterprise systems may involve transfer of information through the communication network and appropriate network interfaces at the enterprise systems. Network interfaces compatible with the communication network may be provided at the gateway and a corresponding gateway at the enterprise system . According to embodiments of the invention the gateways in enterprise systems may be responsible for at least collecting and possibly also processing service performance statistics and or other forms of service performance information. Service performance information collection and or analysis points could also or instead be provided at application platforms the application proxy agent or at other points along a service path between application servers and user systems depending on the desired granularity of service performance monitoring.

For multi point service performance monitoring the external interface s may also enable the performance information collection module to collect performance information from other performance information collection modules. This may be accomplished by communicating with the other performance information collection modules or with a central point that collects performance information from multiple collection modules aggregates that performance information and distributes the aggregated performance information.

The structure and operation of the interfaces will be dependent to at least some extent on the communication media and protocols used in information transfers. Those skilled in the art will be familiar with many types of interfaces through which application access information may be received and or transmitted by the apparatus . Any of various types of interfaces may similarly be used to transfer collected performance information between processing points. These interfaces may also vary depending on where in an enterprise system or other administrative domain the apparatus is implemented as noted above.

It should be appreciated for example that the apparatus need not itself be actively involved in transferring application access information such as service messages. The performance information collection module at a gateway might passively listen for service messages without having any involvement in actually routing such messages into or out of an enterprise network for instance.

The performance information database may be provided in one or more memory devices. Solid state memory devices are common in electronic equipment and the performance information database may be implemented using one or more memory devices of this type. However other types of memory devices including memory devices for use with movable or even removable storage media may also or instead be used to store the performance information database .

Other components of the apparatus may be implemented using hardware software and or firmware. Based on the descriptions of these components provided herein a person skilled in the art will be enabled to implement service monitoring techniques according to embodiments of the invention in any of various ways.

In operation the performance information collection module and the performance information processing module may automatically monitor thresholds associated with performance metrics which may be defined in SLAs for example and actual service performance. Some embodiments of the invention may support cooperative inter network performance monitoring CIPM between networks that are in different administrative realms or domains and thus are independently controlled. An automatic baselining AB function may also or instead be provided. These and other functions may be provided as network resident functions to create a unique per service end to end view of service availability current performance and performance baselines that can transcend organizational boundaries.

Network operators can use service performance information which may be presented in views created by CIPM and or AB for instance to enhance conformance to SLAs to understand internal and external performance profiles and to automatically isolate bottlenecks within their SOA.

An XML processing device such as a web service gateway can implement the techniques disclosed herein to accomplish any or all of the following tasks possibly among others 

Service performance monitoring CIPM and AB implementations may include several high level components such as a service availability monitor a service performance monitor an alert generator and a baseline generator. These components are described in further detail below and are represented in as the performance information collection module which may provide service availability monitor and or performance monitor functions the alert generator and the baseline generator . It should be appreciated that not all of these components need necessarily be provided in every implementation. For example some embodiments of the invention might support CIPM but not AB.

Regarding service availability a service might be considered to be available if it generates responses to requests. Although passive monitoring of response messages from services may provide this information in many cases it is impossible to establish with certainty whether services that have not generated a response message in the recent past are unavailable or simply inactive. Active monitoring could be supported by the performance information collection module in order to determine the status of those services. Service heartbeat messages for example may be used to provide a mechanism for active monitoring of service availability.

Service performance is another example of a service status statistic that may be collected by the performance information collection module . Other measures of a service s operational status may also or instead be monitored in accordance with embodiments of the invention.

For a service that is available it may be important to determine performance statistics of the service provider and performance statistics at key locations in the service path s between the service provider and its consumer s . Response time may be critical to applications that make use of services to implement mission critical functionality for example. The performance statistics for a service could be based on either or both of throughput e.g. number of messages processed total size of request messages total size of response messages etc. and time average delay observed for request response pairs maximum observed delay jitter observed in delay etc. .

CIPM may extend the concept of performance monitoring to the next level by viewing performance information collection as a collaborative process between two or more networks. Collaboration between networks can be mediated and controlled by gateways in enterprise networks for example.

It may be very difficult for application and network administrators to determine the acceptable range of performance for monitored services. In the absence of hard requirements such as an SLA it is likely that administrators will set acceptable thresholds for service performance based on observed performance of services over a period of time. Service performance baselining automates this process and may allow administrators to set the acceptable thresholds for performance based on a number of standard deviations from the mean of a particular performance measure or other configurable deviation s .

Configurable settings could be established by an operator or administrator through a user interface not shown so as to avoid complicating the drawing such as a Command Line Interface CLI that is operatively coupled to the performance information collection module and or to the performance information processing module. Where an operator or administrator accesses the apparatus through a user system a user system interface effectively acts as a configuration interface.

The baseline generator might be configurable to create a performance baseline for any or all of different types of performance information collected by the performance information collection module . Baselines could possibly be specified as time variable or static for example. Time variable baselines generated by the baseline generator could be stored in the performance information database or separately as a graph representing the value of a performance statistic or other performance information versus time. Baselines could also or instead be created based on other variable values such as total message size. An example of a static baseline would be the maximum acceptable delay between a request response pair for a network service.

In the apparatus the baseline generator accesses collected performance information from the performance information database generates a baseline and provides the generated baseline to the alert generator . Other implementations may involve a baseline generator receiving performance information directly from the performance information collection module and or storing generated baselines in the performance information database or in another memory device or area for access by the alert generator .

The alert generator monitors one or more performance metrics such as internal performance requirements SLA agreements and or baselines any or all of which may be stored in the performance information database or separately. In order to ensure that corporate provided services are conforming with prescribed service requirements application and network administrators should be provided with the ability to set alert thresholds and conditions that provide a notification if service performance degrades below the required levels. Alert thresholds and conditions may also be specified for externally supplied services to ensure that such services are in conformance with mutually agreed upon SLAs and or other requirements so that notifications can be provided if performance of an externally provided service degrades below the required levels. A configuration interface such as an interface to the application manager could be provided for this purpose. Such an interface might already be provided where the apparatus is deployed at a gateway for instance. A command line interface CLI is one illustrative example of a configuration interface that may be suitable for this purpose.

The alert generator dynamically monitors current performance levels collected by the performance information collection module . Alerts may be generated based on the detection of a potentially configurable deviation from one or more of active baselines SLAs and internal performance requirements for example.

A services network with performance monitoring can be architected in any of several different ways using two or more network elements in some embodiments. Network resident services elements may include performance information collection agents such as the performance information collection module and performance information processing agents such as the performance information processing module . For CIPM performance information could be collected at distributed services nodes illustratively gateways that proxy all services traffic leaving and or entering an enterprise system. Performance information can be collected for a variety of services and network performance metrics. A list of performance information for which corporations wish to share a global view could be negotiated between the corporations for example.

Performance information processing can be performed at any of various points in a collaborative system internally at application platforms gateways application managers and or application proxy agents or externally at a central management component such as a service controller that manages services for multiple corporations. In the system of the service controller could control at least service monitoring functions of the enterprise systems the application system and or the remote user installation . Performance information collected by the performance information collection modules at service monitoring points are shared between CIPM participants in a collaborative scheme.

Two corporations that offer their local services for external use by users of each corporation illustratively by publishing these services to each other may be interested in implementing CIPM so as to enhance the degree to which performance of their services can be monitored. Exchanges of performance information between such CIPM participants can potentially be accomplished in any of several ways.

According to one possible exchange approach performance information is exchanged in a peer to peer fashion between corporations. A primary performance information processing point could be designated at each corporation for this purpose using the application manager for example where a corporation includes multiple service monitoring points. An enterprise network could include multiple gateways for example and implement the apparatus at each gateway. The processing points in each corporation share agreed upon performance information between corporations in a peer to peer fashion.

Another possible configuration is to utilize an external service controller to configure gateways or other devices in each corporation s network. In this scenario performance information is reported to the service controller by each performance information collection module . Each performance information collection module might also locally store the performance information it collects. The service controller distributes the collected performance information or possibly an aggregated or otherwise processed or combined version thereof among processing points. Standard transfer protocols may be suitable for distribution of performance information from a central collation aggregation point.

A central processing point may have other advantages as well. For example when a service monitoring point in a network detects that one of the local services is not available this could be reported to the central processing point and each external system through which that service is available could be advised accordingly by the central processing point.

Once each corporation has collected performance information from its internal network and shared performance information from partner corporations further processing is performed in some embodiments to create an inter corporation view of service performance.

In one scenario a gateway processes requests from both clients and application servers and records performance information for many different metrics. Metrics can be per service per user etc. and specified in a monitoring policy or other configuration information.

Suppose an end user initiates a service request in an enterprise system and that request is sent to and proxied by an enterprise system gateway at which the apparatus is implemented. The performance information collection module may be configured to collect and store in the performance information database any of many types of performance information based on the received request which may be in the form of a service message. The types of performance information collected might be established by a local administrator based on internal performance goals or requirements or on an agreed upon a set of performance information to collect for CIPM for example. External configuration through a service controller is also contemplated. Examples of collected performance information include message size message type request reply time received time sent toward destination internal processing time etc.

Performance information might be available from a received message itself or calculated based on the message or operations performed on a message. In the above example of a received request message message size might be specified in a message header for instance. For an internal processing time statistic however the performance information collection module might record the time at which the message was received and the time at which the message was forwarded toward its destination or calculate the internal processing time using the receive and forward times.

Continuing with the above example a local user request that is destined for an external application server is forwarded on to an external system through an external interface . As noted above the apparatus need not necessarily be involved in actually routing such requests. Other components of a gateway for example might handle these functions.

At the external system and or possibly at one or more other intermediate points along a service path the request is received or otherwise detected by a performance information collection module which also collects performance information. The performance information collected by each service monitoring point covers at least agreed upon CIPM statistics although any or all service monitoring points may collect additional performance information as well.

The request eventually arrives at the destination application server is processed and a reply is sent back to the originating user system. The reply travels through or is at least detected by the same service monitoring points and performance information can be collected for the reply message.

As noted above service monitoring points may but need not necessarily be actively involved in the transfer of requests replies or other forms of service access information. A service monitoring point might passively listen for service access information to detect a request and a corresponding response for example and then calculate a request reply time difference as a performance measure.

CIPM involves the distribution and collaborative processing of performance information from two or more service monitoring points illustratively gateways. After the above request reply sequence is completed for example all service monitoring points have independent performance information that can be integrated to give an inter corporation view of overall end to end service performance.

Performance information aggregation or integration can be performed in various ways. In one embodiment gateways and application managers collaborate in a peer to peer fashion to exchange CIPM performance information between corporations. As noted above a central service controller could be used to configure gateways and collect performance information. In this case the gateways as service monitoring points send their collected CIPM performance information to the service controller.

The transfer of collected CIPM performance information to a service controller or other central aggregation point could be performed periodically at possibly configurable intervals at certain times of day in response to completion of a request reply sequence when requested by the central aggregation point or a local administrator and or responsive to some other trigger.

Once collected performance information has been shared between CIPM participants whether directly or through a central aggregation point the performance information can be further processed in a variety of ways to extract inter corporation performance data. The performance information collection module may store in the performance information database not only the performance information that it collects itself but also the performance information collected by other CIPM participants.

Utilizing CIPM it is possible to extract performance information that would not otherwise be available. For example by comparing the timestamps of a message sent from a gateway in the enterprise system to the time it was received at the gateway it is possible to determine the latency in the communication network provided the gateways have synchronized clocks. Without CIPM the gateway would not be able to determine if a delayed response was due to network congestion between the enterprise systems or a result of the service s application server being heavily loaded.

This type of processing may also or instead be performed at a service controller or other central processing point. A central performance information aggregation point could thus act as a distribution point as a processing point that is able to report performance information and results of performance information processing or as both a distribution point and a processing point.

CIPM performance information can be used to verify conformance to performance metrics such as external SLAs corporate requirements and or performance baselines. The performance information processing module may perform these types of functions by accessing actual performance information stored in the performance information database and metrics against which performance is to be measured or evaluated. The performance metrics may be stored in the performance information database or in one or more separate stores not shown .

The alert generator compares CIPM performance information to the appropriate performance metric s and automatically generates an alert when violation of a conformance threshold is detected. An alert might be generated when delay is above a threshold or exceeds a normal baseline delay by a predetermined amount for example. Thresholds are configurable in some embodiments and could be set to be zero tolerance a number of standard deviations from the mean or some other value.

Alerts generated by the alert generator are sent to one or more alert clients such an application or network operator or administrator.

The performance monitoring described above is referred to as passive monitoring since no extra request reply pairs are being generated. If there has been no activity on a service for some time then active monitoring may be used to determine whether the service is available. Service availability monitoring could be provided as a configurable feature to allow an administrator to configure the performance information collection module to also actively monitor the availability of one or more services.

Local and or CIPM performance information can also or instead be used to generate performance baselines. This function is represented in by the baseline generator . Baselines provide administrators with an automatically generated view of normal conditions in their services network.

Baselines can be categorized into variable baselines and static baselines. Static baselines might be generated for types of performance information that are expected to remain the same at any time of day or for any message size etc. An example of a static statistic is network delay in a low utilization network for which the raw network delay should be constant at any time of day. Static baselines can be stored as a single number representing the mean value of a statistic over a number of samples for example. Samples can be gathered by utilizing random sampling of collected performance information that relates to the same performance metric.

Variable baselines can change with the time of day or other parameter. For example the number of requests per second may vary with the time of day and the time required to send a message may vary with the message size. Variable baselines may be stored as a graph such that the baseline can be compared to performance information at any point.

To calculate a variable baseline per service or global performance information might be used. When new local or CIPM performance information is received by the baseline generator a decision may be made as to whether the new performance information should be used in baseline calculations. This decision is based on two criteria in some embodiments. First performance information must be determined to be a normal value based on the history and existing baseline. Second the sampling rate is checked. Baselines can be calculated based on sampled performance information. This means that not all performance information is necessarily stored as baseline performance information. Only 1 in every 1000 entries of performance information collected for a performance metric might be included in a baseline calculation for example.

A baseline can be recalculated using new performance information perhaps on a once per day basis or responsive to some other possibly configurable trigger. Some baselines may have a periodic repetition that would not be apparent to a system operator. For example requests per second performance information may have a peak and trough pattern that is repeating on an 8 hour basis instead of 24 hours. Baseline calculations can use pattern recognition to determine the base period of a type of performance information and create the baseline for that period only.

According to one embodiment baselines are calculated on a periodic basis using a sliding averaged window. A baseline for requests per second for instance could be updated once per day based on the last 7 days of performance information. Once the baseline is updated it can be stored with other performance metrics in the performance information database or in a separate store and or transmitted to the alert generator .

The alert generator provides a means to communicate system performance issues to a system operator or other personnel or system s shown generally in as alert clients. The alert generator ties performance requirements such as baselines SLAs and or internal requirements and performance monitoring together into a common framework for detecting alert conditions.

Alerts are generated by monitoring performance information for variations from the baseline SLA or other performance requirements. An alert may be generated by the alert generator based on thresholds when performance information is above or below a configurable threshold for example. As noted above thresholds can be configured to be zero tolerance to allow a number of standard deviations from the mean or to define some other alert condition s .

The alert generator need not necessarily generate an alert based on a single occurrence of collected performance information that is outside an acceptable range for its performance metric. Performance information could be time averaged for example so that small short time spikes do not trigger an alert.

Alerts can be communicated to one or more alert clients via e mail a Simple Network Management Protocol SNMP agent or some other notification method. The alert generator therefore could be operatively coupled to one or more of the interfaces for communicating alerts to alert clients.

Embodiments of the invention have been described above primarily with reference to the communication system of and the apparatus of . is a flow diagram of a method according to another embodiment of the invention.

In the method performance information associated with performance of a service is collected at . The collected performance information may include local performance information and or CIPM performance information collected by remote service monitoring points. At the collected performance information is compared with one or more thresholds. These thresholds may be representative of service requirements such as SLAs internal goals or requirements and or baselines.

Based on the comparison s made at a determination is made at as to whether an alert should be generated. Examples of alert generation criteria have been noted above. If an alert condition is detected at then an alert is generated at and sent to one or more alert clients. Otherwise or when the alert is generated the collected performance information is recorded and or reported to a service controller or CIPM participants for instance at .

The method is illustrative of one embodiment of the invention. Other embodiments may involve performing fewer additional or different operations and or performing operations in a different order than shown. For example alert processing at need not necessarily be performed before collected performance information is recorded and or reported at . In some embodiments alert processing and performance information recording proceed in parallel or alert processing is performed after performance information has been reported. Another operation that may be performed in some embodiments is baseline generation. It should also be appreciated that performance information collection and analysis may be an ongoing process with the method being repeated while service performance monitoring is enabled.

A service might be identified at by a service or application name or address for example. A threshold or baseline may include a value or series of values and possibly multi dimensional values in the case of a variable threshold or baseline. An alert criterion stored at could specify a tolerable variation by which collected performance information may vary from a threshold or baseline whether an alert is to be raised when collected performance information is above or below its threshold or baseline and or other conditions governing alert generation. The performance information field represents performance information that has been collected for the identified service. For a CIPM implementation a record of performance information might also include an indication of each service monitoring point at which the performance information was collected.

The data structure is intended as an illustrative example of the types of information that may be stored during service performance monitoring. A performance record for a service might include all of the data fields shown in so as to provide a complete record of performance information collected for that service and the performance thresholds that have been applied to that service. Performance information collected for a service could instead be stored separately. A performance metric data structure might include only an identifier of the metric threshold baseline information and one or more alarm criteria.

Further variations of the data structure might include fewer additional or different fields and or an arrangement of fields in a similar or different order than shown.

A GUI represents another form in which aspects of the present invention may be embodied. is a block diagram of an example of such a GUI. The GUI may be presented on a display device of an operator terminal for example. With reference to an administrator or operator might access performance information stored in the database through a user system and a user system interface . The accessed information or a processed version thereof could then be presented on a display device at the user system.

The example GUI includes representations of service monitoring points along a network service transaction path. As shown the service monitoring points are identified in the GUI as network components at which service monitoring has been enabled. These service monitoring points might be identified in some other way in different implementations using icons and or network addresses for instance.

The transaction path shown in the GUI includes multiple independently controlled networks and representations of these networks including two enterprise systems and an intermediate communication network are also provided at .

Representations of performance information that is associated with a network service and has been collected at the service monitoring points are provided at . Performance information may be represented in any of various forms such as text numbers plots etc. A performance information representation might instead be a link or other active graphical element that can be selected to display performance information.

Where performance information meets alert conditions an alert indication could also or instead be provided. In the event that requests are being delayed by more than a maximum delay time at the gateway represented at for example an alert indication could be provided by coloring the gateway representation with an alert color illustratively yellow or red.

Performance requirements such as baselines and or SLA based requirements could also be displayed in the GUI . This would provide an operator with an indication of the current status of a network service relative to the requirements for that service.

The GUI is one illustrative example of a visual indication of network service performance that may be provided according to one embodiment of the invention. In other embodiments further fewer or different graphical elements could be provided in a similar or different layout than shown. For instance an indication of the network service being viewed could be provided as part of the application server representation or separately as a screen title or within the performance information representations . A GUI might also include representations of other components not necessarily only those at which service monitoring has been provided or enabled. Further variations may be or become apparent to those skilled in the art.

Embodiments of the invention may provide service monitoring and baselining to ensure that a published service conforms to requirements such as corporate standards and or external SLAs. Network resident service monitoring allows multi point sensing of service transaction performance providing a real time end to end view of performance and automatic establishment of current service baselines within an enterprise and across organizational boundaries.

This capacity may be useful to network and application administrators so as to provide assurance that services are performing as required and to isolate network or application level issues for troubleshooting. Current methods for monitoring network or application performance only support sensing at the point at which a service is published and isolated monitoring of IP packet flows en route. It is currently extremely difficult if not impossible for administrators to establish a complete view of actual performance experienced by a consumer of a service.

Automatic baseline generation can be used to provide a service operator with an easy to use method of detecting transient anomalies within their network. Real time alerts can be generated when current performance levels drift or spike too far from the baseline value.

There are no available products today that allow service performance monitoring and automatic establishment of a performance baseline at various network nodes to ensure conformance to SLAs by providing a consolidated view of web service performance with alarms when performance is not within an SLA requirement.

Service performance monitoring and baselining as disclosed herein create a unique per service end to end view of service availability performance and service performance baseline values. The view can be created per service for providers consumers within an enterprise and or for providers consumers external to the enterprise allowing network and application administrators to ensure service performance both within and across organizational boundaries.

The ability to ensure performance of services via real time monitoring with alerts and consolidated per service performance audit trails even across organizational boundaries is a powerful tool that is not currently available to administrators.

More generally embodiments of the invention can be used to provide the complete functionality of a full service SOA infrastructure as follows 

These and other functions have been disclosed herein and or in one or more of the above referenced related patent applications.

What has been described is merely illustrative of the application of principles of embodiments of the invention. Other arrangements and methods can be implemented by those skilled in the art without departing from the scope of the present invention.

For example as noted above the present invention is in no way limited to the particular divisions of functions method steps data structure contents or GUI contents shown in the drawings and explicitly described above.

It should also be appreciated that the present invention is not limited to the above illustrative example of performance monitoring across different networks wherein a network service is provided by a service provider system in one communication network such as the enterprise system or the application system and is being used by a network service consumer through an external and independently controlled communication network such as the communication network the enterprise system and or the remote user system installation . Although performance information collection at the different networks in this scenario would allow an administrator to maintain a record of inter network performance of the network service other applications of embodiments of the invention are contemplated.

Network service monitoring could potentially be applied to compare respective offerings of a type of network service by respective service provider systems in different communication networks. With reference to suppose that a user system in the remote user system installation can access a specific type of service that is offered by respective application servers in the enterprise system and the application system . A user of the user system might wish to determine which service provider system the application servers in this example offers the best performance. In this case performance information could be collected from both systems and a comparative determination of performance for the service can be made.

In addition although described primarily in the context of methods and systems other implementations of embodiments of the invention are also contemplated illustratively as data structures or instructions stored on one or more machine readable media or as GUIs generated to display collected statistics and or alerts for example.


---

title: Proactive rebooting in a set-top terminal and corresponding methods
abstract: A set-top terminal and related methods is provided that, in one embodiment, comprises a memory with proactive reboot logic and a processor configured with the proactive reboot logic to detect an indication of a critical condition associated with the set-top terminal, determine based on a current status of resources in the set-top terminal if a current time provides an opportunity for a reboot of the set-top terminal in a manner that reduces user intrusiveness, and effect a rebooting of the set-top terminal if the current time provides the opportunity, otherwise postponing the reboot.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07681028&OS=07681028&RS=07681028
owner: Scientific-Atlanta, LLC
number: 07681028
owner_city: Lawrenceville
owner_country: US
publication_date: 20061103
---
This application is a continuation of U.S. utility application entitled PROACTIVE REBOOT having Ser. No. 10 317 879 issued as U.S Pat. No. 7 149 889 filed Dec. 12 2002 which is entirely incorporated herein by reference.

The present invention is generally related to television systems and more particularly is related to rebooting operations in television systems.

With recent advances in digital transmission technology subscriber television systems are now capable of providing much more than the traditional analog broadcast video. In implementing enhanced programming the home communication terminal HCT otherwise known as the set top box has become an important computing device for accessing content services and content within those services and navigating a user through a maze of available services. In addition to supporting traditional analog broadcast video functionality digital HCTs or DHCTs now also support an increasing number of two way digital services such as video on demand and personal video recording.

Typically a DHCT is connected to a cable or satellite or generally a subscriber television system and includes hardware and software necessary to provide the functionality of the digital television system at the user s site. Each DHCT also typically includes a processor an operating system communication components and memory and is connected to a television set or other display device such as a personal computer.

Some of the software executed by a DHCT can be downloaded and or updated via the subscriber television system. While running the software sometimes software glitches or other operating problems occur. One mechanism typically employed to remedy these problems includes the process of resetting or rebooting. However routinely rebooting a DHCT is often viewed negatively because it may fail to remedy the underlying problem and or it often degrades the user experience. Thus a need exists in the industry to address the aforementioned and or other deficiencies and or inadequacies.

The preferred embodiments of the invention now will be described more fully hereinafter with reference to the accompanying drawings in which preferred embodiments of the invention are shown. One way of understanding the preferred embodiments of the invention includes viewing them within the context of a subscriber television system and more particularly within the context of a client device such as a digital home communication terminal DHCT that includes an operating system that handles a variety of tasks to enable a user to enjoy a plurality of services including email web browser and TV services among others. Although other communication environments and systems are considered to be within the scope of the preferred embodiments the preferred embodiments of the invention will be described in the context of a DHCT that receives content from a headend over a subscriber television network as one example implementation among many.

Because the preferred embodiments of the invention can be understood in the context of a subscriber television system an initial description of a subscriber television system is followed with further description of the headend and DHCT that are included within the subscriber television system. The preferred embodiments of the invention include among other things a proactive reboot system. The proactive reboot system includes mechanisms to proactively reboot the DHCT at an opportune time when it believes the DHCT will encounter an event herein described as a critical problem that if left unaddressed will cause an immediate or forced reboot that can interrupt the user experience. In some implementations an unaddressed critical problem may not necessarily cause a forced or immediate reboot but may cause deterioration of system performance. Thus a proactive reboot includes a reboot that is implemented before the critical problem actually occurs. Rebooting will herein include restarting and or reinitializing preferably under software control one or more components of the DHCT. Rebooting can thus include cycling of power off and then back on as well as other mechanisms of rebooting such as warm rebooting as that term is known in the art to one or more components which may result in the clearing of all or part of the contents in DHCT volatile memory.

Because the critical problem is only expected to occur and has not yet occurred and may not occur in some circumstances the proactive reboot system can wait for an opportune time to reboot the DHCT. An opportune time preferably includes a time that the reboot will be least or less in some implementations intrusive for a user. This provides among other benefits an improved user experience compared to immediate rebooting. The proactive reboot system is based at least in part on the assumption that critical problems such as an application being unable to allocate memory resulting for example from extreme fragmentation are preceded by conditions that are measurable. The measuring of these conditions is preferably performed by one or more condition monitors which raise flags in response to a condition likely to cause a critical problem. The proactive reboot system preferably includes a proactive reboot manager PRM and an opportunity helper OH . The PRM watches for flags raised by the condition monitors and communicates with the OH to determine when to reboot without degrading at least to an acceptable degree the user experience i.e. at an opportune time .

The balance of the figures described herein are used to illustrate the operations of the proactive reboot system. A timing diagram is used after the description of the DHCT and the headend to illustrate the various interactions between DHCT components to implement a proactive reboot system in accordance with one embodiment of the invention. Accompanying figures are used to illustrate additional processing of the proactive reboot system including an example flowchart that illustrates one example mechanism used by the proactive reboot system to determine an opportune time to reboot. Another figure that accompanies the timing diagram includes a user interface that can be used by the proactive reboot system to elicit information from the user as to what he or she considers to be an opportune time.

The preferred embodiments of the invention may however be embodied in many different forms and should not be construed as limited to the embodiments set forth herein rather these embodiments are provided so that this disclosure will be thorough and complete and will fully convey the scope of the invention to those having ordinary skill in the art. Furthermore all examples given herein are intended to be non limiting and are provided as an exemplary list among many other examples contemplated but not shown.

A DHCT is typically situated at the residence or place of business of a user and may be a stand alone unit or integrated into another device such as for example a television set or a personal computer or other display devices or an audio device. The DHCT receives signals video audio and or other data from the headend through the network and provides reverse information to the headend through the network .

The headend preferably receives content e.g. movies TV shows music web pages data etc. from a content provider not shown . The headend may include one or more server devices not shown for providing video audio and or data to client devices such as the DHCT . The headend and the DHCT cooperate to provide a user with television services via the television set not shown . The television services may include for example broadcast television services cable television services premium television services video on demand VOD services and or pay per view PPV services among others.

A digital network control system DNCS provides management monitoring and control of network elements and of the broadcast services provided to users. A content provider transmits content for television services through a network interface to the DNCS of the headend . Such provider content as well as applications and or application executables stored at the headend are preferably transmitted to the DHCT using a broadcast file system BFS server . The BFS server and its counterpart a BFS client module are part of a file broadcasting system. The BFS server repeatedly sends content through a network interface to the DHCT via a quadrature amplitude modulation QAM modem over a period of time in a cyclical manner so that the DHCT may access the content as needed. Content such as applications and other data are transmitted in a data carousel originating from the BFS server . For example following a reboot the DHCT can replenish the applications lost from volatile memory during a reboot by retrieving as needed applications associated with user requested services from this data carousel.

A quadrature phase shift keying QPSK modem is responsible for transporting the out of band IP Internet protocol datagram traffic between the distribution headend and a DHCT . Data transmitted or received by the QPSK modem may be routed by a headend router . The headend router may be used to deliver upstream data to the BFS server and or other various server applications not shown .

The DHCT preferably includes one or more processors such as processor for controlling operations of the DHCT an output system for driving the television display and a tuner system for tuning into a particular television channel or frequency to present content and for sending and receiving various types of content to and from the headend . The DHCT may include in other embodiments multiple tuners for receiving downloaded or transmitted content. The tuner system enables the DHCT to tune to downstream content transmissions thereby allowing a user to receive digital and or analog content delivered in the downstream transmission via the subscriber television system . The tuner system includes in one implementation an out of band tuner for bi directional QPSK data communication and one or more QAM tuners in band for receiving television signals. Additionally a receiver receives externally generated information such as user inputs or commands from an input device such as remote control device or other devices.

The DHCT processes analog and or digital transmission signals for storage in the storage device and or for presentation at the television set . The DHCT preferably includes a signal processing system and a media engine . The components of the signal processing system are capable of QAM demodulation forward error correction and demultiplexing of MPEG 2 transport streams and parsing of elementary streams and packetized elementary streams. Additional components not shown include an analog decoder and compression engine for processing an analog transmission signal and in one implementation converting it to compressed audio and video streams that are produced in accordance with the syntax and semantics of a designated audio and video coding method such as that specified by the MPEG 2 audio and MPEG 2 video ISO International Organization for Standardization or ISO standard.

The signal processing system outputs packetized compressed streams and presents them as input for storage in the storage device via an interface or in other implementations as input to the media engine for decompression by a video decompression engine not shown and an audio decompression engine not shown for display on the TV set via an output stage . One having ordinary skill in the art will appreciate that the signal processing system will preferably include other components not shown including memory decryptors samplers digitizers e.g. analog to digital converters and multiplexers among other components. Further it will be understood that one or more of the components listed above will interface with the processor and or system memory and or dedicated memory for a particular component to facilitate data transfer and or processing of the video and or audio signal for display and or storage.

The DHCT can also include one or more wireless or wired interfaces also called communication ports for receiving and or transmitting data to other devices. For instance the DHCT may feature USB Universal Serial Bus Ethernet for connection to a computer IEEE 1394 for connection to content devices in an entertainment center serial and or parallel ports among others.

The DHCT includes at least one storage device to provide storage for downloaded content. The storage device can be an optical storage device or a magnetic storage device among others and is preferably a hard disk drive. The storage device comprises storage for content that can be written to for storage and later read from for retrieval for presentation or other processing. The storage device preferably includes at least one hard disk . The storage device is also comprised of a controller that preferably receives operating instructions from a device driver of an operating system and implements those instructions to cause read and or write operations to the hard disk . The storage device is preferably internal to the DHCT coupled to a common bus through a communication interface preferably an integrated drive electronics IDE interface or small computer system interface SCSI although IEEE 1394 or USB can be used. In other embodiments the storage device can be externally connected to and thus removable from the DHCT via a communication port implemented as IEEE 1394 or USB or as a data interface port such as a SCSI or an IDE interface.

The resident application is one component of the platform that includes shared functionality. The resident application provides service management settings and user interface functionality usable by applications located in FLASH or DRAM . This shared functionality can be used to provide insight for the proactive reboot system to determine such status conditions as the state of the box e.g. powered on powered off among other functions. For example through a SAM client the resident application knows whether an application is active e.g. in use by a user or inactive e.g. not in use by a user . As another example through user interface functionality the resident application can determine a user preferred time of day for system maintenance. The resident application is preferably a level on top of the operating system that provides a functional interface between the applications and the operating system . The resident application includes a navigator and a platform library with its associated modules.

The navigator provides a navigation framework for services provided by the DHCT . The navigator registers for and in some cases reserves certain user inputs related to navigational keys such as channel increment decrement last channel favorite channel etc. The navigator also provides users with television related menu options that correspond to DHCT functions such as for example blocking a channel or a group of channels from being displayed in a channel menu presented on a screen display.

The platform library is a collection of utilities useful to applications such as a timer manager a compression manager a configuration manager a hypertext markup language HTML parser a database manager a widget toolkit a string manager and other utilities not shown . These utilities are accessed by applications via application programming interfaces APIs as necessary so that each application does not have to contain these utilities. Two components of the platform library that are shown in are a window manager and a service application manager SAM client . Note that in other embodiments one or more of these modules may be located in the operating system . The window manager provides a mechanism for implementing the sharing of the screen regions and user input. The window manager on the DHCT is responsible for as directed by one or more applications implementing the creation display and de allocation of the limited DHCT screen resources. It allows multiple applications to share the screen by assigning ownership of screen regions or windows. The window manager communicates with the resource manager to coordinate available resources such as display memory among different resource consuming processes. Such processes may be directly or indirectly invoked by one or more applications. The SAM client is a client component of a client server pair of components with the server component not shown being located on the headend preferably in the DNCS . A SAM database i.e. structured data such as a database or data structure in DRAM includes a data structure of services and a data structure of channels that are created and updated by the headend . Herein database will refer to a database structured data or other data structures as is well known to those of ordinary skill in the art.

Applications can also be downloaded into DRAM at the request of the SAM client typically in response to a request by the user or in response to a message from the headend . In the example DHCT system memory illustrated in DRAM includes a media on demand MOD application an e mail application and a web browser application . Also included is a PVR application . The PVR application provides for content recording functionality by enabling the temporary writing to and if requested more permanent recording i.e. relatively permanent to the storage device . It should be clear to one with ordinary skill in the art that these applications are not limiting and merely serve as examples for embodiments of the invention. Furthermore one or more DRAM based applications may be resident as an alternative embodiment in FLASH memory and vice versa. The FLASH based applications include a bootloader BL a WatchTV application a PPV application and an IPG application . These applications and others provided by the subscriber television system operator are top level software entities on the network for providing services to the user.

The BL is used to get the DHCT up and running after it has been powered off and then on for example via a reboot. The BL does a verification of what is in FLASH and checks signatures and other functionality to ensure that software code is running as planned. With DHCT systems working as expected the BL executes the operating system and the operating system in turn executes the resident application . Further information on the BL and start up processing can be found in the application entitled SETTOP CABLE TELEVISION CONTROL DEVICE AND METHOD INCLUDING BOOTLOADER SOFTWARE AND CODE VERSION TABLE FOR MAINTAINING AND UPDATING SETTOP RECEIVER OPERATING SYSTEM SOFTWARE filed Apr. 14 2001 having Ser. No. 09 549 292 issue as U.S. Pat. No. 7 069 578 assigned to Scientific Atlanta and herein incorporated by reference.

The proactive reboot system preferably includes a proactive reboot manager PRM and an opportunity helper OH in accordance with one embodiment of the invention. The PRM as is explained below detects flags raised by condition monitors in response to conditions indicative of an impending forced reboot. The condition monitors can be located in the operating system the resident application an application and or in a downloaded module or modules. Once the PRM detects one or more flags it communicates with the OH of the resident application to determine when to implement a reboot. In other embodiments the PRM and the OH can be implemented as combined functionality in the operating system and or the resident application .

Other system memory configurations are possible. In one embodiment the resident application is not a separate module in FLASH . A module is herein understood to include functionality enabled using anywhere from a single line of code to a grouping of code that provides a common purpose. For example a collection of modules can form other larger entities such as an operating system or a resident application. A module may exist inherently in the platform e.g. in ROM or FLASH and or may be downloaded. As such collections of modules such as applications may be downloaded or exist inherently in the platform . Thus the operating system the resident application and applications are all considered to be collections of modules herein modules and thus there can be one or more modules within these larger entities e.g. one or more modules within an application . Modules can be combined and packaged in many variations. For example an operating system can include functionality of the operating system in addition to functionality of the resident application . In other embodiments an operating system can include functionality of the operating system the resident application and one or more applications shown as external to the operating system and the resident application . Further in such configurations the proactive reboot system can include the combined functionality of the PRM and the OH in the operating system or as separate but communicable modules in the operating system or as modules split between the operating system and an application. It will be appreciated by those having ordinary skill in the art that other extensions of the functionality of the operating system and the resident application can be employed while still maintaining the spirit and scope of the preferred embodiments of the invention.

For example the navigator of the resident application is responsible for the detection of platform significant keypresses such as a power off button a guide button volume up and volume down buttons a mute button all not shown among others. The navigator thus communicates to the operating system and the OH the status of the DHCT e.g. powered on or off . In one implementation a device driver not shown informs the operating system when a keypress event has been detected e.g. via an infrared IR remote IR keyboard universal serial bus USB keyboard etc. . The operating system then notifies the application with the front most display window of the keypress event. If the application has not registered an interest in that keypress event it is then passed to the next closest window. Because the window manager allows the resident application to have a window that is logically front most but may be invisible both the operating system and the resident application have knowledge of the keypress event before passing the event along to an application with a window.

An executable program or algorithm corresponding to an operating system OS component or to a client platform component or to an application or to respective parts thereof can reside in and execute out of DRAM and or FLASH memory . Likewise data input into or output from any executable program can reside in DRAM or FLASH memory . Furthermore an executable program or algorithm corresponding to an operating system component or to a client platform component or to an application or to respective parts thereof can reside in FLASH memory or in a local storage device such as storage device externally connected to or integrated into the DHCT and be transferred into DRAM for execution. Likewise data input for an executable program can reside in FLASH memory or a storage device and be transferred into DRAM for use by an executable program or algorithm. In addition data output by an executable program can be written into DRAM by an executable program or algorithm and be transferred into FLASH memory or into a storage device. In other embodiments the executable code is not transferred but instead functionality is effected by other mechanisms.

For diagnostic purposes this text string can be sent to the headend prior to rebooting. In one implementation the condition monitors can be separate modules each with monitoring functionality i.e. monitoring for conditions in the system predictive of critical problems for example memory fragmentation . Upon detecting a condition that is favorable to a proactive reboot the condition monitor raises a flag. The flag can be a change in bit that is polled via execution of the PRM on the processor and thus actively detected by the PRM or it can be passively detected by the PRM through a signal or event that is sent directly from a condition monitor to the PRM . Furthermore in addition to software only implementations the PRM can receive flags through hardware mechanisms such as a bus or other internal electronic communication medium. One skilled in the art will appreciate that there are numerous conditions that can be predictive of later developed critical problems that a pre emptive i.e. proactive reboot can remedy and thus those listed herein are not meant to be exhaustive but are examples among many contemplated and considered within the scope of the preferred embodiments of the invention.

The condition monitors can be located in an application the resident application and or the operating system or in some embodiments located external to the DHCT such as at the headend as one example. For example assume an application was just downloaded from the headend and the application has a problem such as not receiving expected data from the headend . The application can be configured to raise its own flag i.e. have its own functional condition monitor because it has not received any communication from the server at the headend for 3 minutes despite the fact that it is supposed to receive communication every 30 seconds. Preferably with its own built in condition monitor it would raise a flag visible to the PRM along with providing debug information such as an ASCII string. The PRM can then query the OH to determine whether the current time i.e. at this moment in time that a decision needs to be made is an opportune time to reboot. The OH preferably queries modules including the resident application or operating system or even applications or modules thereof to determine if now is an opportune time to reboot and then the OH replies to the PRM with an answer. In other words the OH can receive help from other modules that indicate whether a particular instance in time is an opportune time to reboot and thus in a sense these modules can be considered sub opportunity helpers . Further one or more condition monitors may remove their flags if the condition that prompted the flag no longer exists while other condition monitors may not be able to remove their flags.

For example the operating system can include a memory manager to keep track of memory allocations for the system. In keeping track of memory allocations one condition that can be monitored includes memory fragmentation. Memory fragmentation is a function of the percentage of the largest contiguous block of memory over the amount of free memory or 1 largest free Eq. 1 For example assume the DHCT includes 8 megabytes MB of memory and 1 MB is free available but of that 1 MB of free memory only 250 kilobytes kB are contiguous. Accordingly there is 75 memory fragmentation. The memory manager or rather a condition monitor internal to or external to the memory manager can be programmed to flag a condition when the memory fragmentation exceeds a defined threshold for example 70 fragmentation since the DHCT may eventually become unstable or unable to execute applications beyond that threshold. Thus it is a condition that is predictive of a critical problem that if left unaddressed may cause a forced reboot later thus interrupting the viewer while he or she is enjoying a presentation of his or her favorite TV show. The forced reboot can be handled by the operating system or the BL or the application running code at the time of the flag may call on the operating system to reboot.

Another example condition indicative of a potential or probable critical problem can include the failure to receive data at the DHCT when expected. For example assume the BFS module is supposed to receive an update every 2 minutes and 10 minutes have elapsed since the last update. A condition monitor in the BFS module or elsewhere can track the time that has elapsed since the last update as well as whether BFS data has been received within the past 10 minutes or some other threshold period of time using operating system time APIs as one example. If this threshold e.g. 10 minutes passes the condition monitor for the BFS module raises a flag e.g. a bit change . This flag can be located in one or more memory locations assigned to the BFS module by the compiler or other assigner of memory. Although not a fatal error i.e. fatal in the sense that leaving it unaddressed may cause a forced reboot it represents a condition that a reboot may solve. For example assuming the data has not been received due to a bug in the software e.g. BFS software rebooting the DHCT will likely place the software into a state where the bug does not exist e.g. the bug may not activate until the DHCT has been running for a period of time say 4 weeks . Thus detected conditions that prompt a flag may not necessarily cause a forced reboot in the future if the problem is left unaddressed but may nevertheless prompt a reboot at an opportune time in order to improve DHCT functioning.

Another example condition that could be predictive of a critical problem is the absence of a reboot over an extended period of time. A period of time could be set say 30 days beyond which the absence of a reboot would trigger a flag that will consequently result in a later proactive reboot at an opportune time. The operating system preferably keeps track of how long the DHCT has been alive since the last reboot and a condition monitor associated with the operating system can periodically examine this elapsed time and raise a flag if the elapsed time passes the 30 days or some other threshold value.

Performance degradation is another example condition that can be used to trigger a proactive reboot. For example a condition monitor of the operating system or located elsewhere can monitor the central processing unit CPU idle thread time which provides an indication of how much CPU time is being wasted. For example if idle time over a defined period running the same number of applications is reduced from 50 to 20 it can be an indication that the DHCT is slowing down since the same number of applications are consuming more and more time . While not immediately fatal and the user experience may be only slightly affected a reboot may remedy this condition as well.

Step includes the PRM detecting the flag or flags at the various condition monitors. As described above the flags can be located at condition monitors configured as separate modules and or as modules integrated into an application the operating system and or the resident application or external to the DHCT .

Step includes the PRM sending a request to the OH asking whether the current time is an opportune time for a reboot. In general the PRM communicates to the OH that a flag has been detected and asks the OH if now is an opportune time for a reboot. In the example system memory configuration illustrated in the OH is preferably located in the resident application which through the cooperation of one or more modules including the use of sub opportunity helpers has insight into all areas of the platform . The OH uses the platform resources to determine what is the most opportune time in a given situation to reboot the DHCT . Opportune times provide a window of opportunity to initiate the reboot. The opportune time includes a time that a proactive reboot preferably has the least effect on the user experience. In other embodiments the OH can be a module of the operating system of an application manager not shown or functionality of the OH can be integrated into a single module within the PRM .

Step includes the OH determining whether the current time of the request is an opportune time for a reboot. As shown this preferably occurs by the OH querying modules internal to and or external to the platform . Although the determination of whether a current time is an opportune time can involve a multitude of queries the flow diagram illustrated in illustrates one example decision flow chart that the OH can implement to determine whether the current time is an opportune time for a reboot in accordance with one embodiment of the invention. The blocks in the flow diagram of should be understood as representing modules segments or portions of code which include one or more executable instructions for implementing specific logical functions or steps in the process and alternate implementations are included within the scope of the preferred embodiment of the present invention in which functions may be executed out of order from that shown or discussed including substantially concurrently or in reverse order depending on the functionality involved as would be understood by those reasonably skilled in the art of the present invention.

As will be described below some times are clearly opportune times while other times may require user intervention to determine whether the particular instance of time is an opportune time or not. The OH preferably queries other modules internal to and or external to the DHCT to make a determination as to the existence of an opportune time. In one embodiment an opportune time can occur either i when the DHCT is placed in the soft power off state with no recording scheduled or ii when the DHCT is in the powered on state during a configured time window. A configured time window is supported by the headend to help aid the reboot timing in the power on state. In the power on state the PRM through cooperation with the OH receives no indication whether or not the user is actually watching television. That is although the soft power off state inherently indicates that the user is not using the DHCT although a recording may be scheduled in the power on state although the user has switched on the DHCT he or she may be performing another task e.g. out for coffee driving kids to the movies etc. . A configured time window reboot can thus affect the user experience.

Step includes determining whether the DHCT is powered on or not. The soft power off state includes the state of the DHCT when the DHCT is plugged in yet powered off as opposed to hard power off wherein the DHCT is unplugged which essentially disables the DHCT . The power state can be monitored by a module that detects and keeps track of keypresses for example the navigator in the resident application .

In one implementation the OH can interrogate i.e. actively query a module of the resident application for example the navigator to determine if the DHCT is currently powered on or soft powered off. In other embodiments the OH can passively receive a signal from a module. If the DHCT is in the soft powered off state the OH determines if a recording was scheduled step since a recording can be scheduled to occur during the soft power off state which may conflict with a proactive reboot. If a recording is scheduled then the OH makes a determination that the current time is not an opportune time for a reboot step . If a recording is not scheduled the OH makes a determination that the current time is an opportune time for a reboot step . As will be described below the OH will forward this determination to the PRM which will preferably cause an immediate reboot that will not degrade the user experience. In other implementations the OH may require a soft power off to have been activated for a duration of more than a defined threshold of time to ensure that the soft powering off action was not inadvertent.

If the DHCT is powered on step includes determining whether the headend has configured a time window for rebooting. Such a time window reboot preferably occurs randomly between a configured start time and an end time. The random nature prevents a large number of DHCTs from rebooting at exactly the same time and stressing the DNCS . Some guidance for enabling this configured time window reboot is preferably provided by the headend . Table 1 below is an example table that can be used to configure a proactive reboot. This table can be sent in a file that is downloaded on the network thus providing in one implementation some control of the reboot process with the operator of the network . Explained using a higher level perspective the table is essentially telling the DHCT to reboot during a particular time of the day when a flag is raised and detected.

Several parameters are shown in the table including enable responseSeconds WindowStartTime WindowEndTime and retryMinutes. It will be understood that other parameters can be used or parameters can be omitted from the table or added to the table. The enable parameter states whether the PRM is enabled or disabled. Preferably it will take on either a TRUE or FALSE value. The responseSeconds parameter equates to the number of seconds to wait after displaying a maintenance warning message e.g. the dialog box of described below before rebooting the DHCT . The windowStartTime parameter includes the earliest time of day when a windowed proactive reboot may occur. The windowEndTime parameter includes the latest time of day when a windowed proactive reboot may occur. The retryMinutes parameter includes the number of minutes the PRM should wait before trying to reboot the DHCT after the previous attempt was postponed by the user. In other words if an opportune time occurs between now and retryMinutes in the future the time represented by retryMinutes in the future is when a dialog box is displayed again. During this period before the next display of the dialog box all or part of the processing of the OH in one implementation as illustrated by the flow chart of can be repeated to look for opportune times to reboot. Thus the condition that prompted the proactive reboot system implementing this decision processing may go away completely or be replaced or supplemented by another condition within or beyond the configured time window.

While these parameters can be hard coded they will preferably be placed in an out of band configuration file. The PRM in one implementation can load this configuration file at boot time to access the parameters. In other embodiments the PRM may disable proactive reboots if the file does not exist or the enable parameter is FALSE. In one implementation this information is passed to the OH to make a determination that the current time is not an opportune time for a reboot step . Another possible implementation would treat the non existence of the headend configuration data as an indication that all times are valid to proceed to step see below . The PRM checks periodically e.g. once per day to determine whether the configuration has changed. If no configuration file originally existed the PRM checks for the file preferably every 24 hours after the original attempt. If the configuration file was loaded the PRM checks for an updated configuration file when windowEndTime is reached. The PRM preferably does not check for an updated configuration file if a reboot is currently delayed because of the user s response.

Cable operators are different as are the viewing patters of users per region. Thus the operator can configure the parameters of Table 1 using a system wide perspective down to the level of a specific region or DHCT . For example in some areas of the country there is a high proportion of shift workers whom will generally have different viewing patterns than office workers. Thus such regions may have a different reboot schedule than other regions. Note that DHCT specific reboots can be established via a user configuration screen for example through a general settings menu screen not shown configured at start up or at other times. Such user settings can be used in cooperation with the parameters of Table 1 as configured by a cable operator or in other embodiments separate from these parameters.

Step includes making the determination that the current time is or is not within the time window configured by the headend . If not within the configured time window then the determination is made that it is an inopportune time for a reboot step . If within the configured time window then step includes determining whether a recording is scheduled. For example the OH can query an application such as the PVR application to find out whether a recording is scheduled during the configured time window for the reboot from this point forward. If a recording was scheduled then rebooting can cause an interruption in the user experience which results in the OH deciding that the current time is not an opportune time step .

If a recording is not scheduled step includes providing the user with a dialog box that queries the user as to whether the current time is an opportune time for a reboot step . Other embodiments omit steps .

Note that is some embodiments additional steps can be added steps can be removed and or different steps can be used. For example a determination of whether an opportune time exists or not can be made based on whether one or more keypresses have been detected preferably in cooperation with the navigator over a defined period of time since the last detected keypress. A user may not have pressed a button on the remote control device for example because he or she is asleep or left the TV on while sleeping. If a keypress was detected within a defined period of time preceding the current time the OH can make a determination that the current time is not an opportune time. As another example the determination that the DHCT is in a soft power off state may result in a determination of an opportune time by scheduling the reboot to not interfere with the scheduled recording e.g. via additional bi directional communication between the headend and the DHCT to determine the recording schedule . Referring to the timing diagram of step includes the OH communicating to the PRM as to whether the current time is an opportune time or not. In some embodiments the OH can reject the current time as an opportune time advise the PRM that it will alert the PRM when an opportune time occurs and cache the request until an opportune time does indeed arise. In such an embodiment the OH can in response to determining that an opportune time is now available send a message to the PRM advising of the existence of an opportune time. If a condition or conditions that prompted one or more flags no longer exists as represented by dotted line the PRM can notify the OH and thus cancel the cached request. In other embodiments the PRM can when denied a reboot request periodically resend the request until an affirmative response is received by the OH as represented by dotted line .

Step includes the PRM instructing the BL preferably via an API to reboot the DHCT once an affirmative response to an inquiry as to whether to proceed with a reboot is received by the PRM from the OH . The BL reboots the DHCT as described above. When that occurs DRAM is preferably cleared of the applications the operating system reinitializes itself and the DHCT re signs onto the headend . This re signing process includes a client server process that entails 2 way communication. As described above although not limited to random types of implementations the proactive reboot system of the preferred embodiments can cause the DHCT to sign on with the headend at random times to reduce the stress of sign ons at the headend from a plurality of DHCTs .

The PRM and OH and condition monitors can be implemented in hardware software firmware or a combination thereof. In the preferred embodiment s the PRM and OH and condition monitors are implemented in software or firmware that is stored in a memory and that is executed by a suitable instruction execution system. If implemented in hardware as in an alternative embodiment the PRM and OH and condition monitors may be implemented with any or a combination of the following technologies which are all well known in the art a discrete logic circuit s having logic gates for implementing logic functions upon data signals an application specific integrated circuit ASIC having appropriate combinational logic gates a programmable gate array s PGA a field programmable gate array FPGA etc.

The PRM and OH and condition monitors which comprise ordered listings of executable instructions for implementing logical functions can be embodied in any computer readable medium for use by or in connection with an instruction execution system apparatus or device such as a computer based system processor containing system or other system that can fetch the instructions from the instruction execution system apparatus or device and execute the instructions. In the context of this document a computer readable medium can be any means that can contain store communicate propagate or transport the program for use by or in connection with the instruction execution system apparatus or device. The computer readable medium can be for example but not limited to an electronic magnetic optical electromagnetic infrared or semiconductor system apparatus device or propagation medium. More specific examples a nonexhaustive list of the computer readable medium would include the following an electrical connection electronic having one or more wires a portable computer diskette magnetic a random access memory RAM electronic a read only memory ROM electronic an erasable programmable read only memory EPROM or Flash memory electronic an optical fiber optical and a portable compact disc read only memory CDROM optical . Note that the computer readable medium could even be paper or another suitable medium upon which the program is printed as the program can be electronically captured via for instance optical scanning of the paper or other medium then compiled interpreted or otherwise processed in a suitable manner if necessary and then stored in a computer memory.

It should be emphasized that the above described embodiments of the present invention particularly any preferred embodiments are merely possible examples of implementations merely setting forth a clear understanding of the principles of the inventions. Many variations and modifications may be made to the above described embodiments of the invention without departing substantially from the spirit of the principles of the invention. All such modifications and variations are intended to be included herein within the scope of the disclosure and present invention and protected by the following claims.


---

title: Method and system for synchronized access control in a web services environment
abstract: Access controls for a Web service (which controls are based on abstract WSDL definitions) are defined for a WSDL defined protected object space and, as such, are loosely coupled with the concrete WSDL binding derived from those definitions, preferably on a per binding level. This WSDL-defined POS is in turn loosely bound to a resource-specific protected object space definition. This loose coupling is leveraged to allow changes (e.g., updates) to the abstract WSDL binding's protected object space to be transitively applied to the application-specific protected object space. If appropriate, changes to the resource-specific protected object space may be applied to the WSDL's protected object space. Thus, according to the invention, the coupling may be one-way (typically, from the WSDL POS to the resource level POS) or two-way (from the WSDL POS to the resource level POS and vice versa). This technique ensures that different security policies are not applied unintentionally to the same resource (for example, one at the Web services entry level, and the other at the resource level). By synchronizing the protected object spaces in the manner described, neither the entity that deploys the application nor the security administrator need to be aware of the differences between the Web service request and the resource request.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08341694&OS=08341694&RS=08341694
owner: International Business Machines Corporation
number: 08341694
owner_city: Armonk
owner_country: US
publication_date: 20060708
---
A portion of the disclosure of this patent document contains material that is subject to copyright protection. The copyright owner has no objection to the facsimile reproduction of the patent document as it appears in the Patent Trademark Office file or records but it otherwise reserves all copyright rights.

A Web service is a software system identified by a URI whose public interface and bindings are defined and described using XML. Its definition can be discovered by other software systems. These systems may then interact with the Web service in a manner prescribed by the Web service definition using XML based messages conveyed by Internet protocols.

Typically a Web service is described using a standard formal XML notion called its service description. A service description typically conforms to a machine process able format such as the Web Services Description Language or WSDL . WSDL describes the public interface necessary to interact with the service including message formats that detail the operations transport protocols and location. The supported operations and messages are described abstractly and then bound to a concrete network protocol and message format. A client program connecting to a Web service reads the WSDL to determine what functions are available on the server. Computing entities running the Web service communicate with one another using XML based messaging over a given transport protocol. Messages typically conform to the Simple Object Access Protocol SOAP and travel over HTTP over the public Internet or other reliable transport mechanisms such as IBM MQSeries technologies and CORBA for transport over an enterprise intranet . The Web service hides the implementation details of the service allowing it to be used independently of the hardware or software platform on which it is implemented and also independently of the programming language in which it is written. This allows and encourages Web services based application to be loosely coupled component oriented cross technology implementations. Web services typically fulfill a specific task or a set of tasks. They can be used alone or with other Web services to carry out a complex aggregation or a business transaction. A client program connecting to a Web service reads the WSDL to determine what functions are available on the server.

With the advent of Web services computing resources are exposed in an implementation neutral manner. Thus for example consider a reusable code component such as an enterprise Java bean or EJB. Typically an EJB is protected with access control decisions on a method call. When exposed as a Web service however the EJB is defined by the Web service name port and operation where the operation typically represents a method. Because of the way in which a Web service is described namely through the WSDL this operation may also correspond to the same functionality provided by a C based resource a CICS based resource or the like. This is another way of saying that a given functionality whether implemented by an EJB a C based resource a CICS based resource or the like can be described with a single WSDL. The overall resource is described by the abstract WSDL and then each particular implementation is described by a concrete binding of that WSDL.

It is known to allow for the application of access control policies such as access control lists or ACLs to a given resource at the level of a WSDL meaning that the same access control policies are applied to the resource regardless of its back end implementation. Such policies are typically applied to the resource in the context of a virtual representation called a protected object space. A protected object space is a logical and hierarchical portrayal of resources belonging to a domain. The application of security policy at the level of a WSDL is consistent with a best practice approach to access control where an access control decision preferably is made as close to the edge as possible. This technique however does introduce the potential that an entity offering the Web service has the same authorization decision implemented in two places namely an operation level decision at the Web service entry and a method level decision at an application level. This in turn introduces the possibility for two different policies applied to the same resource with one policy applied at the Web services operation level and another policy applied at the application EJB level. As a consequence and to avoid potential conflicts access control policies currently must be manually tracked and managed by a security administrator.

According to the invention a Web service based access control that is based on a WSDL definition is loosely coupled with a concrete WSDL binding preferably on a per binding level. The concrete WSDL binding in turn is loosely bound to a resource specific protected object space definition. The present invention leverages this loose coupling to allow changes to the abstract WSDL binding s protected object space to be transitively applied to the resource specific protected object space as well as changes to the resource specific protected object space to be optionally applied to the WSDL derived protected object space. This approach allows for a consistent approach to the management of protected object spaces across platforms.

In an illustrative embodiment a method of synchronized access control in a Web services environment includes the steps of generating a Web service protected object space from a WSDL and generating an application specific protected object space from an application code base such as an enterprise archive file EAR or the like . A set of one or more loose couplings are then defined e.g. using a visual mapping tool between corresponding elements in the protected object spaces. A set of mapping rules are defined by these couplings. The mapping rules define whether and how changes to the elements in one protected object space affect elements in the other protected object space. At runtime a policy management tool is monitored. If a policy change e.g. an update occurs to an element in one of the protected object spaces this change is parsed against the mapping rules. If as a result of the parsing a given mapping rule is implicated the change is applied to a corresponding element in the other protected object space. The changes may be one way e.g. changes to the concrete WSDL protected object space are propagated to the resource specific protected object space but not vice versa or two way meaning that access control changes are propagated in both directions .

The foregoing has outlined some of the more pertinent features of the invention. These features should be construed to be merely illustrative. Many other beneficial results can be attained by applying the disclosed invention in a different manner or by modifying the invention as will be described.

As is well known enterprises are adopting Web Services to ease application integration across heterogeneous environments within and across security domain boundaries. The Organization for the Advancement of Structured Information Standards OASIS has recently ratified various Web Services Security WSS standards to provide an extensible framework for providing message integrity confidentiality identity propagation and authentication. In a typical scenario illustrated in SOAP messages are sent from an initial SOAP sender to an ultimate SOAP receiver along a SOAP message path comprising zero or more SOAP intermediaries that process and potentially transform the SOAP message. The use of SOAP here is merely illustrative and it should not be taken to limit the scope of the present invention which does not depend on the particular transport mechanism used to transfer a protected message. The devices and are computing entities such as data processing systems each comprising hardware and software which entities communicate with one another over a network such as the publicly routed Internet an intranet an extranet a private network or any other communications medium or link. As described below a data processing system typically comprises one or more processors an operating system an application server one or more applications and one or more utilities. A given data processing system may be a sender or sending entity in which case the system is deemed to be on a sender side of the transmission or a receiver or receiving entity in which case the system is deemed to be on a receiver side. The applications on the data processing system provide native support for Web services including without limitation support for HTTP SOAP XML WSDL UDDI and WSFL among others. Familiarity with these technologies and standards is presumed. Further information regarding SOAP WSDL UDDI and WSFL is available from the World Wide Web Consortium W3C which is responsible for developing and maintaining these standards further information regarding HTTP and XML is available from Internet Engineering Task Force IETF .

A WSDL is an XML document comprising a set of definitions a definitions element at the root and a set of additional definitions inside the root. Services are defined using a set of elements which include types which provide data type definitions used to describe the messages exchanged messages which represent an abstract definition of the data being transmitted portType which is a set of abstract operations binding which specifies concrete protocol and data format specifications for the operations and messages defined by a particular portType and service which is used to aggregate a set of related ports. A WSDL thus describes a set of one or more endpoints operating on messages. Operations and messages are described abstractly and then bound to a concrete network protocol and format to create an endpoint. Thus an abstract portion of the WSDL represents a service interface and typically comprises the elements types message and portType a concrete portion of the WSDL represents a service implementation of the service interface and typically includes the service and binding elements. Thus the binding element typically is where the notion of concrete ness is introduced. In particular typically this is where a SOAP binding and a transport method are defined as illustrated in the example of which is a portion of a representative WSDL showing several of these elements for a Weather Forecast Web service. This WSDL includes a number of different bindings as well as a URL defined HTTP accessible resource at which the Web service is obtained. The information in the service element may be used to build a protected object space POS for a WSDL as will be described below e.g. by hanging the POS for the WSDL or WSDL binding under a specific service name address.

The present invention preferably is implemented in a system that includes an access manager which is a component that prevents unauthorized use of resources including the prevention of use of a given resource in an unauthorized manner. A representative access manager is the Tivoli Access Manager product which is available commercially from IBM and is represented in . Of course the identification of this commercial product is not meant to be taken to limit the present invention. More broadly any system device program or process that provides a policy access service decision may be used for this purpose. Preferably the access manager provides access control capabilities that conform to The Open Group s authorization azn API standard. This technical standard defines a generic application programming interface for access control in systems whose access control facilities conform to the architectural framework described in International Standard ISO 10181 3. The framework defines four roles for components participating in an access request 1 an initiator that submits an access request where a request specifies an operation to be performed 2 a target such as an information resource or a system resource 3 an access control enforcement function AEF and 4 an access control decision function ADF . As illustrated an AEF submits decision requests to an ADF. A decision request asks whether a particular access request should be granted or denied. ADFs decide whether access requests should be granted or denied based on a security policy such as a policy stored in database . Components and comprise the access manager. Security policy typically is defined using a combination of access control lists ACLs protected object policies POPs authorization rules and extended attributes. An access control list specifies the predefined actions that a set of users and groups can perform on an object. For example a specific set of groups or users can be granted read access to the object. A protected object policy specifies access conditions associated with an object that affects all users and groups. For example a time of day restriction can be placed on the object that excludes all users and groups from accessing the object during the specified time. An authorization rule specifies a complex condition that is evaluated to determine whether access will be permitted. The data used to make this decision can be based on the context of the request the current environment or other external factors. For example a request to modify an object more than five times in an 8 hour period could be denied. A security policy is implemented by strategically applying ACLs POPs and authorization rules to those resources requiring protection. An extended attribute is an additional value placed on an object ACL or POP that can be read and interpreted by third party applications such as an external authorization service . The access manager authorization service makes decisions to permit or deny access to resources based on the credentials of the user making the request and the specific permissions and conditions set in the ACLs POPs authorization rules and extended attributes.

The goal of a security policy is to adequately protect business assets and resources with a minimal amount of administrative effort. First an administrator defines what resources should be protected. These resources may be any type of data object such as files directories network servers messages databases queues or Web resources. Then the administrator decides what users and groups of users should have access to these protected resources. Alternatively the administrator may decide what user roles should have access to these protected resources e.g. where a given identified user may have a role of bank teller . The administrator also decides what type of access should be permitted to these resources. Finally the administrator applies the proper security policy on these resources to ensure that only the right users can access them. Access to objects within a domain is controlled by applying a security policy to objects in a protected object space.

As is also known in the art an access manager such as illustrated in represents resources within a domain using a virtual representation referred to as a protected object space or POS . A protected object space is a logical and hierarchical portrayal of resources belonging to a domain. Typically the structure of a protected object space comprises two types of objects resource objects and container objects. Resource objects are the logical representation of actual physical resources such as files services web pages message queues and so on in a domain. Container objects are structural components that allow resource objects to be grouped hierarchically into distinct functional regions. Security policy can be applied to both types of objects. A protected object space has a root container object. Below the root container object are one or more container objects. Each container object represents an object space that consists of a related set of resources. These resources can be resource objects or container objects. The successful implementation of a security policy requires that the different content types are logically organized and that the appropriate ACL POP and authorization rules are applied . Prior implementations of this type of hierarchical protected object space have relied on these individual container objects being distinct and in effect mutually exclusive e.g. a resource that is managed under a message queue container cannot also be accessed under a web application container .

As illustrated in the concrete WSDL based protected object space is generated as well as managed by the access manager. In particular access manager has an associated Web services security management component that provides Web services specific access control enforcement functionality in response to access manager s access control decision functionality. In particular Web services security management component takes a WSDL description of a resource or set of resources and parses the entire WSDL description including both the concrete service implementation and abstract service interface descriptions. In the Tivoli Federated Identity Manager a wsd12tfim command performs this object space creation in an automated manner although the creation of the protected object space from the WSDL can be performed in any convenient manner.

Typically a Web service uses one or more back end applications that perform the required service functionality. An application level resource typically also has an associated protected object space. illustrates a sample application server level protected object space for a set of back end resources. For illustrative purposes only the protected object space shown in represents a sample protected object space for an IBM WebSphere application server but of course clearly this tree structure POS representation can be applied to other application serving environments. The protected object space contains a root object used to anchor the POS a Web application server container a deployed resources object a role name object an application name object a cell name object a hostname object and a server name object . For illustrative purposes only the role name object is shown as having an associated ACL as does the server name object which has associated ACL . This protected object space reflects the deployment options for WebSphere application server based resources where multiple roles may be defined with a single ACL e.g. where this ACL may be overridden in some cases for a given server s hosting of a resource as shown with ACL for example .

As illustrated in the application specific POS is generated by the access manager. In particular access manager has an associated migration tool that generates the application specific POS from an EAR file input to the tool. In the Tivoli Access Manager a migrateEAR4 command performs this object space creation in an automated manner although the creation of the protected object space from the EAR or other back end code component can be performed in any convenient manner. Tivoli Access Manager for Business Integration has a similar tool that performs this object space creation in an automated manner for an MQSeries environment. A protected object space such as shown in results from operation of the migration tool .

According to the present invention access controls for a Web service which controls are based on abstract WSDL definitions are defined for a WSDL defined protected object space and as such are loosely coupled with the concrete WSDL binding derived from those definitions preferably on a per binding level. This WSDL defined POS is in turn loosely bound to a resource specific protected object space definition. This loose coupling is leveraged to allow changes e.g. updates to the abstract WSDL binding s protected object space to be transitively applied to the application specific protected object space. If appropriate changes to the resource specific protected object space may be applied to the WSDL s protected object space. Thus according to the invention the coupling may be one way typically from the WSDL POS to the resource level POS or two way from the WSDL POS to the resource level POS and vice versa . As will be seen this technique ensures that different security policies are not applied unintentionally to the same resource for example one at the Web services operation level and the other at the application EJB level . By synchronizing the protected object spaces in the manner described neither the entity that deploys the application nor the security administrator need to be aware of the differences between the Web service request and the application request.

The present invention addresses this problem as illustrated in . In particular illustrates how a set of one or more loose couplings when achieved provide for a consistent management of ACLs and policy across these supposedly disparate protected object spaces. In particular the WSDL POS for the Weather Service has been mapped to the application server POS through the set of connectors and . Of course the number of connectors is merely illustrative. In this example the connector indicates that the WeatherForecast HTTP operation in the WSDL has an associated Forecaster group permission which correlates with the setForecast application in the POS . Likewise the connector indicates that the getTodayForecast operation in the WSDL has an associated Consumer user permission which correlates with the getForecasts application in the POS . Based on these loose couplings any permitted change to the ACL applied to the Weather Forecast HTTP operation in the WSDL is monitored and appropriately mapped to the setForecast application in the POS likewise any permitted change to the ACL applied to the getTodayForecast operation in the WSDL is monitored and appropriately mapped to the getForecast application in the POS . In this way the protected object spaces are updated in a consistent and synchronized manner. Access control policies are maintained irrespective of the type of request made whether a Web service request or an application specific request .

Thus the present invention provides a method for providing synchronized access control in a Web services environment where a given authorization decision typically is implemented in several places e.g. at the Web service entry and within a given back end application. Generalizing the method of synchronized access control includes the process steps shown in . The method begins at step by generating a Web service protected object space from a WSDL. At step an application specific protected object space is generated from an application code base such as an enterprise archive file EAR or the like . Steps and may take place in an off line manner. These steps have been described and illustrated above at a high level e.g. see and . At step a set of one or more couplings are then defined between corresponding objects in the protected object spaces. Of course the identity of which objects are coupled across the protected object spaces necessarily will depend on the various operations and methods defined in the object spaces as well as the security policies associated therewith. These couplings may be defined programmatically or by a user directly e.g. using a visual mapping tool such as available from various commercial sources or via open source projects such as the Eclipse software development environment. A set of mapping rules is associated with the defined couplings. A convenient way to represent the mapping rules is to use an XML based policy language such as XACML or WS Policy. Thus in the example of a mapping rule indicates that changes to the getTodayForecast operation in the WSDL POS implicates the getForecast application in the application specific POS similar mapping rules are defined for the other identified couplings. The mapping rules define whether and how changes to the elements in one protected object space affect elements in the other protected object space. Once the one or more object coupling s are made security policy synchronization is effected in an automated manner by monitoring the protected object spaces for changes and selectively propagating those updates through the loose couplings. To this end each POS has associated therewith a listener or filter. The synchronization method waits at step for an update to an access control. Any update to the ACLs placed on the WSDL POS will trigger the method at step to parse the change against the set of mapping rules. If a given mapping rule is implicated the security policy change is applied to a corresponding object in the other protected object space. This is step . If no mapping rule is implicated the change is not propagated. The mapping rules define which changes are one way unilateral and which changes are two way bilateral . As noted above changes may be one way e.g. changes to the concrete WSDL protected object space are propagated to the application specific protected object space but not vice versa or two way meaning that access control changes are propagated in both directions . This completes the basic processing of the inventive method.

One of ordinary skill in the art will appreciate that the present invention is not limited for use merely with propagating ACL changes across protected object spaces. More generally the present invention may be used to synchronize any security policy whether implemented as an ACL a POP an authorization rule or an extended attribute across a first protected object space and a second protected object space or vice versa. Moreover the inventive technique may also be used in a Web services environment to provide synchronized access policy based on a user s subscription parameters . In general the present invention may be used to synchronize in an automated manner across any two or more hierarchical object spaces irrespective of what those object spaces represent. All that is required is a tool for defining the object couplings monitoring for changes to a given object attribute parsing the change against a set of mapping rules and then propagating the change.

The invention can take the form of an entirely hardware embodiment an entirely software embodiment or an embodiment containing both hardware and software elements. In a preferred embodiment the inventive transform is implemented in software which includes but is not limited to firmware resident software microcode and the like. Furthermore as noted above the invention can take the form of a computer program product accessible from a computer usable or computer readable medium providing program code for use by or in connection with a computer or any instruction execution system. For the purposes of this description a computer usable or computer readable medium can be any apparatus that can contain or store the program for use by or in connection with the instruction execution system apparatus or device. The medium can be an electronic magnetic optical electromagnetic infrared or semiconductor system or apparatus or device . Examples of a computer readable medium include a semiconductor or solid state memory magnetic tape a removable computer diskette a random access memory RAM a read only memory ROM a rigid magnetic disk and an optical disk. Current examples of optical disks include compact disk read only memory CD ROM compact disk read write CD R W and DVD.

One or more of the above described functions namely defining the POS couplings monitoring for security policy updates and propagating security changes across the protected object spaces may also be implemented as a service.

While the above describes a particular order of operations performed by certain embodiments of the invention it should be understood that such order is exemplary as alternative embodiments may perform the operations in a different order combine certain operations overlap certain operations or the like. References in the specification to a given embodiment indicate that the embodiment described may include a particular feature structure or characteristic but every embodiment may not necessarily include the particular feature structure or characteristic.

Finally while given components of the system have been described separately one of ordinary skill will appreciate that some of the functions may be combined or shared in given instructions program sequences code portions and the like.


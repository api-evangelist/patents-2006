---

title: Content processing device monitoring
abstract: A system, method, and apparatus for monitoring performance of a content processing device are disclosed. A system may include a content processing device and a customer premises management system (CMS) in communication with the content processing device. The CMS generally monitors hardware performance, network performance, and video quality parameters of the content processing device. The CMS may determine an operating status of the content processing device from at least one of the hardware performance,network performance, and video quality parameters.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08159960&OS=08159960&RS=08159960
owner: Verizon Patent and Licensing Inc.
number: 08159960
owner_city: Basking Ridge
owner_country: US
publication_date: 20061218
---
Presently many telecommunications customers receive video content via a content processing device such as a set top box STB . Content processing devices such as STBs may receive media from service providers by way of a remote media server via a media distribution network or other networks e.g. packet switched networks the Internet etc. Service providers may thereby transmit media including any combination of images audio video etc. to content processing devices. Content processing devices such as STBs are often connected to media playback devices such as televisions stereos and the like that are designed for enhanced playback of many forms of media content.

Quality of media transmitted to a content processing device may be degraded as a result of problems with the content processing device and networks or servers transmitting media to the content processing device. Typically a customer experiencing media quality issues or outages must contact a service provider to notify the service provider of the issue If a network problem has not already been identified by the service provider the service provider must frequently send service personnel to the customer s premises to diagnose the problem. This is especially burdensome for customers when service personnel are not immediately available. Once service personnel arrives and diagnoses the problem the service provider may take corrective action with respect to the content processing device or the media distribution network. Where problems with the media distribution network must be addressed service personnel may not need to fix any equipment on the customer s premises. Such cases can be particularly aggravating for customers who have waited for service personnel to arrive and diagnose the problem only to find that the root cause is elsewhere in the media distribution network resulting in further delay. Additionally service calls are a cost that is undesirable for the service provider which may realize increased costs of doing business as a result of service calls and for customers who may be required to pay for service calls directly or indirectly through higher service charges.

Accordingly service providers typically must be located on customer premises to diagnose service issues or interruptions Customers must therefore wait for service personnel to arrive to diagnose service issues and generally are not able to diagnose issues on their own thereby increasing costs associated with media delivery networks.

Systems methods and apparatuses for monitoring performance of a content processing device e.g. an STB are disclosed. An exemplary system may generally include a content processing device and a customer premises management system CMS in communication with the content processing device over a telecommunications network e.g. a packet switched network. The CMS generally monitors performance of a hardware network and video quality parameters of the content processing device remotely via the telecommunications network. For example one or more monitoring probes and a monitoring agent may generally report various operating parameters of a media distribution network and the content processing device to the CMS which determines an operating status of the media distribution network or the content processing device. A customer service representative CSR may thereby remotely identify service interruptions or media quality issues within a media distribution network or a content processing device and deploy troubleshooting tools accordingly.

Turning now to an exemplary system for monitoring performance of a content processing device is illustrated. System generally includes a customer premises network in which user selected media content including any combination of images audio video etc. may be provided to a media playback device through a content processing device attached to the customer premises network . Customer premises network may receive media content from a head end via a media distribution network as is generally known. System further includes a customer premises management system CMS which selectively communicates with content processing device via telecommunications network .

As illustrated in customer premises network includes devices within a customer premises including one or more content processing devices . A content processing device may be a set top box STB or similar device known for receiving a media signal from a network and for providing media programming e.g. audio video etc. to a media playback device . A content processing device may be controlled by a user through any known control mechanism e.g. a remote control not shown thereby facilitating the selection and playing of content through media playback device . A control mechanism may include numeric keys for selecting channels of video programming as well as other keys for making selections and requests according to menus displayed on media playback device in addition to arrow keys and the like for selecting channels and items in a menu changing volume levels etc. An example of content processing device is set top box model number QIP6400 made by Motorola Inc. of Schaumburg IL.

A router is used for establishing and operating or at least connecting to a network such as a home network or local area network LAN and is used to route communications within customer premises network . Significantly router provides for connection not only of one or more computing devices but also allows for connection of content processing device . For example content processing device may be a set top box connected to router by a coaxial cable while computing devices may be connected to router using a wireless connection a network cable such as a Cat5 cable or the like. Further content processing device and computing devices are each uniquely identified by router in a known manner. For example in one exemplary approach Dynamic Host Configuration Protocol DHUP is used to dynamically assign private DHCP Internet Protocol P addresses to content processing device and computing devices i.e. IP addresses that are only accessible to devices such as devices and that are on customer premises network i.e. in communication with router .

Media playback devices may include a variety of known equipment alone or in combination such as a video receiver including a conventional television or a hi definition television HDTV audio equipment including an amplifier and speakers or devices that incorporate the capability to simultaneously process both video and audio data etc. Media playback device may be connected to and receive multimedia content from content processing device in a known manner.

Content processing device selectively communicates with gateway router to send information to and receive information from media distribution network and telecommunications network . A media distribution network is a network for providing media transmissions e.g. video signal such as is known. For example network may include hardware and software for providing video signal via coaxial cable and or fiber optic cable e.g. routers switches etc. as described further below. Video signal is generally provided to a media distribution network from a head end in a known manner.

Various elements may be included as part of media distribution network to provide media or other information to content processing device . For example an interactive program guide IPG server may selectively communicate with router to provide an interactive program guide to content processing device as is generally known. A video on demand VOD server known for providing telecommunications customers with video content on demand may also be provided to selectively communicate with content processing device generally via media distribution network . Additionally activation server may be provided to generally authorize and provision content processing device . For example entitlement management data EMM may flow from activation server when content processing device is initially set up or placed in communication with system . EMM data may be provided by a service provider to authorize certain video content e.g. packages of channels to be decoded by content processing device thereby generally preventing access from a public domain. PG server VOD server and activation server may selectively communicate with content processing device via Video Distribution Router VDR which links servers with media distribution network .

Media distribution network and telecommunications network are generally internet protocol IP networks. As such networks generally use one or more known protocols for transporting data such as user datagram protocol UDP transport control protocol TCP hypertext transfer protocol HTTP etc. Further networks may include a variety of networks such as a wide area network WAN e.g. the Internet a local area network LAN etc. As is known networks may be used to transport a variety of data including multimedia data such as audio data and video data. Accordingly it is to be understood that other approaches are envisioned in which networks and are in fact combined into a single network or in which media distribution network is simply omitted wherein telecommunications network is used to provide video signal to content processing device .

A gateway router allows content processing device to access networks . By communicating with router content processing device is able to obtain a network address such as an internet protocol IP address thereby enabling content processing device to make requests to and to receive data from an IPG server and VOD server .

In the illustrated exemplary system fiber optic cable may be used to provide both data and a video signal to customer premises network including to content processing device . As is known an optical line terminal OLT may serve as a terminus for an optical network or an optical line. OLT may provide data including video signal to one or more optical network terminals ONTs . ONT is generally situated adjacent to a customer premises for the purpose of providing data received over an optical line to customer premises network including content processing device . Accordingly illustrates a hybrid network system in which video signal transported over media distribution network and also data transported over telecommunications network are received by customer premises network through a fiber optic line. However it should be understood that other approaches are envisioned in which content processing device receives both data and audio video communications via media other than fiber optic cables to customer premises network .

Computing devices such as content processing device computing devices IPG server VOD server etc. may employ any of a number of computer operating systems known to those skilled in the art including but by no means limited to known versions and or varieties of the Microsoft Windows operating system the Unix operating system e.g. the Solaris operating system distributed by Sun Microsystems of Menlo Park Calif. the AIX UNIX operating system distributed by International Business Machines of Armonk N.Y. and the Linux operating system. Computing devices may include any one of a number of computing devices known to those skilled in the art including without limitation a computer workstation a desktop notebook laptop or handheld computer or some other computing device known to those skilled in the art.

Content processing device generally is a specialized device for receiving video signals from head end via network and may be provided with a proprietary or specialized operating system other than those enumerated above. For example in one exemplary system content processing device is an STB provided with a real time operating system RTOS such as is known However it is to be understood that content processing device may be a computing device such as one of those enumerated above so long as the computing device is capable of receiving video signals from network and also is capable of storing and executing the instructions included in software agent .

Computing devices generally each include instructions executable by one or more computing devices such as those listed above. Computer executable instructions may be compiled or interpreted from computer programs created using a variety of programming languages and or technologies known to those skilled in the art including without limitation and either alone or in combination Java C C Visual Basic Java Script Perl etc. In general a processor e.g. a microprocessor receives instructions e.g. from a memory a computer readable medium etc. and executes these instructions thereby performing one or more processes including one or more of the processes described herein. Such instructions and other data may be stored and transmitted using a variety of known computer readable media.

A computer readable medium includes any medium that participates in providing data e.g. instructions which may be read by a computer. Such a medium may take many forms including but not limited to non volatile media volatile media and transmission media. Non volatile media include for example optical or magnetic disks and other persistent memory. Volatile media include dynamic random access memory DRAM which typically constitutes a main memory. Transmission media include coaxial cables copper wire and fiber optics including the wires that comprise a system bus coupled to the processor. Transmission media may include or convey acoustic waves light waves and electromagnetic emissions such as those generated during radio frequency RF and infrared IR data communications. Common forms of computer readable media include for example a floppy disk a flexible disk hard disk magnetic tape any other magnetic medium a CD ROM DVD any other optical medium punch cards paper tape any other physical medium with patterns of holes a RAM a PROM an EPROM a FLASH EEPROM any other memory chip or cartridge a carrier wave as described hereinafter or any other medium from which a computer can read.

System further includes one or more monitor probes and a monitoring agent which communicate various operating parameters of system to CMS as further described below. Monitor probes may be in communication with various elements of system e.g. gateway router and video distribution router . Routers may have monitor probes respectively interfaced through a Tap or Switch Port Analyzer SPAN port to monitor video streams transmitted by routers . Agent resides on content processing device and includes computer executable instructions that are generally stored in a computer readable medium e.g. a memory of content processing device and that may be executed by a processor included within content processing device . In general monitoring agent monitors hardware network and video parameters of content processing device and is in communication with CMS to facilitate diagnosis of problems or errors with various components of system as will be described further below.

CMS generally includes one or more auto configuration servers which monitor operating parameters of system relevant to hardware network communications and video quality of content processing device . Although only one server is shown for CMS other envisioned approaches may include additional servers to carry out various functions of CMS . For example CMS may include a web server application server and database server. The servers may be actual and separate physical devices or virtual devices existing on one physical device. Alternatively the servers may be application modules existing on one or more physical devices collectively comprising CMS . Additionally CMS may be provided with a firewall to allow for a secure connection with content processing device Authorization protocols may be arranged with content processing device to allow content processing device access to CMS . CMS generally monitors operating parameters of system with monitor probes and monitoring agent as further described below. Other monitoring probes and or monitoring agents may be provided with system to allow CMS to monitor operating parameters of other elements of system as may be convenient.

Software agent and monitoring probes may conform with known operating standards for transmitting parameters relevant to performance of content processing device or system to CMS . For example a variety of standards published by the Digital Subscriber Line DSL Forum may be employed including protocols and data models specified in Working Text 135 WT 135 the contents of which are incorporated herein in their entirety. WT 135 generally defines a data model for provisioning a content processing device with an Auto Configuration server ACS such as CMS using a mechanism defined in Technical Report 069 TR 069 which is also incorporated herein in its entirety. Various parameters may be measured on IP streams and Radio Frequency RF transmissions to content processing device to determine various operating parameters of system as further described below. Other known parameters may be utilized in addition to or in place of parameters described herein. Monitoring parameters described herein generally relate to a hybrid implementation of a fiber optic network by including health reports of content processing device hardware transport layer reports in the form of network parameters and video specific reports as will be described further below. Various parameters presented herein that are not specifically included in referenced specifications e.g. the WT 135 specification may be addressed as vendor specific extensions. For example a Signal to Noise Ratio SNR of a video channel may generally indicate quality of the video signal. Additionally entitlement management EMM data may be used where entitlement data is necessary to authorize a user of a content processing device to receive video content.

Monitoring agent is generally supported by a software stack of content processing device . Agent generally samples a video stream from media distribution network a transport connection and general hardware performance of content processing device and provides the parameters to CMS . CMS may be provided in a protected segment behind a firewall not shown wherein policies of the firewall and CMS may provide necessary authorization and authentication for content processing device to interact with CMS .

CMS may monitor content processing device in a variety of ways. In accordance with one exemplary approach a recognized standards based approach using SNMP may be utilized. Communications using this alternative exemplary approach between content processing device and CMS may be asymmetric in that requests are over the Out of Band OOB channel and responses are In Band over an EP path. In accordance with one example a DSL Forum standards based approach using TR 069 protocols and data structures to manage provision and monitor devices in a private segment behind a Network Address Translation NAT device e.g. router . Communication between content processing device and CMS may occur via an application layer protocol and be secured by a standards based application security layer similar to Transport Layer Security TLS . Communication between content processing device and CMS may generally be In Band over IP.

Monitoring agent generally includes various layers relevant to operating parameters of hardware network and video layers of content processing device . Turning now to a schematic diagram of a plurality of monitoring layers of agent is illustrated according to one acceptable example. Agent may include an video decoding layer an encapsulation layer an IP communication layer L3 a link L2 layer a transport layer L1 an operating system layer a content processing device hardware layer and content processing device middleware not shown . The operating system layer reports hardware parameters of content processing device to CMS . Additionally IP layer reports network parameters and video decoding layer reports video quality parameters to CMS . This layered approach allows a customer service representative CSR accessing CMS to troubleshoot and isolate problems with content processing device or system by determining which layer is at fault and tracing the issue to the source. For example audio video synchronization problems may be introduced into system from head end at an encoder or re multiplexer not shown associated with head end as indicated by an associated hardware or software probe not shown of an encoder or re multiplexer. Such a problem may be identified using video layer measurements by examining Program Clock Reference PCR values as further described below. Agent may generally report relevant hardware network and video parameters to CMS .

Agent may monitor a hardware layer of content processing device with onboard hardware diagnostics. The diagnostics may be used to report operating states of various core hardware subsystem components of content processing device and report to CMS via IN Band communications. For example a content processing device according to one exemplary approach a Motorola STB may provide an Application Programming Interface API to access specific service metrics of content processing device e.g. error counts SNR values carrier lock indications program clock references PCR etc. In band B transport stream health information can be employed to determine integrity of a video path e.g. a path within media distribution network during a given session. Out of band OOB transport stream health information can be used to determine reliability of session command and control. Parameters which may be employed for hardware monitoring include 

Monitoring of a network or IP layer of content processing device may be performed from head end to content processing device i.e. end to end for a media stream transmitted from head end to content processing device . Passive methods of monitoring network layer Of content processing device may include monitoring variables such as packet loss packet rate dropped packets and status of video traffic queues. Active monitoring may report throughput latency packet loss and jitter of synthetic video traffic streams injected into system . Various standards may be employed for determining video packet calculations such as International Telecommunications Union Specification No. Rec.Y 1541 ITU T Rec. Y 1541 which is incorporated herein in its entirety. For example video specific network performance parameters which may be employed according to ITU T Rec.Y 1541 to determine network performance may include 

Agent may monitor a video layer of content processing device in a variety of ways including active and passive methods. Active methods generally insert test packets into a media distribution system and downstream probes analyze the packets. Alternatively passive measurement methods do not inject any new or extra packets into a video stream and instead extract quality and performance parameters from a production packet stream Accordingly passive methods are generally limited to specific indexes or metrics that can be obtained from the sampled stream data only.

Video quality parameters may further include objective and subjective measures of video quality. Objective measurements generally derive video picture quality from physical measurements of the picture. Subjective measurements may establish picture quality scores based on a consensus of a viewing audience. As a result subjective measures may be used to produce a so called Mean Opinion Score MOS . Objective quality indices may be used for gauging picture quality since they may be correlated with physical picture impairments while subjective impairments may be more difficult to define and correlate to measurable parameters of the video service. Video layer monitoring may include video stream quality VSQ measurements such as Media Delivery Index further described below. Video layer monitoring may also include video picture quality VPQ measurements such as V Factor further described below.

In accordance with one envisioned approach video layer monitoring includes parameters selected from the WT 135 specification described above the European Telecommunications Specification Institute TR110.290 specification the ITU T J.241 specification and Video Quality Expert Group VQEG parameters. According to one example of system these parameters include 

Additionally a master synchronizing signal a Programmable Clock Reference PCR may be embedded at an encoder of head end not shown . PCRs are generally snapshots of a counter driven by a program clock 27 MHz which may be inserted into packets at any point within a transport stream at predetermined intervals e.g. every 100 ms every 40 ms etc. These timing packets may be re processed delayed jittered or even dropped during transmission to content processing device . PCR values generally are created upon encoding of each video signal and typically recalculated at a transmission link e.g. router to compensate for effects of re multiplexing and network delays. Therefore any errors may be caused either at an origination point of a signal e.g. a broadcast studio or anywhere downstream during signal transport. To locate the exact point of error insertion transport stream monitoring is preferably applied at various test points within the packet network. As an example shows test points as hardware probes . Other test points may be employed where convenient. The following PCR parameters may be monitored by agent 

Process may begin at step where CMS receives at least one hardware performance parameter from content processing device . Any variety of hardware performance parameters may be received by CMS as described above. Process may then proceed to step .

In step CMS receives at least one network performance parameter from content processing device . Any of the network performance parameters described above as well as other known network performance parameters not specifically described above may be determined by content processing device and transmitted to CMS . Process may then proceed to step .

In step CMS receives at least one video quality parameter from content processing device . For example any of the video quality parameters described above or other known video quality parameters may be transmitted to CMS . Process may then proceed to step 

In step CMS may determine an operating status of content processing device and or other elements of system from the hardware performance network performance and video quality parameters received in steps and respectively. As described above a CSR may use information supplied by CMS to remotely troubleshoot content processing device or other elements of system or even identify network issues before a customer perceives a problem with the network. Further CMS may indicate service problems to content processing device thereby allowing customers to self diagnose service problems minimizing service calls for known network issues.

With regard to the processes systems methods heuristics etc. described herein it should be understood that although the steps of such processes etc. have been described as occurring according to a certain ordered sequence such processes could be practiced with the described steps performed in an order other than the order described herein. It further should be understood that certain steps could be performed simultaneously that other steps could be added or that certain steps described herein could be omitted. In other words the descriptions of processes herein are provided for the purpose of illustrating certain approaches examples or embodiments and should in no way be construed so as to limit the claimed invention.

Accordingly it is to be understood that the above description is intended to be illustrative and not restrictive. Many embodiments and applications other than the examples provided would be apparent to those of skill in the art upon reading the above description. The scope of the invention should be determined not with reference to the above description but should instead be determined with reference to the appended claims along with the full scope of equivalents to which such claims are entitled. It is anticipated and intended that future developments will occur in the arts discussed herein and that the disclosed systems and methods will be incorporated into such future embodiments. In sum it should be understood that the invention is capable of modification and variation and is limited only by the following claims.

All terms used in the claims are intended to be given their broadest reasonable constructions and their ordinary meanings as understood by those skilled in the art unless an explicit indication to the contrary in made herein. In particular use of the singular articles such as a the said etc. should be read to recite one or more of the indicated elements unless a claim recites an explicit limitation to the contrary.


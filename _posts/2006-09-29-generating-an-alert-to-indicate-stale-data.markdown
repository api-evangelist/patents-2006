---

title: Generating an alert to indicate stale data
abstract: A method for indicating stale data whereby a receiving system receives images and sync messages from a sending system and computes a time difference between a current time and a time a last sync message was received from the sending system. If such a time difference meets or exceeds a first threshold, the an alert is generated.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07565261&OS=07565261&RS=07565261
owner: Hewlett-Packard Development Company, L.P.
number: 07565261
owner_city: Houston
owner_country: US
publication_date: 20060929
---
Some electronic systems permit a user of one computer a receiving system to view on his or her display images graphics and text that are generated on another computer a sending system remotely located from the user s computer. In some such systems the sending system where the graphics data is generated transmits images to the user s receiving computer that causes the user s computer to replicate the images on the computer where the images originated.

It is possible that the flow of images from the sending system to the receiving system becomes disrupted. Reasons for such disruption include network congestion network failures etc. The disruptions can be temporary or permanent pending repair . When the flow of images to the receiving system ceases the information being displayed on the receiving system may be out of date i.e. stale . Viewing stale data can be problematic for many users particularly for users who need to rely on current accurate data.

Certain terms are used throughout the following description and claims to refer to particular system components. As one skilled in the art will appreciate computer companies may refer to a component by different names. This document does not intend to distinguish between components that differ in name but not function. In the following discussion and in the claims the terms including and comprising are used in an open ended fashion and thus should be interpreted to mean including but not limited to . . . . Also the term couple or couples is intended to mean either an indirect direct optical or wireless electrical connection. Thus if a first device couples to a second device that connection may be through a direct electrical connection through an indirect electrical connection via other devices and connections through an optical electrical connection or through a wireless electrical connection.

Referring to sending system executes a graphics application that causes images e.g. text lines fills to be shown by the graphics subsystem on the display . The graphics application comprises any one or more of a plurality of executable programs that use a graphics API. The APIs used by the graphics application are implemented by the graphics subsystem . The graphics application causes images to be shown on display by providing graphics commands to the graphics subsystem which creates and stores images in a frame buffer in the graphics subsystem . The sender reads the images from the graphics subsystem s frame buffer and in at least some embodiments compresses the images for subsequent transmission to the receiving system . Via network the sending system sends the compressed images to the receiving system . In those embodiments the receiving system receives the compressed images from the sending system decompresses the images and shows the decompressed images on display . The process is repetitive as the sending system continues to render new or updated images in its own graphics subsystem .

In some embodiments the sending system has a display coupled thereto but in other embodiments the sending system s display is not included. The receiving system may comprise an input device such as a keyboard or mouse which enables a user of the receiving system to interact with the graphics application as if the graphics application were being executed on the receiving system .

Referring still to the receiver comprises a session manager . In at least some embodiments the receiver and session manager are implemented in software. In general the session manager is responsible for determining when data being shown on the display may be stale and generating an alert to so indicate. Upon being informed of the alert a user of the receiving system can determine an appropriate course of action such as ignoring the displayed data and waiting for the alert to subside and the data to again to be valid forcing a refresh etc.

The sender sends periodic sync messages to the receiver . The receipt of the sync messages helps the receiving system to determine that the sending system and the network between the sending system and receiving system are functional. Another term applicable for the synch message is a heartbeat. The sender sends sync messages at a periodic interval such as once per second although other rates are possible as well. The format of each sync message can be in accordance with any desired format. The receiver receives messages packets from the sender and determines which messages are sync messages based upon one or more bits in the messages e.g. a header opcode etc. .

The receiving system comprises a current time generator e.g. a clock counter etc. that enables the receiving system to generate and keep track of the current time of day. The receiver s session manager reads the current time from the current time generator . The session manager determines the current time upon receipt of each sync pulse from the sender . The session manager determines the length of time that has transpired since the last time a sync pulse was received.

In accordance with embodiments the session manager compares the time difference between the current time and the time the receiver last received a sync message to various thresholds including at least a first threshold and a second threshold. The first threshold is smaller than the second threshold. Once the time difference equals and or exceeds the first threshold the session manager generates an alert that the information displayed on the display may be stale. That is the session manager has determined that one or more sync messages have not been received indicating a possible temporary or permanent communication failure between the sending and receiving systems and thus the information shown on display may not be trustworthy. The receiver however does not disconnect from the sender at this time as the communication problem may only prove to be temporary. Once the time difference however exceeds a second larger threshold the communication problem is deemed to be more than transient and may be permanent pending a subsequent repair and the receiver disconnects from the sender . The session manager generates a notification at this point to alert the user that the receiver has disconnected from the sender. Moreover prior to the receiver actually disconnecting from the sender the user is alerted that a communication problem is occurring and that the data being viewed may thus be stale. Thus the user is given advanced warning of the status of the data being viewed on display . Without this advanced warning the user would not know that the data is stale until the receiver suddenly disconnects from the sender .

It is possible that after the initial alert is generated the connection between the receiver and sender is re established. In this situation the sync messages again start flowing from the sender to the receiver . As such the time difference between the current time and time of receipt of the last sync message never meets or exceeds the second threshold. The session manager thus removes the initial alert thereby informing the user that the data is not stale and the receiver does not disconnect from the sender . In some embodiments the first and second thresholds are adjustable and or programmable. The first threshold may be set for example at about 2 seconds while the second threshold may be set at about 30 seconds.

At the session manager continues to compute the time difference between the current time and the time the last sync messages was received by the receiver . Action is performed as long as sync messages do not start to be received by the receiver . If a sync message is received by the receiver after the alert has been generated in the alert is removed and control starts over at . At the session manager determines whether the time difference is equal to or greater than the second threshold. If the time difference has not yet reached the second threshold control loops back to at which the time difference is again computed. If however the time difference equals or exceeds the second threshold control moves to at which the session manager causes the receiver to disconnect from the sender and to provide a notification to the user that the connection has been severed.

Any of a variety of different types of alerts can be generated at . The alert can be visual audible or a combination of both visual and audible. As a visual alert the alert could comprise a pop up visual indicator that is displayed super imposed over at least a portion of the display . A visual alert may comprise a status indicator or progress bar that provides textual information stating for example that one or more items of displayed information may be stale. The alert could comprise a visual timer that is constantly or periodically updated to indicate the time difference explained above. Another embodiment of a visual alert comprises a watermark that is super imposed over at least a portion of the display . A watermark may or may not over write and hide the underlying information being displayed. In other embodiments the alert can be implemented by altering the brightness level of the display . For example a sudden reduction in the brightness of the display can indicate that the data being shown may be stale. A freshness indicator could be implemented that indicates how stale the data may be. For example a color associated with the freshness indicator could be made to change as the time difference increases. In one embodiment the freshness indicator may begin as green then turn to yellow then orange and then red as the time difference increases towards the second threshold. Alternatively the freshness indication can be encoded in the rate of blinking of the indicator. For example the freshness indicator may initially blink relatively slowly. The blink rate could begin to increase as the time difference increases towards the second threshold. Any of the preceding types of alerts or other types can be implemented as well as combinations of such alert types shows an example of an alert in which the display is dimmed and a pop up alert message is shown super imposed over the information otherwise being shown.

In accordance with an embodiment of the invention a user activated software control can also be provided with the alert. If implemented the control provides the user the ability to have the receiver disconnect immediately from the sender rather than waiting for the second time threshold to occur.

The above discussion is meant to be illustrative of the principles and various embodiments of the present invention. Numerous variations and modifications will become apparent to those skilled in the art once the above disclosure is fully appreciated. It is intended that the following claims be interpreted to embrace all such variations and modifications.


---

title: Access control to resource content
abstract: A method, system, and computer program product are provided for performing access control. Regarding an arbitrary document or the like in a logical hierarchy structure, there is provided a method for determining whether a range of access authority set for a certain user with respect to a document or the like exceeds a range of access authority set for the user with respect to the folder positioned immediately above the folder is provided, when a change in contents of the access authority set for each user or a new document or the like by being moved or copied from another document is created or the documents moved or copied. Where the exceeding is determined, a new folder for direct access is created and access authority is set equal to or exceeds the range of access authority determined to exceeding the range of access authority set for the user.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08862624&OS=08862624&RS=08862624
owner: International Business Machines Corporation
number: 08862624
owner_city: Armonk
owner_country: US
publication_date: 20061120
---
The present invention relates to access control to resource contents in a contents sharing system by multi user. Particularly the present invention relates to a method a system and a computer program product for making it possible to perform access control to resource contents based on a setup of free and flexible access authority in a contents sharing system by multi user.

Recently there has been widely used a network based computer system which is constituted by a plurality of computers such as client computers and a server computer and a plurality of I O devices connected through a network such as the Internet and an intranet including an intra company LAN . Generally in such a computer system a plurality of users can access the same resource content also simply referred to as resource or content stored in a certain computer on the network for example a server computer and thus it is referred to as a contents sharing system by a plurality of users multi user . 

Here the resource content includes a document also referred to as document file or simply file stored in the computer and a folder which can conceptually have one or more documents for convenience of access to the documents and it is possible to hierarchically manage the respective documents in each folder by configuring the folders logically associated with each other and hierarchically arranged as if they are connected with each other in a tree form branches .

That is the single folder of the uppermost hierarchy the 0th hierarchy equivalent to the root of the tree referred to as a root folder can have one or more documents as well as one or more top level folders folders of the first hierarchy and each of these top level folders can also have one or more documents and one or more folders of the second hierarchy.

Thus the folders from the root folder as the uppermost hierarchy through the folders located in the lowermost hierarchy are connected with each other in the tree form to constitute the logical hierarchy structure and the respective folders in this tree type hierarchy structure can have one or more documents thereby making it possible to hierarchically manage all the documents stored in this computer or the like.

This logical hierarchy structure of the resource contents is achieved in practice using a linkage mechanism for reference to the resource contents. It achieves the management of the resource contents using the logical hierarchy structure wherein a link table is provided in the computer for example provided in the server computer as a database which specifies whether the resource content of a certain source transmission source can directly refer to access the resource content of a certain target destination for some combinations of the resource contents serving as a source and a target so that application software regarding this linkage mechanism for reference determines the relation among the resource contents which can be referred to based on the contents of this link table.

For example in the case of the logical hierarchy structure of the resource contents illustrated in it is achieved by having the link table illustrated in Table 1. As this Table 1 each link from the source to the target is represented as each entry in the link table. Here a link type is like a distinguishing mark for each link which can be defined for every application software and an arbitrary value can be assigned thereto. In Table 1 a character string FOLDER is assigned.

In the contents sharing system for a plurality of users described above generally each of the users can access Read Write or the like an arbitrary resource content such as the document and the folder belonging to the arbitrary folder in the tree type logical hierarchy structure. However if any access control for each user is not performed it is undesirable due to the following reasons it causes a security problem in which the document or the like which is intended to be accessed by only a certain user may be accessed by other users and it decreases a user interface namely operability for the user due to numerousness of the documents and complexity of the hierarchy since a document which is not needed to be accessed by the user but may be viewed by the same user. Hence in order to prevent these problems the detailed access control for each user is performed by setting access authority to the respective users or user groups which indicates the type of access permitted to the user or the user group to perform for the respective resource contents such as the folder and the document in this tree type logical hierarchy structure.

The list set for the resource contents to which the access should be controlled and indicates access authority of the respective users for the resource contents namely the list which indicates what type of access authority is given to which user or user group is referred to as an access control list ACL . 

The ACL includes a folder ACL which controls the access to the folder and a document ACL which controls the access to the document. Meanwhile as access types there are a wide range of access types including Read which permits reference to the document or the like Write which permits modification of the document or the like as well as Delete Execute Print Authority Change Download Create or the like and a user defined authority can also be added. When a certain folder ACL is set for a certain folder located in a certain hierarchy in the tree type logical hierarchy structure access authority for all the resource contents located in the levels lower than this folder is limited based on this folder ACL setting so that the access based on the authority broader than this access authority cannot be performed practically.

In the example illustrated in it is shown that the folder ACL permits only read access to the respective users A B and C Read A B C is set for the folder which means that the users A B and C are only permitted to perform the read access to the folder and are not permitted to perform other types of access such as the write access and also shown that the users other than the users A B and C are not permitted to perform even the read access. In addition the folder immediately under the folder cannot perform access based on authority broader than authority permits only read access to the respective users A B and C Read A B C set in the folder as can be seen in the example of the figure where the ACL with narrower authority permits only read access to the respective users A and B Read A B is set.

As described above in the contents sharing system by a plurality of users the access control of the plurality of users is conventionally performed based on the ACL setting corresponding to the resource contents management based on the tree type logical hierarchy structure so called hierarchical ACL model . Although this hierarchical ACL model has advantages in that the access authority can be managed with the hierarchy of the folder and that different ACLs can be set for every document within a limit of the folder ACL of the folder in its higher level it also has disadvantages in that the access authority for the lower level resource content is limited in accordance with the setting of the folder ACL of the higher level folder under the usual user interface which accesses the document by sequentially pursuing from the top folder to the lower level folder and thus the setting of a certain ACL may be meaningless depending on the combination of this ACL and the higher level folder ACL resulting in the ACL not being set as desired.

For example in the document ACL permits read access and write access to the user B Read B Write B is set for the document under the folder though this document ACL setting is based on the authority broader than that of the folder ACL setting for the folder resulting in the access to the document being limited by the authority based on the ACL setting for the folder of its higher level. Consequently a portion of this document ACL beyond the folder ACL for the folder namely the setting of the access authority permits write access to the user B Write B does not function effectively resulting in meaningless setting. In this case if the folder ACL setting for the folder is changed in accordance with this document ACL setting the access to all the documents under the folder would be affected by the changed ACL setting. As a result it is not desirable because this document ACL setting functions effectively but at the same time this change makes it possible to impart the access authority with unnecessarily broader range to all the other documents belonging to the folder . Furthermore in the document ACL permits read access and write access to the users A B and C Read A B C Write A B C is set for the document immediately under the folder . However it is based on the authority broader than that of the folder ACL setting for the folder immediately above it so that in a manner similar to the case described above a portion of this document ACL beyond the range of the folder ACL setting for the folder namely the access authority setting permits write access to the users A B and C Write A B C does not function effectively resulting in the meaningless setting.

As described above in the conventional hierarchical ACL model it is impossible to deal with the case where the document is intended to be accessible to the users other than those with permission by the folder ACL setting of the higher level immediately above folder.

In order to deal with these problems there may be considered a method of for using a combination of the ACL model for setting the same ACL to all the resource contents Same ACL model and the ACL model for setting the folder ACL permits all the access authorities to all the users Public for all the folders to thereby control it only by the document ACL setting Public ACL model . illustrates an example of the access control by this combination model. In this figure two ACL models are combined. The same ACL model is applied to the resource content of a top level folder on the right of the first hierarchy and its lower levels where the resource content which may be managed under the same access authority are arranged here. As for a root folder as well as a top level folder on the left of the first hierarchy and its lower level folders the folder ACL is set to Public so that the access control to the respective documents is performed by variously setting the document ACL for every document.

This method makes it possible for the documents to be managed by the document ACLs of the documents located in each hierarchy without considering the folder ACL and the respective combined ACL models will also be simple and straightforward. However since the method does not hierarchically manage the documents using the folder ACL for the folders arranged hierarchically there are disadvantages for example it becomes meaningless to arrange the folders into the tree type logical hierarchy structure it is undesirable in view of security or privacy protection because folder names or document names are open to all the users due to the folder ACL being set to Public and thus these names help to guess the content thereof to some extent it causes the maintenance to be troublesome as the number of documents increases because it requires the precise ACL setting for all the documents and the top level folders folders in the first hierarchy immediately under the root folder are required for the number of ACL models to be combined and thus it becomes inconvenient to use in terms of the user interface as the number of top level folders increases.

Moreover as reference art of the present invention there are some articles regarding a setting method of the ACL. The art described in Japanese Unexamined Patent Publication Kokai No. 2002 116934 is about a system for dynamically controlling the access authority for individual contents resource contents based on a state or attribute of the content at the time when the access occurs. The art described in Japanese Unexamined Patent Publication Kokai No. 2003 91448 is a document management system having a function which changes for example the access authority to the document and folder collectively wherein this function is disabled when the access authority of the user or user group is preset and it is specified by the user not to perform change or the like of the access authority directed by the user and wherein the access authority is merged and set when the access authority of the user or user group is preset and it is specified by the user to merge the access authority directed by the user. Furthermore the art described in Japanese Unexamined Patent Publication Kokai No. 2003 280990 associates user attribute information such as post information of an organization and the range of official authority with the type of access authority for every document and sets the ACL by connecting it to the user attribute information for the attempt of reducing the burden of review of the group configuration upon reorganization and other maintenance works which have been required when the access authority has been managed only by a user ID.

Although each of the reference arts can set the ACL afterward or flexibly the set ACL is premised to follow the limit in the conventional hierarchical ACL model. In other words the access authority for the lower level resource content is limited by the access authority based on the folder ACL set for the upper level folder. Hence the reference arts above do not fundamentally solve the above mentioned problems.

Therefore the present invention aims at solving the above mentioned problems upon using the existing hierarchical ACL model for a contents sharing system for multi user and providing a method a system and a computer program product for performing access control which can set access authority freely and flexibly. This object is achieved by the combinations of features described in the independent claims. The dependent claims define further advantageous examples of the present invention.

In order to solve the problems described above the present invention provides a method of managing access to documents or folders by users by a computer in accordance with access authority set for each user with respect to each document or folder in a contents sharing system the method comprising the steps of determining for an arbitrary document or folder in a logical hierarchy structure under a root folder whether or not a range of access authority set for at least one user with respect to the document or folder exceeds a range of access authority set for the user with respect to a folder positioned immediately above the document or folder in the hierarchy structure in response to change in contents of the access authority set with respect to the document or folder or in response to creation of a new document or folder by being moved or copied from another document or folder creating in the case where the exceeding is determined in the determining step a new folder for direct access immediately under a predetermined folder in the hierarchy structure and setting access authority with respect to the folder for direct access with a range equal to or exceeding the range of access authority set for the user with respect to the document or folder and creating an access link with the folder for direct access as a source and the document or folder as a target subsequent to the creation and setting step and the present invention also provides as a system which can carry out the method and a program product for causing the computer to execute the method.

Moreover the present invention provides a method of managing access to documents or folders by users by a computer in accordance with access authority set for each user with respect to each document or folder in a contents sharing system the method comprising the steps of determining for an arbitrary document or folder in a logical hierarchy structure under a root folder whether or not a range of access authority set for at least one user with respect to the document or folder exceeds a range of access authority set for the user with respect to a folder positioned immediately above the document or folder in the hierarchy structure in response to change in contents of access authority set for the document or folder or in response to creation of a new document or folder by being moved or copied from another document or folder a creating in the case where the exceeding is determined in the determining part a new folder for direct access immediately under a predetermined folder in the hierarchy structure and setting access authority with respect to the folder for direct access with a range equal to or exceeding the range of access authority set for the user with respect to the document or folder creating an access link with the folder for direct access as a source and the document or folder as a target subsequent to the creating and setting step displaying a list of all the folders for direct access in which access authority for the user is set for the user in response to a request by the user and creating for each of all the displayed folders for direct access a second access link with the predetermined folder as a source and the folder for direct access or the document or folder of the link destination of the folder for direct access as a target in response to designation by the user to intend to access the document or folder at a link destination of the folder for direct access from an existing predetermined folder to which the user can access other than all the folders for direct access and the present invention also provides a system which can carry out the method and a program product for causing the computer to execute the method.

Note herein that the brief description of the invention described above does not cite all features required for the present invention and the combinations constituted by a part of this plurality of features of the invention may also be considered as the invention.

According to the present invention in the contents sharing system for multi user the setting of the access control can be performed freely and flexibly without being bound by the limit of the setting of access authority in the conventional access control model.

Hereinafter the best modes hereinafter embodiments for carrying out the present invention will be described in detail with reference to the accompanying drawings but these embodiments do not limit the invention according to claims and all the combinations of the features described in the embodiments are not necessarily indispensable to the means for solving the problems.

In the system in a plurality of client computers client terminals and a plurality of I O devices are connected to a server computer through a network such as the Internet and the server computer is further connected locally with a content server for collectively storing various contents. The server computer manages access to various contents stored in the content server which achieves various functions such as registration retrieval reference and deletion of the content stored in the content server setting of an ACL namely setting of a sharer and mailing for a user who accesses this server computer using some server application software operated on an operating system such as AIX and UNIX for example. The server computer and the content server can be combined and regarded as one database system which manages one or more databases constituted by these content. While only one content server is illustrated in the example in a plurality of content servers may be obviously connected to the server computer . It is also possible to provide all the content to a storage of the server computer or the like without arranging the content server independently. Moreover while only one server computer is illustrated in this system environment may obviously include a plurality of server computers connected to the network .

The client computers are personal computers having client application software operated on a Windows operating system for example and the I O devices are referred to as an MFP Multiple Function Printer placed for example in a convenience store or the like which has a plurality of functions such as print copy scan facsimile and media I O in one set. Each user can access the document namely content stored in the server computer using the client computers or the I O devices .

Under the above system environment embodiments of the present invention will be described hereinbelow.

As a first embodiment of the present invention there will be firstly described a case where the ACL of an arbitrary resource content in the tree type logical hierarchy structure is changed. illustrate the mode in which the first embodiment of the present invention is carried out for the tree type logical hierarchy structure of the resource contents configured in the server computer and the content server of the contents sharing system for multi user in . illustrates a flow of whole processing of the first embodiment of the present invention.

As shown in when access authority is changed so as to permit the read access to the folder by users D and E namely the ACL setting for the folder is set as Read C D E the processing proceeds to the step to then determine whether or not the top level folder for direct access should be newly created immediately under the root folder Yes at S in . First since the ACL setting for the folder is changed from Read C to Read C D E it is determined that access authority of users D and E is extended namely it is changed from the state where nothing is permitted to the state where reading is permitted while access authority of user C is unchanged and thus access authority for the folder as a whole is extended compared to that before the ACL setting is changed Yes at S in . Next it is determined whether or not the extension of access authority of users D and E exceeds the range of access authority of users D and E for the top level folder immediately above it S in . The ACL setting for the top level folder is Read A B C which means that access authority of user C is not extended in this change of the ACL setting for the folder but because any access authority does not set for users D and E access authority of users D and E is extended. For that reason it is determined that the top level folder for direct access should be newly created and a top level folder is created immediately under the root folder S in .

This determination of whether or not access authority for a certain user is extended is carried out specifically as follows. That is the ACL setting for the top level folder is stored in a part of an attribute column of the allocation table in and the storage state thereof may be schematically illustrated as in Table 2 a for example. Meanwhile the ACL setting after the change for the folder is stored in the same part as above of the attribute column of the allocation table and the storage state thereof may also be schematically illustrated as in Table 2 b . The application software reads out the storage state illustrated in Tables 2 a and 2 b namely the application software causes the hardware resources of the computer to carry out to then search whether or not there is an item with a value 0 in Table 2 a and a value 1 in Table 2 b combination of the type of the access authority and the user and when such item is present in this example the combinations of Read user D and Read user E it determines that access authority is extended. In addition it specifies the type of access authority in this example Read and the user in this example users D and E regarding this item.

As for access authority for the folder of users D and E which is determined to exceed the range of access authority for the top level folder immediately above it the ACL regarding access authority with the range equal to or exceeding it is set in the top level folder S in . That is the ACL permits read access to users D and E Read D E is set in the top level folder .

By newly creating the top level folder immediately under the root folder a link with the root folder as a source and the top level folder as a target is additionally created in the link table automatically by the conventional mechanism. Aside from this according to the embodiment of the present invention the link for the top level folder to refer to the folder for the resource content is additionally created S in . Tables 3 a d illustrate how the link table changes depending on the flows in . Namely while the tree type logical hierarchy structure of the initial resource content illustrated in is achieved by the link table illustrated in Table 3 a in response to the change of the ACL setting for the folder illustrated in an entry 1 which defines the newly created top level folder as a source and the folder as a target is additionally created in the link table as illustrated in Table 3 b thus making it possible to refer to the folder from the top level folder . Here the top level folder has the ACL setting regarding access authority equivalent to access authority of users D and E extended by the change of the ACL setting for the folder so that user D or E who accesses the top level folder can access read the folder which is linked therefrom and includes equivalent access authority. As for the link type of this entry 1 in order to indicate that this link is from the top level folder for direct access which is newly created by carrying out the present invention it is desirable to set a value different from that previously set to the respective entries. In Table 3 a value DIRECT is set.

Similarly as shown in when the access authority is changed so as to permit the read access to a document belonging to the folder by user F namely the ACL setting for the document is set as Read C D the processing proceeds to the step to determine whether or not the top level folder for direct access should be newly created immediately under the root folder Yes at S in . First since the ACL setting for the document is changed from Read C to Read C F it is determined that access authority of user F is extended namely it is changed from the state where nothing is permitted to the state where reading is permitted while access authority of user C is unchanged and thus access authority for the document as a whole is extended compared to that before the ACL setting is changed Yes at S in . Next it is determined whether or not the extension of access authority of user F exceeds the range of access authority of user F for the top level folder immediately above it S in . Although the ACL setting for the folder is previously changed as shown in to Read C D E the range of access authority of user F still exceeds that of access authority for the folder even when comparing thereto. For that reason it is determined that the top level folder for direct access should be newly created and a top level folder is created immediately under the root folder S in . As for access authority for the document of user F which is determined to exceed the range of access authority for the folder immediately above it the ACL regarding access authority of the range equal to or exceeding it is set in the top level folder S in . That is the ACL permits read access to user F Read F is set in the top level folder .

By newly creating the top level folder immediately under the root folder the link with the root folder as a source and the top level folder as a target is additionally created in the link table. Aside from this according to the embodiment of the present invention the link for the top level folder to refer to the document for the resource content is additionally created S in . Namely in response to the change of the ACL setting for the document illustrated in an entry 2 which defines the newly created top level folder as a source and the document as a target is additionally created in the link table as illustrated in Table 3 c thus making it possible to refer to the document from the top level folder . Here the top level folder has the ACL setting regarding access authority equivalent to access authority of user F extended access authority for the folder immediately above it by the change of the ACL setting for the document so that user F who accesses the top level folder can access read the document which is linked therefrom and includes equivalent access authority. As for the link type of the entry 2 the value DIRECT is set in a manner similar to the case of the entry 1 .

Furthermore as shown in when the access authority is changed so as to permit the read access to a document belonging to the folder by users D E and G namely the ACL setting for the document is set as Read D E G the processing proceeds to the step to determine whether or not the top level folder for direct access should be newly created immediately under the root folder Yes at S in . First since the ACL setting for the document is changed from Read C to Read D E G it is determined that access authority of users D E and G is extended it is changed from the state where nothing is permitted to the state where reading is permitted while access authority of user C is reduced it is changed from the state where reading is permitted to the state where nothing is permitted and thus access authority for the document as a whole is extended compared to that before the ACL setting is changed Yes at S in . Next it is determined whether or not the extension of access authority of users D E and G exceeds the range of access authority of users D E and G for the top level folder immediately above it S in . The ACL setting for the folder is previously changed as shown in to Read C D E. In other words the range of access authority of users D and E does not exceeds that for the folder while the range of access authority of user G exceeds that for the folder . For that reason it is determined that the top level folder for direct access should be newly created and a top level folder is created immediately under the root folder S in . As for access authority for the document of user G which is determined to exceed the range of access authority for the folder immediately above it the ACL regarding access authority of the range equal to or exceeding it is set in the top level folder S in . That is the ACL permits read access to the user G Read G is set in the top level folder .

By newly creating the top level folder immediately under the root folder the link with the root folder as a source and the top level folder as a target is additionally created in the link table. Aside from this according to the embodiment of the present invention the link for the top level folder to refer to the document for the resource content is additionally created S in . Namely in response to the change of the ACL setting for the document illustrated in an entry 3 which defines the newly created top level folder as a source and the document as a target is additionally created in the link table as illustrated in Table 3 d thus making it possible to refer to the document from the top level folder . Here the top level folder has the ACL setting regarding access authority equivalent to access authority of user G extended access authority for the folder immediately above it by the change of the ACL setting for the document so that user G who accesses the top level folder can access read the document which is linked therefrom and includes equivalent access authority. As for the link type of the entry 3 the value DIRECT is set in a manner similar to the case of the entries 1 and 2 .

Next as a second embodiment of the present invention there will be described a case where an arbitrary resource content in the tree type logical hierarchy structure is moved or copied by the user within this hierarchy structure. illustrate the mode in which the second embodiment according to the present invention is carried out for the tree type logical hierarchy structure of the resource content configured in the server computer and the content server of the content sharing system for multi user in . can be used as the figure illustrating the flow of the whole processing of the second embodiment.

Here as shown in in response to a case where the user A moves the position of the document from the position immediately under the top level folder to the position immediately under the folder to establish a new document the processing proceeds to the step to determine whether or not the top level folder for direct access should be newly created immediately under the root folder No at S in Yes at S . Since the ACL setting itself is not changed by moving the position of the document it is not determined whether or not access authority based on the ACL setting for the document itself is extended the processing does not proceed through S in . However it is determined whether or not access authority for the document newly created immediately under the folder exceeds resultingly the range of access authority of this folder S in . Since the ACL setting for the folder is Read A access authority to user C exceeds resultingly the range of access authority for the folder . For that reason it is determined that the top level folder for direct access should be newly created so that a top level folder is created immediately under the root folder S in . As for access authority for the document of user C which is determined to exceed the range of access authority for the folder immediately above it the ACL regarding access authority with the range equal to or exceeding it is set in the top level folder S in . That is the ACL permits read access to the user C Read C is set in the top level folder .

Since the document immediately under the folder is moved to the document immediately under the folder the link with the root folder as a source and the top level folder as a target is newly created in the link table by that the content of the entry in the link table regarding this movement is rewritten using the conventional mechanism and by that the top level folder is newly created immediately under the root folder . Aside from them according to the embodiment of the present invention the link for the top level folder to refer to the moved document for the resource content is additionally created S in . Tables 4 a and b illustrate how the link table changes according to the flow in . Namely while the tree type logical hierarchy structure of the initial resource content illustrated in is achieved by the link table illustrated in Table 4 a in response to the movement of the document to the document illustrated in an entry 4 which defines the newly created top level folder as a source and the document as a target is additionally created in the link table as illustrated in Table 4 b thus making it possible to refer to the document from the top level folder . Here the top level folder has the ACL setting regarding access authority equivalent to access authority of the user C to the document which is determined to exceed the range of the access authority for the folder immediately above it so that user C who accesses the top level folder can access read the document which is linked therefrom and includes equivalent access authority. As for the link type of this entry 4 the value DIRECT is set in a manner similar to the case of the above entries 1 to 3 .

When the document is not moved but copied and when not the document but the folder is moved or copied the processing proceeds in a manner similar to the above case when the document is moved. In the case where the document is copied it is different from the case where the document is moved in that the entry of the link of the copy source remains in the link table after changing the entries in the link table. However both cases are equivalent in view of carrying out the present invention. In the case where the folder is moved or copied all the resource contents under the folder are also moved or copied so that the present invention is applicable to each of these lower level resource contents and the top level folder for direct access is newly created appropriately if needed.

Next as a third embodiment at another stage of the present invention there will be described the operation in the stage after the new top level folder for direct access is created based on the first or second embodiment above. First the operation will be described when the document of the folder is deleted. illustrates the state after a new top level folder for direct access is created immediately under a root folder based on the first or second embodiment of the present invention for the tree type logical hierarchy structure of the resource contents configured in the server computer and the content server of the contents sharing system for multi user in . In addition Table 5 illustrates the state of the link table corresponding to . As shown in the top level folder is the private folder of user A and there is configured at its lower level the tree type logical hierarchy structure constituted by the resource contents each having some sort of the access authority to at least user A. Since the ACL permits read access to the users A and D Read A D has been set for one document in this tree type logical hierarchy structure the new top level folder for direct access is created and the link is created thus making it possible to directly access from the top level folder to the document .

Here suppose that user A deletes the document . At this time all the entries in the link table are searched to enumerate all the entries which have the document to be deleted serving as a target. Then for each of the enumerated entries it is confirmed whether or not it is the entry indicating the link with the top level folder for direct access as a source created based on the first embodiment. That is in response to deletion of the document it is confirmed whether or not there is the link from the top level folder to the document . Specifically in the link table of Table 5 the entry having the document in the target column is searched first then it is confirmed whether or not the link type is DIRECT for each of the relevant entries and an entry 5 with the top level folder as a source and the document as a target is found. Thereafter this entry 5 is deleted from the link table and the top level folder is also deleted continuously. As described above according to the third embodiment of the present invention the top level folder created based on the first or second embodiment or the link from the top level folder to the document or the folder can be deleted when it becomes unnecessary by the relevant document or folder being deleted without the user involving in any way.

As described above when the number of the new top level folders for direct access created according to the present invention increases in response to the change of the ACL setting for an arbitrary resource content in the logical hierarchy structure or the movement or copying of the resource content the need arises to consider to reorganize and integrate these increased top level folders. In this case by providing the user with service integration of folders as a fourth embodiment the extension of the first through third embodiments of the present invention the user can easily reorganize and integrate the folders which have become complicated.

According to the fourth embodiment of the present invention in response to a request from an arbitrary user a list of newly created top level folders for direct access which this user can access can be displayed to this user. That is in the case shown in in response to the request by user D for inquiring the newly created top level folders for which user D has access authority at present the list indicating the top level folders and is displayed to user D. Regarding each of all or some of these top level folders user D can designate a certain folder under its private folder in the logical hierarchical structure from which the top level folder can be accessed. For example the user can designate that the top level folder can be accessed from the folder and the top level folder can be accessed from the folder respectively while there is no designation regarding the top level folder . In response to this designation by user D the link is created from the folder to the top level folder by adding the entry of the link between the folder as a source and the top level folder as a target to the link table. Similarly the link is created from the folder to the top level folder by adding the entry with the folder as a source and the top level folder as a target. Here since user D has not designated the link to the top level folder is not created from any folders in the logical hierarchy structure under the private folder of the user D. illustrates the state after these links are created.

By creating this link user D can access from the folder under its private folder to the folder under the private folder of user A through the top level folder and can similarly access from the folder under its private folder to the document under the private folder of user B through the top level folder . Namely the resource contents which are not within the range under the private folder of user D but for which the ACL is set to permit the access from user D can be accessed using one of the folders reorganized by categories within the hierarchy structure under the private folder of user D as an origin. Consequently the need is eliminated to be conscious of the presence of the top level folders and for direct access created initially for accessing these resource content based on the first or second embodiment of the present invention. See dashed line arrows and in 

Instead of creating the link from the folder in the private folder of user D to the top level folder the link may be created directly from the folder to the folder to which the top level folder is linked. In this case since the top level folder becomes not essential for accessing the folder the link from the top level folder to the folder is deleted and the top level folder itself may be deleted. Similarly instead of creating the link from the folder in the private folder of user D to the top level folder the link may be created directly from the folder to the document to which the top level folder is linked. In this case the link from the top level folder to the document as well as the top level folder itself may be deleted. illustrates the state after these direct links and are created.

By creating this direct link user D can access directly from the folder under its private folder to the folder for which the ACL is set to permit the access from the user D under the private folder of user A without going through the top level folder and similarly can access directly from the folder under his her own private folder to the document for which the ACL is set to permit the access from the user D under the private folder of the user B without going through the top level folder . In this case as well the resource content which are not within the range under the private folder of user D but for which the ACL is set to permit the access from the user D can be accessed using one of the folders reorganized by categories within the hierarchy structure under the private folder of the user D as an origin. Consequently the need is eliminated of the presence of the top level folders and for direct access created initially for accessing these resource content based on the first or second embodiment of the present invention and thus they may be deleted.

As described above in accordance with the designation by the user the integrative access becomes possible from the specific reorganized folders in the hierarchy structure under this user to all the resource content with permission of the access by this user including the resource content to which this user has the access permission given by the user other than this user resulting in significant improvement of user operability in this content sharing system by multi user.

While the present invention has been described using some embodiments the technical scope of the present invention is apparently not limited to the scope described in the above embodiments. It is obvious to those skilled in the art that a wide variety of modifications or improvements can be made to the above embodiments. Moreover it is obvious from the description of claims that such modified or improved forms may be included within the technical scope of the present invention.


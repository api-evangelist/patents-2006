---

title: Method and apparatus for recovery of particular bits of a frame
abstract: A method and an apparatus for recovery of particular bits in a frame are disclosed. An origination station forms a frame structure with groups of information bits of different importance. All the information bits are then protected by an outer quality metric. Additionally, the groups of more important information bits are further protected by an inner quality metric; each group having a corresponding quality metric. The frame is then transmitted to a destination station. The destination station decodes the received frame and decides, first in accordance with the outer quality metric, whether the frame has been correctly received, or whether the frame is erased. If the frame has been declared erased, the destination station attempts to recover the groups of more important information bits in accordance with the corresponding inner quality metrics.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07752522&OS=07752522&RS=07752522
owner: QUALCOMM Incorporated
number: 07752522
owner_city: San Diego
owner_country: US
publication_date: 20061121
---
The present Application for Patent is a divisional of patent application Ser. No. 09 588 072 entitled METHOD AND APPARATUS FOR RECOVERY OF PARTICULAR BITS OF A FRAME filed Jun. 5 2000 now allowed and assigned to the assignee hereof and hereby expressly incorporated by reference herein.

The current invention relates to communication. More particularly the present invention relates to a novel method and apparatus for recovery of particular bits of a corrupted frame.

Communication systems have been developed to allow transmission of information signals from an origination station to a physically distinct destination station. In transmitting an information signal from the origination station over a communication channel the information signal is first converted into a form suitable for efficient transmission over the channel. Conversion or modulation of the information signal involves varying a parameter of a carrier wave in accordance with the information signal in such a way that the spectrum of the resulting modulated carrier is confined within the channel bandwidth. At the destination station the original message signal is replicated from a version of the modulated carrier received subsequent to propagation over the channel. Such replication is generally achieved by using an inverse of the modulation process employed by the origination station.

Furthermore the conversion is selected in accordance with additional characteristics of the channel including but not being limited to signal to noise ratio fading time variance and others known to one skilled in the art. Thus transmission of an information signal over a wireless communication channel will require different consideration than transmission over a wire like channel e.g. coaxial cable optical cable and others known to one skilled in the art.

Modulation also facilitates multiple access i.e. simultaneous transmission of several signals over a common channel. Multiple access communication systems often include a plurality of remote subscriber units requiring intermittent service of relatively short duration rather than continuous access to the communication channel.

There are several multiple access communication system techniques such as time division multiple access TDMA frequency division multiple access FDMA and amplitude modulation AM schemes such as amplitude companded single sideband known in the art. Another type of multiple access spread spectrum system is a code division multiple access CDMA modulation system that conforms to the TIA EIA IS 95 Mobile Station Base Station Compatibility Standard for Dual Mode Wide Band Spread Spectrum Cellular System hereinafter referred to as the IS 95 standard. The CDMA system supports voice and data communication between users over a terrestrial link. The use of CDMA techniques in a multiple access communication system is disclosed in U.S. Pat. No. 4 901 307 entitled SPREAD SPECTRUM MULTIPLE ACCESS COMMUNICATION SYSTEM USING SATELLITE OR TERRESTRIAL REPEATERS and U.S. Pat. No. 5 103 459 entitled SYSTEM AND METHOD FOR GENERATING WAVEFORMS IN A CDMA CELLULAR TELEPHONE SYSTEM both assigned to the assignee of the present invention and incorporated herein by reference.

In the above referenced U.S. Pat. No. 4 901 307 a multiple access technique is disclosed allowing a large number of mobile telephone system users each having a transceiver communicate through satellite repeaters or terrestrial base stations using CDMA spread spectrum communication signals. In using CDMA communications the frequency spectrum can be reused multiple times thus permitting an increase in system user capacity. The use of CDMA results in a much higher spectral efficiency than can be achieved using other multiple access techniques.

In general the transmitted information signal is divided into a number of frames each of which includes a specified number of information bits and a number of quality metric bits. Each frame is processed in accordance with a selected modulation scheme and transmitted over a communication channel. At the destination station the frame is extracted from the communication channel by demodulation. In order to ascertain integrity of information in the extracted signal the information bits in the frame are protected by a quality metric derived from the information bits. Such a quality metric may be a parity bit a cyclic redundancy check CRC or any other quality metric known to one skilled in the art. Upon extraction of the signal from the received frame a quality metric is determined from the extracted information bits and compared with the extracted quality metric. If the two quality metrics match the frame is considered correctly received. Otherwise the frame is declared erased.

The above described integrity check works well when all the information bits in the frame are equally important. However certain applications may use frames with bits grouped into blocks of different importance. An example of a frame of this structure is disclosed in co pending provisional application Ser. No. 60 175 371 entitled Accommodating the WCDMA AMR Data Rates in IS 2000 MC filed Jan. 10 2000 assigned to the assignee of the present invention and incorporated herein by reference. The Adaptive Multi Rate AMR speech coder groups the information bits into three classes called class A class B and class C. In a Wideband Code Division Multiple access WCDMA system each class of bits is sent on a different transport channel with possibly different coding and rate matching. The Class A bits are the most important bits then the Class B bits and finally the Class C bits. A WCDMA approach uses an 8 bit CRC and a tailed off convolutional coding for the Class A bits no CRC and tailed off convolutional coding for the Class B bits and no CRC or convolutional coding for the Class C bits. The Telecommunication Industry Association TIA Industry Standard 2000 Multi Carrier IS 2000 MC accommodates the AMR speech coder by forming a single frame comprising all three classes A B and C with reverse ordering of the AMR information bit classes so that the last least important bit class Class C is sent first. Because the flexible rate puncturing starts from the first encoded and repeated symbols and stops after the necessary number of symbols are punctured the bits located at the end of the frame are more reliable. Puncturing is a technique that affects bit or bits legitimately belonging at certain location in a frame. Thus for example in power control puncturing information bits at certain locations are replaced by power control bits. In another example interleaving may generate bits exceeding a frame length and the excess bits are discarded. The frame is encoded by a single tailed off convolutional code. A single CRC with a length depending on the number of information bits is determined in accordance with all the information bits. Such a frame is depicted in . shows a frame structure in which the information bits within the frame are classified as class A class B and class C . The different classes are of different importance. In accordance with the method known in the art all the information bits are protected by a single CRC . The frame also contains tail bits . The tail bits do not carry any information and are all zeros. The tail bits are used to initialize an encoder not shown for the next frame. However if the CRC integrity check fails all the information bits regardless of their importance are unrecoverable.

The above description uses a wireless communication system as a particular example of a frame with bits of different importance. One skilled in the art will appreciate that this is for explanatory purposes only because the problem of recovery of particular bits of an erased frame is inherent in any communication system.

Because it may be desirable to recover the relatively more important block or blocks of bits from an erased frame there exists a need in the art for an integrity check mechanism allowing recovery of the block or blocks of bits from an erased frame.

The present invention is directed to a novel method and apparatus for recovery of particular bits of a received frame in a communication system.

Accordingly at the origination station a frame of data is formed first by determining an outer quality metric in accordance with a plurality of information bits. Then at least one inner quality metric is determined in accordance with a group of information bits. The frame comprising at least the plurality of information bits the outer quality metric and the at least one inner quality metric is transmitted to the destination station.

The destination station first attempts to recover the at least one group of information bits when the outer quality metric indicates that the frame has been received correctly. When the frame has not been received correctly the at least one group of information bits can still be recovered. The recovery is possible when the inner quality metric corresponding to the at least one group of information bits indicates that the at least one group of information bits in the frame has been received correctly.

At step information bits to form a frame are received. In one embodiment of the invention the information bits are produced by an AMR speech coder. Control flow then proceeds to step .

At step an outer quality metric is determined in accordance with all the information bits. In one embodiment the quality metric is a CRC. Control flow then proceeds to step .

At step an inner quality metric is determined. As explained a certain group or groups of bits of the information bits in a frame may be considered of higher importance warranting further protection. Therefore an additional inner quality metric is determined in accordance with the information bits of each such group. In one embodiment the inner quality metric is a CRC. In one embodiment using the information bits produced by an AMR speech coder one inner CRC protecting one group of bits class A is used. Control flow then proceeds to step .

At step the frame comprising the information bits the inner quality metric the outer quality metric s and tail bits is formed. In one embodiment the information bits produced by an AMR speech coder are used resulting in the frame structure shown in . Control flow then proceeds to step .

At step the frame is conveyed from an origination station not shown to a destination station not shown . Step includes any processing of the frame antecedent to the conveyance. One skilled in the art will appreciate that the processing depends on many variables. Such variables include but are not limited to the transmission media i.e. wireless or wire like modulation i.e. code division frequency division time division and other variables known to one skilled in the art. Because the present invention can be used independently of such variables the processing is not discussed further. In one embodiment accommodating the AMR speech coder data rates in IS 2000 MC the processing is performed in accordance with IS 2000 MC. Control flow then proceeds to step .

At step the frame is received at the destination station not shown . Step includes any processing of the frame antecedent to decoding. In one embodiment accommodating the AMR speech coder data rates in IS 2000 MC the processing is performed in accordance with IS 2000 MC. Control flow then proceeds to step .

At step the frame is decoded. As used in step the term decoded describes the process of receiving an encoded frame and outputting a signal indicating whether the frame has been correctly received or the frame is erased. The outer quality metric is used in step . In one embodiment a decoder not shown has no information about the rate at which the frame was transmitted by the origination station not shown . Therefore the decoder must also determine at which of several rates the frame has been transmitted by the origination station. A detailed example of such a decoder is disclosed in U.S. Pat. No. 5 751 725 entitled METHOD AND APPARATUS FOR DETERMINING THE RATE OF RECEIVED DATA IN A VARIABLE RATE COMMUNICATION SYSTEM assigned to the assignee of the present invention and incorporated herein by reference. A simplified description of an exemplary decoding process in accordance with U.S. Pat. No. 5 751 725 is provided in reference to . One skilled in the art will appreciate that the description is meant for explanatory purposes only and any other structure capable of the function described can be utilized. In another embodiment the decoder has information about the rate at which the frame was transmitted by the origination station. Control flow then proceeds to step .

At step the decision of further processing of the frame is made based on a signal indicating whether the frame has been correctly received or erased. If the frame is declared correctly received the control flow continues in step . Otherwise the control flow continues in step .

At step the frame is processed in accordance with the intended application of the frame because all the information bits in the frame has been correctly received. In one embodiment accommodating the AMR speech coder data rates in IS 2000 MC the processing is performed by a Multiplex Sublayer in accordance with IS 2000 MC. Control flow then proceeds to step .

At step a determination whether a frame contains an inner quality metric is performed. In one embodiment the determination is performed in accordance with a hypothesis of data rate because the protocol governing frame formation determines what data rates contain inner quality metric. In another embodiment the frame may contain overhead bits indicating whether the frame contains inner quality metric or not. If the frame does not contain an inner metric the control flow continues in step . Otherwise the flow continues in step .

At step the frame is processed again with respect to integrity of the group or groups of bits of the frame protected by a corresponding inner quality metric. One embodiment of integrity determination is discussed in detail with reference to . Control flow then proceeds to step .

At step the result of integrity determination is tested. If the inner quality metric indicates that integrity of the group of bits is intact the flow continues in step . Otherwise the flow continues in step .

At step the group of bits is processed in accordance with the intended function. An example of such processing is passing the group of bits to an AMR vocoder not shown .

Although the particular embodiment of a frame structure is described as having only one group of bits class A protected by an inner CRC one skilled in the art will understand that the method can be extended to any number of groups. Thus if an additional protection of class B bits were desired an additional inner CRC not shown protecting the class B bits would be added to the frame structure .

One skilled in the art will appreciate that there are numerous circuit structures that can form the frame structure . Such a circuit structure may be e.g. a general purpose processor a digital signal processor a programmable logic array or any other device designed to perform the functions described herein that is known to one skilled in the art. Furthermore the processor may receive a set of instructions from a memory coupled to the processor. The memory may be a part of the above mentioned processor or processors or be a separate element. The implementation of the memory is a design choice. Thus the memory can be any medium capable of storing information e.g. a magnetic disk a semiconductor integrated circuit and other storage media known to one skilled in the art.

A frame outputted by a demodulator is provided to a multi rate decoder which provides error correction on the frame. The decoder decodes the data based on a predetermined set of rate hypotheses. In an exemplary embodiment the decoder is a multi rate Viterbi decoder disclosed in U.S. Pat. No. 5 710 784 entitled MULTIRATE SERIAL VITERBI DECODER FOR CDMA SYSTEM APPLICATIONS assigned to the assignee of the present invention and incorporated herein by reference.

In an exemplary embodiment the decoder decodes the frame symbols for each of the possible rates to provide separately decoded frames of data and stores the decoded frames in buffers . Although only four data rates are shown one skilled in the art will appreciate that the concept is equally applicable to any number of data rates. Outputs of each data buffer are provided to Rate Detection Algorithm RDA logic .

The RDA logic contains a CRC detector . The CRC detector determines whether the CRC received in the frame matches the CRC determined from each of the decoded frames of data. The CRC detector performs a CRC check for the CRC bits in the four decoded frames to help determine whether the currently received frame was transmitted at the full half quarter or eighth rates. The CRC detector provides four check bits C C C and C corresponding to the possible rates.

In addition in one embodiment the RDA logic contains a symbol error rate SER detector . The SER detector receives the decoded bits . The SER detector also receives an estimate of the received symbol data from the buffers . The SER detector re encodes the decoded bits and compares them to the estimate of the received symbol data from the buffers . The SER is a count of the number of discrepancies between the re encoded symbol data and the received symbol data from the buffers . Therefore the SER detector generates four SER values SER SER SER and SER. The SER values of different frame rates are normalized to account for the difference in the number of symbols per frame. The SER values help provide a determination of the rate of the current frame and integrity of the frame in addition to the CRC bits.

Furthermore in one embodiment the RDA logic contains a Yamamoto metric detector which provides a confidence metric in accordance with the difference between the selected path through a trellis and the next closest path through the trellis. While the CRC check is dependent on the bits in each of the four decoded frames the Yamamoto check is dependent on the frame processing antecedent to decoding. The Yamamoto detector provides four Yamamoto values for each of the four possible rates Y Y Y and Y.

The RDA logic receives the CRC check bits SER values and Yamamoto values from the detectors respectively. The RDA logic then determines at which of the four rates the currently received frame was sent. In accordance with the rate determined by the RDA logic a signal is provided to the decoded frame buffers . A particular frame buffer outputs the stored frame decoded at the determined rate for further processing or outputs no frame if an erasure is declared. In an alternate embodiment the RDA logic outputs a signal indicative of a frame erasure if an erasure is declared.

When the RDA logic declares a frame erasure the contents of those frame buffers that contain a frame with an inner quality metric is provided to an Inner Quality Metric Processor IQMP . In one embodiment the function of the IQMP is similar to the function of the RDA logic i.e. receiving decoded frames of data at the possible rates that contain a frame with an inner quality metric and outputting a signal indicating whether the groups of bits protected by the inner quality metric are intact. In one embodiment the IQMP has no information about the rate at which the frame was transmitted by the origination station not shown . Therefore the IQMP must also determine at which of the several rates the frame has been transmitted by the origination station. Consequently the structure of the IQMP may advantageously be similar to the RDA logic . Thus in one embodiment the IQMP contains a CRC detector an SER detector and a Yamamoto metric detector functioning in substantially similar manner as the CRC detector the SER detector and the Yamamoto metric detector . The CRC detector the SER detector and the Yamamoto metric detector operate only on the group of bits of the frame that is protected by the inner quality metric.

The IQMP receives the CRC check bits SER values and Yamamoto values from the detectors and respectively. The IQMP then determines at which of the rates containing an inner quality metric was the currently received frame sent. In accordance with the rate determined by the IQMP the group of bits decoded at the determined rate is outputted for further processing. Alternatively the frame is discarded if the IQMP fails to determine the rate.

Though the decoder the RDA logic and the IQMP are shown as separate elements one skilled in the art will appreciate that the physical distinction is made for explanatory purposes only. The decoder the RDA logic and the IQMP may be incorporated into single processor accomplishing the above mentioned processing. Thus such a processor may be e.g. a general purpose processor a digital signal processor a programmable logic array or any other device designed to perform the functions described herein that is known to one skilled in the art. Furthermore the processor may receive a set of instructions from a memory coupled to the processor. The memory may be a part of the above mentioned processor or processors or be a separate element. The implementation of the memory is a design choice. Thus the memory can be any medium capable of storing information e.g. a magnetic disk a semiconductor integrated circuit or any other storage media known to one skilled in the art.

The previous description of the preferred embodiments is provided to enable any person skilled in the art to make or use the present invention. The various modifications to these embodiments will be readily apparent to those skilled in the art and the generic principles defined herein may be applied to other embodiments without the use of the inventive faculty. Thus the present invention is not intended to be limited to the embodiments shown herein but is to be accorded the widest scope consistent with the principles and novel features disclosed herein.


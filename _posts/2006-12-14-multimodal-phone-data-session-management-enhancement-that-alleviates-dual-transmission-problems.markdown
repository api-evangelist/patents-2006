---

title: Multimodal phone data session management enhancement that alleviates dual transmission problems
abstract: One aspect of the present invention can include a dual transmit mobile communication device that includes multiple modems, a modem controller, and a data session manager. The modem controller can programmatically control the modems. The data session manager can manage data sessions of the mobile communication device. The data session manager can programmatically interact with the software modem controller to ensure that only one of the modems is transmitting at any one time. States of data communication sessions can be automatically adjusted as necessary. For example, the modem controller can block transmissions over a data traffic channel in order to use a modem other than one associated with the data traffic channel, such as using a modem to handle a dispatch session. The data session manager can preserve state information of blocked data sessions, so that the sessions can be resumed when a modem is available.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08744519&OS=08744519&RS=08744519
owner: Motorola Mobility LLC
number: 08744519
owner_city: Chicago
owner_country: US
publication_date: 20061214
---
The present invention relates to mobile phone handset software and more particularly to preventing simultaneous data and voice channel transmissions in dual channel mobile phones.

Creation of dual modem devices and other technological advances have made it possible for mobile communication devices to utilize more than one transmission channel or mode such as a data channel a dispatch channel and or a voice channel. These devices are often referred to as dual mode or multi mode devices which for simplicity are referred to generically hereafter as dual mode devices. Dual mode devices can face a scenario in which one communication channel is active and a different channel wants to come into service. Even short periods of simultaneous dual transmissions can be disallowed for some dual mode device implementations. For example Federal Communication Commission FCC guidelines such as Specific Absorption Rate SAR requirements can be violated when a mobile device transmits over more than one channel at a time. Antenna diversity software firmware infrastructure service agreements and other considerations can also limit a mobile device to a single active communication channel at a time.

Simplistic solutions that would completely disable active software or active processes associated with a first channel when switching to a second channel are disadvantageous due to a loss of system state information. That is an abrupt disconnect between different transmission modes results in a poor user experience. What would be more beneficial yet which is currently not possible is to gracefully switch back and forth between different transmission channels in a fashion where network registration information and system state information are maintained. To illustrate with an example a user can be engaged in a data channel operation i.e. Web browsing can interrupt this channel to send receive a dispatch message over a dispatch channel and then can re engage the data channel at original point same logical point that was previously being utilized i.e. can continue browsing the original Web page at the original point .

In dual mode devices conventional handset software that controls communication sessions and the software that controls transceiving tasks are different software modules. These modules are currently not synchronized at all times making conventional handset software unsuitable for preventing simultaneous transmission. Another means to prevent simultaneous transmissions while maintaining system state information is to modify network elements. Modifying network elements however requires costly and time consuming deployments. Further it could hamper or constrain future mobile telephony growth areas such as implementations for redundant networking capabilities.

A solution that utilizes software firmware in a handset of a dual mode mobile communication device to avoid dual transmit states. More specifically a data session manager can detect and control data sessions to avoid simultaneous data session based transmissions and voice dispatch session based transmissions. The solution can establish at least three different states for data communication sessions which include an active state a dormant state and a disconnected state. Dispatch and voice sessions can have two states an active state and a disconnected state. In a dormant state system and network connectivity can be maintained while transmissions can be disabled. The data session manager can shift an active data session to a dormant state immediately before permitting a dispatch call where the handset can establish a dispatch session. After the dispatch call has been ended the dispatch session can be stopped and the original data session can be toggled from the dormant state to an active state.

In one embodiment the data session manager can prevent simultaneous transmissions by interacting with a main handset modem controller. To elaborate the data session manager can notify the main handset modem controller before acquiring any data traffic. This enables the modem controller to fulfill any requirements relating to blocking data sessions when other services are active e.g. no data sessions are permitted when dispatch services are active . The data session manager can also be configured to terminate a data session when so requested by the modem controller. The data session manager can notify the modem controller whenever a data traffic channel changes its state which permits the other modems to be blocked whenever a data channel is being used. In one configuration the solution can establish one or more special states related to data transmissions such as dedicated data transmission mode which disables interconnect and or dispatch calls and a disabled data transmission mode where data transmissions are not permitted.

The present invention can be implemented in accordance with numerous aspects consistent with the material presented herein. For example one aspect of the present invention can include a dual transmit mobile communication device that includes multiple modems a modem controller and a data session manager. The modem controller can programmatically control the modems. The data session manager can manage data sessions of the mobile communication device. The data session manager can programmatically interact with the software modem controller to ensure that only one of the modems is transmitting at any one time. States of data communication sessions can be automatically adjusted as necessary. For example the modem controller can block transmissions over a data traffic channel in order to use a modem other than one associated with the data traffic channel such as using a modem to handle a dispatch session. The data session manager can preserve state information of blocked data sessions so that the sessions can be resumed when a modem is available.

Another aspect of the invention can include a method for preventing dual transmissions from concurrently occurring within a dual transmit capable mobile communication device. The method can include a step of identifying a modem controller that programmatically controls more than one modem. A data session manager can interact with the modem controller before performing any activity changing an activation state of a data traffic channel. For example before a data traffic channel is acquired the modem controller can be queried to determine if a modem for the data traffic channel is available. The modem controller can prevent the data session manager from activating a data traffic channel whenever a modem other than the modem needed for the data traffic channel is active.

Still another aspect of the invention can include another method for preventing a mobile communication device from performing concurrent dual transmissions. A data transmission channel can be associated with a first modem. An active data session can be established over the data transmission channel. An event can be detected for establishing a communication channel associated with a second modem. The first modem can be blocked so that transmissions over the data transmission channel are prevented. The data session can be changed from an active state to a dormant state. After the blocking step occurs the communication channel can be established and the second modem can be enabled to permit transmissions over the second communication channel.

It should be noted that various aspects of the invention can be implemented as a program for controlling computing equipment to implement the functions described herein or a program for enabling computing equipment to perform processes corresponding to the steps disclosed herein. This program may be provided by storing the program in a magnetic disk an optical disk a semiconductor memory or any other recording medium. The program can also be provided as a digitally encoded signal conveyed via a carrier wave. The described program can be a single program or can be implemented as multiple subprograms each of which interact within a single computing device or interact in a distributed fashion across a network space.

The method detailed herein can also be a method performed at least in part by a service agent and or a machine manipulated by a service agent in response to a service request.

System can include a mobile communication device having hardware that enables the device to communicate over more than one communication channel. For example the hardware can permit the device to communicate using a voice or interconnect channel a dispatch channel and or a data channel. The hardware can be capable of simultaneous transmissions over more than one of the communication channels which could be a disfavored hardware capability for numerous reasons. For example simultaneous transmissions could result in the device violating Specific Absorption Rate SAR requirements and or violating a contractual agreement between a device manufacturer and a service provider. In another example the software firmware infrastructure of the device can be designed to handle a single active communication session at a time and concurrent sessions can result in unpredictable behavior.

The device software firmware can be designed to prevent the device from concurrently transmitting over more than one communication channel. More specially the software can ensure that only one communication channel is in an active transmission state at a time. Voice channels dispatch channels and data channels can each be placed in an active or disconnected state while data channels can also be placed in a dormant state.

In an active state transceiving resources of the mobile device can be allocated to the associated communication channel and connectivity information in a link layer can be maintained for the device and a remote device communicating over the channel. In a dormant state transceiving resources for the device can be deallocated to the associated communication channel but connectivity information in a link layer can be maintained. Communication session state information can also be maintained while in a dormant state. When in a disconnected state a link layer connection can be closed and no transceiving resources can be consumed for an associated channel.

Session state illustration provides an example where the software controls transmission states of the device . The device can begin in device state where a voice channel has a disconnected channel state a dispatch channel is in a disconnected state and a data channel is in an active state. Event can occur where an incoming dispatch communication is detected. Assuming the dispatch has higher priority than the data channel communication which can be a configured by a user of device Event results in the device changing to device state where the previously active data channel is placed in a dormant state and the dispatch channel is placed in an active state. Event can then occur where no active traffic can be conveyed over the dispatch channel for a previously determined duration. This can result in device state where the dispatch channel is placed in a disconnected state and the data channel is returned to an active state from the dormant state. Activities of the data channel which were temporarily interrupted due to the dormant state transition can automatically resume. New dispatch messages can result in the data channel being placed in a dormant state and the dispatch being placed in the active state so that the dispatch messages can be sent received. In one embodiment a time out period can be established wherein when no channel activities occur before the time out period is reached the dormant channel can automatically be changed to a disconnected state.

As shown mobile communication device can be any dual mode communication device capable of communicating over more than one different type of communication channel. For example device can be mobile telephone a notebook computer a tablet computer a wearable computer an embedded computer a mobile email appliance a media player an entertainment system and the like.

Device can be a mobile communication device similar to device or can be a fixed device. For example device can include customer premise equipment CPE such as a telephone. Device can also be a desktop computer a Web server an automated interactive response system IRV and the like.

The device hardware can include one or more transceiver and at least one modem . The transceiver can be a wireless transceiver that permits digital content to be exchanged between device and device . Different transceivers can be included for communication over different channels. For example one transceiver can be a wide area network WAN transceiver for mobile telephony and data communications and another can be a personal area network PAN transceiver for BLUETOOTH WIFI and other PAN communications. One or more modems can be used to physically support simultaneous services such as data and dispatch. Device hardware can also include a data store which can store device software data communication state information and the like.

The device software can include a modem controller a data session manager and an antenna configuration manager . The antenna configuration manager can perform antenna adjustments needed as different communication channels and transceivers are utilized. The data session manager can manage data channels and communication channels involving data channels. The modem controller can manage which of multiple modems or modem states are active. The data session manager and the modem controller interact with each other to prevent concurrent or simultaneous transmissions as described herein.

Network can include any hardware software and firmware necessary to convey digital content encoded within carrier waves. Content can be contained within analog or digital signals and conveyed through data or voice channels and can be conveyed over a personal area network PAN or a wide area network WAN . The network can include local components and data pathways necessary for communications to be exchanged among computing device components and between integrated device components and peripheral devices. The network can also include network equipment such as routers data lines hubs and intermediary servers which together form a packet based network such as the Internet or an intranet. The network can further include circuit based communication components and mobile communication components such as telephony switches modems cellular communication towers and the like. The network can include line based and or wireless communication pathways.

Data store can be a physical or virtual storage space configured to store digital content. Data store can be physically implemented within any type of hardware including but not limited to a magnetic disk an optical disk a semiconductor memory a digitally encoded plastic memory a holographic memory or any other recording medium. Further data store can be a stand alone storage unit as well as a storage unit formed from a plurality of physical devices. Additionally content can be stored within data store in a variety of manners. For example content can be stored within a relational database structure or can be stored within one or more files of a file storage system where each file may or may not be indexed for information searching purposes.

Diagram illustrates how the data session manager ensures that the no data session is placed in an active state while a modem controlled by the modem controller is actively transmitting. In step the data session manager can detect an event for initializing a data traffic channel. The data session manager can notify the modem controller of the event . Upon being notified the modem controller can determine if any current modem activity exists that could prevent a data channel from being opened. For purposes of this determination only one modem is able to be simultaneously active. If no preventative activity exists the modem controller can send an allowance message to the data session manager . Upon receiving the allowance the data session manager can initialize a data traffic channel for the event.

When activity exists to prevent the data channel from being opened diagram can progress to step where a priority of the data traffic channel can be optionally compared against a priority of an existing channel. When the data traffic channel has a lower priority a message can be sent to the data session manager to deny the initialization attempt. In step the data session manager can be unable to initialize the channel due to the denial message . When the data traffic channel has a higher priority the diagram can progress to step . In step activity can be blocked on the currently active channel which disables transmissions over the blocked channel. After the previously active channel is blocked an allowance message can be conveyed to the data session manager . The data session manager can then initiate a data traffic channel which can require use of a modem controlled by modem controller .

Diagram illustrates an interaction where an active data session is selectively switched between an active and a dormant state depending on whether a modem not associated with the active data session is needed to handle transmissions over a different channel. The modem controller can receive a request to activate a modem. The request can come from a component other than the data session manager . For instance a dispatch channel can be initialized by a mobile communication component other than manager . It is assumed for purposes of diagram that the request has a greater priority status than a priority status associated with the active data session. In one embodiment the data session manager can selectively operate in a data dedicated mode where interruptions of an active data session are prevented. No such data dedicated mode is active in diagram .

Responsive to the request a message to shift the data session to a dormant state can be sent to the data session manager . The data session manager can change the previously active data session to a dormant state . After sending message the modem controller can disable a modem used for the data session . Then controller can activate a modem to handle the request.

If a predetermined time period passes where the active modem is inactive the controller can disable that modem and shift the associated communication session to a dormant mode. The data session modem can then be activated . Once active a notification message can be sent to the data session manager which changes the dormant session to an active state . The data session manager can continue in the active state until transmission activity requiring the other modem is detected. At that point steps can be repeated.

It should be appreciated that the presented solution for software controlling a dual mode mobile communication device to prevent a dual transmit state can be adapted to an architecture of any mobile communication device. Adaptions for architectures can include architectures that utilize a single or centralized interface for handling services such as Telephony Application Programming Interface TAPI or DEFINITY Application Program Interface DAPI . The solution is also able to be utilized for architectures not having a single interface point such as the MANHATTAN DATA ARCHITECTURE used in some Motorola mobile telephones.

The present invention may be realized in hardware software or a combination of hardware and software. The present invention may be realized in a centralized fashion in one computer system or in a distributed fashion where different elements are spread across several interconnected computer systems. Any kind of computer system or other apparatus adapted for carrying out the methods described herein is suited. A typical combination of hardware and software may be a general purpose computer system with a computer program that when being loaded and executed controls the computer system such that it carries out the methods described herein.

The present invention also may be embedded in a computer program product which comprises all the features enabling the implementation of the methods described herein and which when loaded in a computer system is able to carry out these methods. Computer program in the present context means nay expression in any language code or notation of a set of instructions intended to cause a system having an information processing capability to perform a particular function either directly or after either or both of the following a conversion to another language code or notation b reproduction in a different material form.

This invention may be embodied in other forms without departing from the spirit or essential attributes thereof. Accordingly reference should be made to the following claims rather than to the foregoing specification as indicating the scope of the invention.


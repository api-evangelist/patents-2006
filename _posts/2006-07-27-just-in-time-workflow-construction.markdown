---

title: Just in time workflow construction
abstract: Methods, systems, and apparatus, including computer program products for handling a workflow within an electronic document. Participants are chosen for the workflow and the activities are assigned to the workflow participants. Workflow information is obtained from an electronic document, where the workflow information pertains to activities assigned to a user. The user can consult on or delegate the assigned activities, in which case the electronic document is sent to the consultant or delegate. Alternatively the user can reassign future activities. If it is detected that the workflow has been completed, the user can indicate the continuing of the workflow by identifying additional workflow participants, and the electronic document is sent to one of the additional workflow participants.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08332253&OS=08332253&RS=08332253
owner: Adobe Systems Incorporated
number: 08332253
owner_city: San Jose
owner_country: US
publication_date: 20060727
---
Routing documents within a company is a part of everyday business processes whether the documents are substantive like engineering drawings or administrative like requests for paid time off or requests for office supplies. Historically documents were all routed on paper. Companies can save money and increase productivity by routing documents electronically using a centralized workflow server rather than on paper. This eliminates the need for error prone and expensive manual data entry of paper forms by supporting the automatic transfer of data into database systems. Users can track the progress of electronic documents ensuring that the documents cannot be lost and can set up non linear workflows ensuring that the documents cannot be mislaid when employees retire or go on vacation. Centralized workflow servers are ideal for large companies desiring to improve efficiency. However the servers may be expensive and can require some expertise to set up and operate which can put automated workflow out of reach of small companies.

In general one aspect of the subject matter described in this specification can be embodied in a method that includes receiving user input to initiate a workflow with an electronic document. User input is received to choose one or more activities for the workflow wherein each of the one or more activities is of a kind that can be performed on the electronic document. User input is received to choose one or more workflow participants. User input is received to assign the activities to the workflow participants. A schedule of the assigned activities and the workflow participants is incorporated into the electronic document. Other embodiments of this aspect feature corresponding systems and computer program products.

These and other embodiments can optionally include one or more of the following features. A workflow is reused from an archived electronic document. Confirmation is received from the user to automatically reuse the workflow from the archived electronic document if the electronic document is similar to the archived electronic document.

In general another aspect of the subject matter described in this specification can be embodied in a method that includes receiving directly or indirectly an electronic document from an initiating workflow participant. Workflow information is obtained from the electronic document the workflow information pertaining to at least one activity assigned to a user. User input is received specifying to consult on or delegate the assigned activity. The workflow information is updated to indicate that the assigned activity was consulted on or delegated. If the user input indicates consulting on the assigned activity user input is received to identify a consultant the electronic document is sent to the consultant and a second version of the electronic document is received from the consultant wherein the second version reflects that the assigned activity has been performed. If the user input indicates delegating the assigned activity user input is received to identify a delegate and the electronic document is sent to the delegate. Other embodiments of this aspect feature corresponding systems and computer program products.

These and other embodiments can optionally include one or more of the following features. The workflow information is participant declarations and activity declarations stored as embedded routing metadata in the electronic document. The workflow information is presented to the user. At least one workflow participant is an initially unbound role and the role is subsequently bound to a computer program workflow participant or a non computer program workflow participant whereby all instances of that role in the electronic workflow are assigned to the same computer program or human. After the electronic document is sent a status notification is transmitted that the electronic document has been sent and to whom to at least one of a local area network server an application service provider or peers in a network.

In general another aspect of the subject matter described in this specification can be embodied in a method that includes receiving directly or indirectly an electronic document from an initiating workflow participant. Workflow information is obtained from an electronic document the workflow information pertaining to one or more activities assigned to one or more workflow participants. User input is received to reassign one of the assigned activities to a different workflow participant. Workflow information is written to the electronic document indicating that the user reassigned an activity. Other embodiments of this aspect feature corresponding systems and computer program products.

In general another aspect of the subject matter described in this specification can be embodied in a method that includes receiving directly or indirectly an electronic document from an initiating workflow participant. Workflow information is obtained from the electronic document the workflow information pertaining to one or more activities assigned to a user. It is detected that the one or more assigned activities have been completed. The workflow information is updated to indicate that the one or more assigned activities have been performed. User input is received indicating ending a workflow or continuing the workflow. If the user input indicates ending the workflow the electronic document is sent to the initiating workflow participant. If the user input indicates continuing the workflow user input is received to identify one or more additional workflow participants and sending the electronic document to at least one of the additional workflow participants. Other embodiments of this aspect feature corresponding systems and computer program products.

These and other embodiments can optionally include one or more of the following features. The workflow information is participant declarations and activity declarations stored as embedded routing metadata in the electronic document. The workflow information is presented to the user. The user is a past workflow participant. At least one of the past workflow participants is one or more executing computer programs and at least one computer program is operable to integrate information from the electronic document into a database. The electronic document is a form at least one of the assigned activities is accepting data for the form and performing the assigned activities comprises accepting data for the form. At least one of the assigned activities is attaching a second electronic document and performing the assigned activities comprises attaching the second electronic document. At least one of the assigned activities is receiving user input indicating approval of the electronic document and performing the assigned activities comprises receiving user input indicating approval of the electronic document. At least one of the assigned activities is receiving user input comprising comments on the electronic document and performing the assigned activities comprises receiving user input comprising comments on the electronic document. The additional workflow participants are identified by one or more corresponding e mail addresses.

Particular embodiments of the invention can be implemented to realize one or more of the following advantages. Users can send electronic documents to each other without the expertise which may be required to configure and operate a centralized workflow server. Users can send the electronic documents to outsiders without needing to configure a server to recognize the outsiders. An e mail address can be enough to identify a user. No network connection is required to route electronic documents as the electronic documents can be transported on portable media. Roles can be assigned to users to minimize redundancy in identifying users. Workflows need not be predefined by the initiating user and can be created on an ad hoc basis by other users in the workflow. Workflows can be reused automatically from older similar electronic documents. Workflow information can be self contained as metadata inside an electronic document.

The details of one or more embodiments of the invention are set forth in the accompanying drawings and the description below. Other features aspects and advantages of the invention will become apparent from the description the drawings and the claims.

In this example User One wishes to send an electronic document to User Two and User Three. User One adds workflow information to the electronic document . The workflow information includes a schedule of users who will receive the electronic document as well as users who have already handled the document. The workflow information indicates that User One is initiating the workflow and then User Two will receive the document and then User Three will receive the document. This is an example of how the workflow information can be represented in XML 

The workflow information can be represented visually as a representation of a paper routing slip which is referred to as a virtual routing slip. Using the workflow information the electronic document is sent through a computer network to User Two. For example the electronic document can be routed by sending it through an e mail server to an e mail address indicated in XML formatted routing information such as usertwo adobe.com for User Two. Alternatively the electronic document can be posted on a collaboration server e.g. an Adobe Live Cycle server available from Adobe Systems Incorporated of San Jose Calif. using whatever user identifier the collaboration server uses to deliver electronic documents. The collaboration server could operate by e mail address e.g. usertwo adobe.com or user name e.g. User Two . Other methods of routing the electronic document include posting the electronic document on a web server in which case WebDAV usernames can be used e.g. usertwo adobe.com or sending the electronic document across a peer to peer network in which case e mail addresses e.g. usertwo adobe.com can be used.

When User Two views the electronic document the workflow information indicates that the electronic document already passed through the possession of User One and that User Three is scheduled to receive the electronic document next. If User Three were to receive the electronic document User Three would see in the workflow information that Users One and Two had handled the document. However in this example User Two exercises the power to reassign the participants in the workflow. Rather than routing the electronic document to User Three User Two causes the electronic document to be routed to User Four. User Two updates the routing information and then saves the electronic document to a floppy disk or other portable medium and physically hands the floppy disk to User Four. This is an example of how the updated workflow information can be represented in XML 

Upon opening the electronic document User Four is able to read the workflow information to see that User One and User Two had handled the document and that User Four is now scheduled to have the document. For example User Four can examine the virtual routing slip to see the names of User One User Two and User Four with the names of the first two crossed off.

In this example each workflow participant merely sent the document to another workflow participant. The workflow information could also include instructions to the workflow participants to change the document in some way. These instructions are called assigned activities.

The workflow information could be used to instruct each user to add comments to the document. For example a technical writer may send a draft of a paper to an engineering group to solicit comments. If the writer sends the draft to all the engineers simultaneously all the engineers in the group can review the draft simultaneously. The assigned activity would be reviewing the electronic document.

The workflow information could alternatively be used to instruct each user to approve or reject the document. For example company policy might dictate that several layers of management must approve a purchase order request. The managers in the workflow would then be assigned the activity of approving the electronic document. The initiating workflow participant can either send a preexisting electronic document or fill out a form and send the form. An example of XML including assigned activities could be 

The workflow information could be used to instruct users to fill out a form either sequentially or simultaneously. A budget spreadsheet is an example of a document that might be passed around a company department and edited sequentially by workflow participants. Sending the electronic document to the workflow participants sequentially allows each workflow participant to build on the work of the previous participants. Sending the electronic document to all workflow participants simultaneously is useful if the user is seeking a response to the user s own work rather than the work of previous workflow participants. A personal income tax form is an example of a form that might be sent out simultaneously to several users filled out independently and returned to the human resources department of a company. The human resources department could then use software to automatically extract the tax information from the forms and save it to a database or a comma separated variable text file listing the data from each form.

The workflow information could be used to instruct users to attach files to the electronic document for example to attach scanned receipts to a travel reimbursement request. The assigned activity would then be attaching files to the electronic document. In one implementation the aggregate file format disclosed in commonly assigned U.S. patent application Ser. Nos. 11 262 018 and 11 262 138 filed Oct. 28 2005 which are incorporated by reference can be used to attach files to the document. To the user it would appear that the user is adding pages to a preexisting document.

The workflow information could also be used to instruct users to perform a combination of activities. For example a secretary may create a travel reimbursement request which may be sent to the traveler to fill in the dollar amounts then sent to the boss for approval and finally sent to the accounting department for disbursement. The traveler s assigned activity would be filling in a form and the boss s assigned activity would be to approve the electronic document.

The next user interface contains a box to list the workflow participants. The workflow participants include people who will receive the electronic document as well as any computer programs which will process the document automatically. In this example the box lists e mail addresses for three people Theobald Traveler Boris Boss and Bertha Beancounter. This example does not list any computer programs although a computer program could be named by an e mail address. A computer program could extract data from the electronic document and store it into a database such as a database for an accounting or personnel management program. The user interface can contain an address book button to give the user the flexibility of typing e mail addresses into the box or selecting them from an address book . In one implementation all the workflow participants are assigned the same activity which was specified in the first user interface .

In another implementation the same role can be listed several times in a workflow. A role is a placeholder for a workflow participant. At some point during the workflow the role is bound to a workflow participant which means that if the same role occurs again in the same workflow that workflow participant will automatically be sent the electronic document. For example a workflow might be junior engineer senior engineer junior engineer reflecting that the junior engineer will create the electronic document and then edit it in response to the senior engineer s comments. The role ensures that the same junior engineer who wrote the electronic document would later edit it. The role feature is useful when workflows are reused for several electronic documents.

If workflow participants are identified by e mail addresses the user can send the electronic document by e mail. For the convenience of the recipient or recipients the user can specify a subject line and body text for the e mail. The last user interface allows the user to write a subject line and body text for an e mail by providing an e mail subject line field and an e mail body field .

In another implementation workflows can be automatically reused from another electronic document if the electronic document seems similar in content or name. If the workflow information is stored as XML metadata the XML metadata can be copied from the old electronic document into the new electronic document. For example a user may have a travel reimbursement form which the user fills out on a monthly basis then sends to the user s boss for approval. The implementation can detect that the travel reimbursement form has the same name as a previous travel reimbursement form and automatically fill in the user s boss as a workflow participant assigned the activity of approving the form. The electronic document can be routed immediately by sending it through an e mail server posting it on a collaboration server e.g. an Adobe Live Cycle server available from Adobe Systems Incorporated of San Jose Calif. posting it on a web server or sending it across a peer to peer network. The peer to peer network can use operating system services to communicate among peers such as the NetBIOS local networking protocol or the People Near Me peer to peer engine built into the Windows Vista operating system or the peer to peer network can use a library proprietary to a software client for electronically routing documents. Optionally the user can have the option of not routing the electronic document immediately. Instead an Add Routing Slip button can save the workflow information to the user s copy of the electronic document allowing the user to transfer the electronic document manually such as on a portable medium.

The electronic documents that are in progress are those whose workflows have been initiated but have not completed. The document tracker can show the name of each in progress electronic document as well as who the last person to send the electronic document was and who currently holds the electronic document . The document tracker can also display the activity or activities of the workflow participants. The document tracker can maintain this information by communicating with a central server such as an Adobe Live Cycle server a smaller workgroup server a server over the public Internet at an application service provider or peers on a local area network. The document tracker can query one or more servers to learn the status of various documents. In a peer to peer setting it is possible to use broadcast or multicast network packets to inform peers of changes in the status of various documents. Alternatively the peers can self organize into a tree in order to minimize the amount of network traffic. In this example Steve Secretary created a travel reimbursement for Theobald Traveler. After Theobald Traveler handled the electronic document it was sent to Boris Boss.

The document tracker can also show electronic documents that need attention. In this example a needs attention list in the document tracker user interface is presented to participant Boris Boss. The needs attention list has additional information of who initiated the electronic documents . In this example Boris Boss has the electronic document so it appears in his needs attention list .

An archive of older electronic documents can hold electronic documents that have been returned to the initiating user after the other workflow participants have handled the document. For example an employee who submits a form to request paid time off may want the form returned to him both for archival purposes and to know that the request was actually granted. In one implementation the archive of older documents is rapidly searchable through the use of a trie data structure.

The user can perform an activity and confirm with a confirmation button . For example if as illustrated in the assigned activity is filling out a form the user can press the confirmation button to submit the electronic document to the next workflow participant. If the assigned activity is approving a document attaching electronic documents or making comments the user can press the confirmation button to indicate that the user has approved the form or finished attaching files or making comments. The user can press the Take Other Action button if the user does not wish to perform the assigned activity.

An on screen virtual routing slip can list the past and future workflow participants and indicate whether the current user is assigned a present activity. In this example the routing slip indicates that Steve Secretary and Theobald Traveler are past workflow participants because they already handled the electronic document and their names are crossed out. Boris Boss is listed next on the routing slip and so even without the user message it can be inferred that Boris Boss has an assigned activity. Bertha Beancounter and Steve Secretary are future workflow participants because their names appear after Boris Boss s name on the routing slip . It is possible for a workflow participant to be both a past workflow participant and a future workflow participant as Steve Secretary is in this example.

A paperclip icon can indicate that files have been attached to the electronic document . The electronic document can be a form in which case the electronic document can be displayed with previously entered data . In this example the electronic document has attached files and previously entered data . This is because Theobald Traveler already handled the electronic document indicated by the routing slip and his assigned activity was to enter form data see .

In one implementation selecting the Take Other Action button brings up a user interface giving three selection options a button for consulting on the assigned activity a button for delegating the assigned activity and a button for rejecting the assigned activity .

If the user selects consulting on the assigned activity the electronic document is sent to someone else called a consultant and then returned to the user. If the workflow information is saved in the electronic document as XML a consultation by Boris Boss to

If the user selects delegating the assigned activity the electronic document is sent to someone else called a delegate and is not returned to the user. If the workflow information is saved in the electronic document as XML a consultation by Boris Boss to Dweezil Delegate could be represented as follows omitting activities for brevity 

If the user selects rejecting the assigned activity the electronic document is sent back to the previous workflow participant. The rejection can be interpreted either as a substantive rejection or that the workflow participant simply does not want to do the assigned activity. For example if Boris Boss s approval is necessary for Theobald Traveler to be reimbursed Boris Boss s rejection may as a practical matter mean that Theobald will not be reimbursed. But if Boris Boss were the wrong recipient if for example the wrong name were picked out of an address book Theobald could change the workflow to include the correct recipient and resend the electronic document.

The user interface can have a box of future participants and future activities. The user interface can have a button for changing the participant assigned to do a particular activity and a button for changing the activity assigned to a participant . The user interface can have a button to add a new participant and an assigned activity such as by displaying to the user the user interface see . The user interface can have a button to remove a participant and the assigned activity . Change order buttons can be used so that workflow participants receive the electronic document in a different order.

In this example Boris Boss used the add participant button to add Rupert Recordkeeper after Bertha Beancounter assigning the activity simply e mail to Rupert. Rupert will be e mailed the electronic document but will not be assigned any activity. Boris Boss also used the change activity button to change Bertha s activity to approving the electronic document.

The user interface allows a user to choose additional workflow participants and activities. The user interface can have a box of additional workflow participants and activities. In this example Rupert Recordkeeper was scheduled to be the last workflow participant. He chose to continue the workflow and then added Agnes Assistant to the workflow assigned the activity of simply being e mailed the electronic document with no further instructions. Rupert can immediately send the electronic document with embedded routing information with a Route Now button or save the routing information to the electronic document to manually send the electronic document later with an Add Routing Slip button . Rupert can also change his mind about continuing the workflow and instead end the workflow with a Cancel button .

The user interface allows a workflow to be constructed on an ad hoc basis. Rather than the initiating user being required to foresee an entire predefined workflow the initiating user can simply supply the names of one or more workflow participants. These workflow participants can continue the workflow by adding even more workflow participants. The continuation of the workflow can occur many times resulting in an ad hoc workflow. This ad hoc workflow after being completed can be reused as a predefined workflow for other electronic documents.

If the user input reflects that the user consulted on the assigned activity the client receives user input to identify another person to be a consultant recipient step sends the electronic document to the consultant recipient step and receives a second version of the electronic document from the consultant recipient step . The second version includes updated workflow information reflecting that the consultant in some way handled the assigned activity.

If the user input reflects that the user rejected the assigned activity the client sends the electronic document back to the workflow participant who most recently handled it step .

If the user input reflects that the user delegated the assigned activity the client receives user input to identify another person to be a delegate recipient step and sends the electronic document to the delegate recipient step .

In one implementation the client can update the workflow information steps after receiving user input to identify the consultant recipient step or delegate recipient step so that the audit trail in the workflow information reflects the identity of the consultant or delegate. See discussion above.

Embodiments of the invention and all of the functional operations described in this specification can be implemented in digital electronic circuitry or in computer software firmware or hardware including the structures disclosed in this specification and their structural equivalents or in combinations of one or more of them. Embodiments of the invention can be implemented as one or more computer program products i.e. one or more modules of computer program instructions encoded on a computer readable medium for execution by or to control the operation of data processing apparatus. The computer readable medium can be a machine readable storage device a machine readable storage substrate a memory device a composition of matter effecting a machine readable propagated signal or a combination of one or more of them. The term data processing apparatus encompasses all apparatus devices and machines for processing data including by way of example a programmable processor a computer or multiple processors or computers. The apparatus can include in addition to hardware code that creates an execution environment for the computer program in question e.g. code that constitutes processor firmware a protocol stack a database management system an operating system or a combination of one or more of them. A propagated signal is an artificially generated signal e.g. a machine generated electrical optical or electromagnetic signal that is generated to encode information for transmission to suitable receiver apparatus.

A computer program also known as a program software software application script or code can be written in any form of programming language including compiled or interpreted languages and it can be deployed in any form including as a stand alone program or as a module component subroutine or other unit suitable for use in a computing environment. A computer program does not necessarily correspond to a file in a file system. A program can be stored in a portion of a file that holds other programs or data e.g. one or more scripts stored in a markup language document in a single file dedicated to the program in question or in multiple coordinated files e.g. files that store one or more modules sub programs or portions of code . A computer program can be deployed to be executed on one computer or on multiple computers that are located at one site or distributed across multiple sites and interconnected by a communication network.

The processes and logic flows described in this specification can be performed by one or more programmable processors executing one or more computer programs to perform functions by operating on input data and generating output. The processes and logic flows can also be performed by and apparatus can also be implemented as special purpose logic circuitry e.g. an FPGA field programmable gate array or an ASIC application specific integrated circuit .

Processors suitable for the execution of a computer program include by way of example both general and special purpose microprocessors and any one or more processors of any kind of digital computer. Generally a processor will receive instructions and data from a read only memory or a random access memory or both. The essential elements of a computer are a processor for performing instructions and one or more memory devices for storing instructions and data. Generally a computer will also include or be operatively coupled to receive data from or transfer data to or both one or more mass storage devices for storing data e.g. magnetic magneto optical disks or optical disks. However a computer need not have such devices. Moreover a computer can be embedded in another device e.g. a mobile telephone a personal digital assistant PDA a mobile audio player a Global Positioning System GPS receiver to name just a few. Computer readable media suitable for storing computer program instructions and data include all forms of non volatile memory media and memory devices including by way of example semiconductor memory devices e.g. EPROM EEPROM and flash memory devices magnetic disks e.g. internal hard disks or removable disks magneto optical disks and CD ROM and DVD ROM disks. The processor and the memory can be supplemented by or incorporated in special purpose logic circuitry.

To provide for interaction with a user embodiments of the invention can be implemented on a computer having a display device e.g. a CRT cathode ray tube or LCD liquid crystal display monitor for displaying information to the user and a keyboard and a pointing device e.g. a mouse or a trackball by which the user can provide input to the computer. Other kinds of devices can be used to provide for interaction with a user as well for example feedback provided to the user can be any form of sensory feedback e.g. visual feedback auditory feedback or tactile feedback and input from the user can be received in any form including acoustic speech or tactile input.

Embodiments of the invention can be implemented in a computing system that includes a back end component e.g. as a data server or that includes a middleware component e.g. an application server or that includes a front end component e.g. a client computer having a graphical user interface or a Web browser through which a user can interact with an implementation of the invention or any combination of one or more such back end middleware or front end components. The components of the system can be interconnected by any form or medium of digital data communication e.g. a communication network. Examples of communication networks include a local area network LAN and a wide area network WAN e.g. the Internet.

The computing system can include clients and servers. A client and server are generally remote from each other and typically interact through a communication network. The relationship of client and server arises by virtue of computer programs running on the respective computers and having a client server relationship to each other.

While this specification contains many specifics these should not be construed as limitations on the scope of the invention or of what may be claimed but rather as descriptions of features specific to particular embodiments of the invention. Certain features that are described in this specification in the context of separate embodiments can also be implemented in combination in a single embodiment. Conversely various features that are described in the context of a single embodiment can also be implemented in multiple embodiments separately or in any suitable subcombination. Moreover although features may be described above as acting in certain combinations and even initially claimed as such one or more features from a claimed combination can in some cases be excised from the combination and the claimed combination may be directed to a subcombination or variation of a subcombination.

Similarly while operations are depicted in the drawings in a particular order this should not be understood as requiring that such operations be performed in the particular order shown or in sequential order or that all illustrated operations be performed to achieve desirable results. In certain circumstances multitasking and parallel processing may be advantageous. Moreover the separation of various system components in the embodiments described above should not be understood as requiring such separation in all embodiments and it should be understood that the described program components and systems can generally be integrated together in a single software product or packaged into multiple software products.

Thus particular embodiments of the invention have been described. Other embodiments are within the scope of the following claims. For example the actions recited in the claims can be performed in a different order and still achieve desirable results.


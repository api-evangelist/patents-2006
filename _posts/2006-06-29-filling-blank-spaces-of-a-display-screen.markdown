---

title: Filling blank spaces of a display screen
abstract: Systems and methods, including methods performed by a processing device, are disclosed herein for filling the unused or blank spaces of a display screen. In one exemplary system, among others, the system comprises a display screen configured to display video images and a display screen controller configured to control the display screen. The display screen controller comprising a device for sampling a plurality of pixels from a stream of video images and a device for calculating an average color of the plurality of sampled pixels. Also, the display screen controller includes a device for adding color bands in unused portions of the display screen, the color bands comprising a color corresponding to the calculated average color. With the present system, the difference between the burn-in pattern of a video image and the unused portions of the display screen is reduced, thereby preserving the integrity of the display screen.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07742059&OS=07742059&RS=07742059
owner: Scientific-Atlanta, LLC
number: 07742059
owner_city: Lawrenceville
owner_country: US
publication_date: 20060629
---
Reference is first made to . In a standard definition SD television set is illustrated having a format for displaying video images with an aspect ratio of 4 3. The aspect ratio is the proportion of the width of a video image with respect to its height. SD broadcast signals conform to the 4 3 format and can be displayed over the entire screen of the traditional SD television set . illustrates a high definition television HDTV set which has an aspect ratio of 16 9 for displaying high definition HD signals also having a 16 9 aspect ratio. With respect to cinematography aspect ratios of 2.39 1 and 1.85 1 are common but do not match the format of the SD television set .

Because of the difference in aspect ratios the SD television set is normally unable to display cinematic movies over the entire screen thereof. Also the HDTV set is normally unable to display SD video images over the entire screen of the HDTV set . When the aspect ratio of a display screen such as the SD television set or HDTV set is different from the video image being displayed certain adjustments are made so that the video images can be easily viewed. For example a control device not shown which controls the video images to be displayed on the display screen may crop a portion of video image so that the image covers the entire screen. Alternatively the control device may fit the video image such that there will remain unused or blank spaces on the screen which is the typical solution to accommodate differences in aspect ratios. In this typical solution black bands are typically added in the unused spaces. In the SD television set of displays a wide screen video image such as a cinematic movie the width of which is bounded by the left and right sides of the screen of the SD television set . Blank spaces and are positioned above and below the video image in a letterbox configuration. In an SD video image is displayed on the HDTV set of . The height of the SD video image is bounded by the top and bottom of the screen of the HDTV set and blank spaces and are positioned to the left and right of the SD video image in a pillarbox configuration.

Typically these blank spaces and are simply configured as black bands filling the empty portions of the screen. However there is a problem that can arise when the unused spaces are filled with black bands. Over extended periods of time the portion of the display screen that includes the images and will experience a burn in effect that is more severe than the unused black portions of the screen. The images and may imprint a burn pattern on the luminophor or phosphor material of the display screen and . Since the black bars and create little or no burn in effect on the unused portions of the screen these portions will not be burned to such an extent thereby resulting in an uneven burn pattern. With an uneven burn pattern unnatural lines or bars might be created on the display screen that may be visible when later images are shown. Also these unequal burn patterns can be permanently imprinted on a display screen and are undesirably distracting to viewers.

One solution to the problem of unequal burning on a display screen has been to color the unused spaces gray. In theory by exposing the unused portions of the screen to a neutral color between the extremes of white or black the gray blocks are intended to burn the unused portions of the screen to a similar extent as the burning where the actual video image is displayed. However the gray color may appear unnatural compared to colorful images and may be distracting to a viewer. Also the illumination of gray may not necessarily burn the unused portions equally with the regular image thereby still creating the undesirable burn lines or bars. Thus a need exists in the field of television to address the aforementioned deficiencies and inadequacies of the conventional systems for filling the unused spaces of a display screen.

Embodiments of the present disclosure provide systems and methods for filling the unused or blank spaces of a display screen. Briefly described in architecture one exemplary embodiment of a system among others can be implemented as follows. The exemplary system comprises a display screen configured to display video images and comprises a display screen controller configured to control the display screen. The display screen controller comprises a module for sampling a plurality of pixels from a stream of video images and a module for calculating an average color of the plurality of sampled pixels. The display screen controller also comprises a module for adding color bands in unused portions of the display screen the color bands comprising a color corresponding to the calculated average color.

Embodiments of the present disclosure can also be viewed as providing methods or processes for filling the unused portions of a display screen. In this regard one embodiment of such a method among others can be broadly summarized by the following. The exemplary method includes determining whether or not the aspect ratio of a stream of video images to be displayed is the same as the aspect ratio of a display screen configured to display the stream of video images. Further the method includes filling blank spaces of the display screen with color bands having a color representing an approximation of a predominant color of at least a portion of the stream of video images when it is determined that the aspect ratio of the stream of video images is not the same as the aspect ratio of the display screen.

Another embodiment of the present disclosure includes a computer readable medium having a computer program for filling the unused portions of a display screen. The computer program in this embodiment comprises logic configured to sample a plurality of pixels from a plurality of frames of video images to be displayed on a display screen. Also the computer program includes logic configured to process the samples to determine a background color representing an approximation of a predominant color of the video images and logic configured to fill unused spaces of the display screen with the determined background color.

Other systems methods features and advantages of the present disclosure will become apparent to one with skill in the art upon examination of the following drawings and detailed description. It is intended that all such additional systems methods features and advantages be included within this description be within the scope of the present disclosure and be protected by the accompanying claims.

The aspect ratio of a display screen such as a television set computer monitor or the like may be different than the actual video image that is intended to be displayed on the display screen. For example standard definition SD television sets are designed to display SD broadcasts having an aspect ratio of 4 3 and high definition television HDTV sets are designed to display HDTV broadcasts having an aspect ratio of 16 9. When the aspect ratio of the video image is different than the display screen black colored bars are usually created to fill the unused spaces of the display screen. A gray color is some times used to fill the unused spaces in an attempt to provide a more equal burn pattern on the portions of the display screen that are outside the boundary of the video image. Gray however appears unnatural compared to an image that may be brightly colored. Also such a gray color may be distracting to a viewer.

The present application discloses systems and methods for filling the unused spaces of a display screen with a color that more closely resembles the actual video image. By taking random samples of the actual video image stream an approximation of a predominant color can be made. Also the intensity or brightness of the colors may also be calculated from the samples. Samples may be taken from pixels randomly selected from various locations of the active video images. From the samples a color and intensity representative of the predominant color can be calculated and this color can be displayed in the unused portions of the display screen. In this way a background color is displayed that more naturally frames the video image. Also by matching an approximation of a predominant color and intensity the burn pattern of the unused portion will be substantially similar to the burn pattern where the actual video image is displayed. In this way distracting burn lines or bars will be reduced thereby better preserving the integrity of the display screen.

In operation the display screen controller receives a video signal stream from another source and or produces video signals internally. From the video signals the display screen controller determines whether or not the video signals are formatted with the same aspect ratio as the display screen . The display screen controller may receive feedback from the display screen to determine the format of the display screen . Alternatively the display screen controller may check a user or system operator setting which may include a default. If the aspect ratios are the same then the video signals are transmitted to the display screen for display. However if the aspect ratio of the video signals is different from the aspect ratio of the display screen the display screen controller is capable of performing a filling process according to the teachings of the present disclosure. The process involves centrally positioning the video images on the display screen and filling the unused portions of the display screen with a certain background color. The display screen controller may utilize a mathematical algorithm to determine the background color. The background color as well as the luminance of the background color is determined in order to closely match the color and luminance of the actual video image. In this way the display screen controller is able to provide video signals that reduce the negative effects of uneven burning on the display screen .

With a portion of a stream of video signals temporarily stored in memory the processor is able to access the video signals in memory . The processor may then alter the signals by performing a filling function for filling the unused or blank spaces of the display screen e.g. television set. The processor as described in more detail with respect to analyzes the video signals in real time and determines a background color to display in the spaces outside the boundary of the regular video images. The processor may alter the existing video signals in memory and or add video signals for defining the background portion of the display screen. The decoder also includes a digital encoder not shown having the capability of retrieving the video signals from the frame buffers of memory and assembling the video information as analog signals. The assembled signals including the regular video images and the background color bands are transmitted to the display screen for display.

The embodiments of the present disclosure for filling unused portions of a display screen can be implemented in hardware software firmware or a combination thereof. In the preferred embodiment s the filling system is implemented in software or firmware that is stored in a memory such as memory and that is executed by a suitable instruction execution system such as processor . If implemented in hardware as in an alternative embodiment the filling system can be implemented with any suitable combination of discrete logic circuits having logic gates for implementing logic functions upon data signals an application specific integrated circuit ASIC having appropriate combinational logic gates a programmable gate array s PGA a field programmable gate array FPGA etc.

In operation the format analyzing module analyzes incoming video signals and determines whether or not the aspect ratio of the video signals is the same as the aspect ratio of the display screen on which the video signals are to be displayed. If the aspect ratios are the same then no additional processing is needed with regard to filling unused space since the video signal will fit normally within the boundaries of the display screen. However if the aspect ratios are not the same then the processor will proceed with the operations described herein to fill the unused spaces. When it is determined that the aspect ratios are different the format analyzing module instructs the memory interface to access the video signals from the frame buffers in memory . The format analyzing module may also send a similar signal to the sampling module .

In response thereto the memory interface or sampling module retrieves the video signals. The sampling module may instruct the memory interface to select a random sample of the video signals stored in memory or the memory interface may be configured to automatically sample the signals randomly. In either case the random sample of pixels of the video signals are passed along to the sampling module where they may be temporarily stored in a first in first out FIFO storage device not shown . The memory interface and sampling module may be configured to sample any number of signals at any sampling rate to acquire a suitable sample for accurately representing the signals. For example according to one embodiment the sampling module may be configured to sample and store as little as 100 or fewer samples or as much as 10 000 or more samples depending on the available memory allocated for the samples among other features. With respect to sampling rate samples may be taken from every frame of the video signals stored in memory from as few or fewer than a couple frames per second or from any reasonable number of frames per second for example. Thus the sampling module may be configured in any suitable manner to obtain an adequate sample of random pixel data during the course of a video presentation. Therefore the actual sampling size and rate can be arbitrary and the design of the sampling module may be changed according to other design factors.

Also samples may be taken from any location within the boundary of the video image. Preferably samples will be taken from anywhere on the video images. However samples may be taken only at the periphery of the image since the periphery may more closely represent the actual background color of the image. Also samples may be taken from a central location of the image which may represent the foreground color. Furthermore the choice of where the samples are taken may be presented as an option for the user to select.

The samples obtained by the sampling module may contain certain information about each particular pixel or this information may be extracted from the samples by the calculating module . For example the calculating module utilizes the luminance or luma information and chrominance or chroma information from the samples. The luma is the brightness of the light and the chroma is the color of the light. Luma is typically expressed as a single value and chroma is expressed with respect to the red R green G and blue B components of the color. The calculating module may use some or all of these values among others to determine color and brightness that represent a predominant color and brightness of the actual video image. This process is performed in real time using current and recently past samples for determining a representative color and brightness for the present video. As time progresses older samples are replaced by newer samples and updated calculations are made. In this respect the predominant color will likely change regularly as the video changes.

The calculating module may use any suitable mathematical algorithms to determine a representative color and or brightness. For example the calculating module may calculate the average R component average G component and average B component from the samples. From the averages the calculating module may combine the averages to create the representative color. Alternatively the calculating module may calculate the representative color based on a color that is most frequently used in the particular stream of video images or based on a median color range. In addition the calculating module may utilize a method of least squares and may disregard or minimize a weighting factor of samples that exceed a certain standard deviation with respect to a norm. In this way significantly different colors or brightness values can be eliminated to avoid improper skewing of the averages. Other statistical analysis may be used to calculate a representative color to properly blend in with the actual video images.

The calculating module may continuously perform the above mentioned statistical analysis on the samples directly from the sampling module . The calculating module may also include a temporary storage device such as a FIFO device for storing the calculated representative colors and brightnesses. The transitioning module takes the representative colors and brightnesses calculated continuously by the calculating module and effectively smoothes out the changes that may result from one instant to the next. The transitioning module may also calculate averages of the representative colors and brightnesses over a period of time to provide a less fluctuating background pattern. The transitioning module may essentially perform a sample and hold type function. When the video being displayed contains a substantially constant predominant color the transitioning module may recognize this condition as the same scene with only slight changes in color. In this case the transitioning module may maintain a constant background. However when the video presentation includes a detectable change of scenes from one distinct color pattern to another the transitioning module may respond accordingly. When such a change is detected the transitioning module may create a natural morphing effect from one background color to another. This morphing effect can be spread out over time to eliminate a flashing effect. The transition time may be set to any time period such as an instantaneous change to several seconds if desired. Also the transition time may be a parameter that can be adjusted by the viewer.

When a desired background color and brightness is calculated for each frame or for several sequential frames the transitioning module transmits the color and brightness information to the memory interface . The memory interface changes or adds the background information to the video signals and transmits the updated video signals into the frame buffers in memory . Referring back to the decoder reads the updated video signals from the frame buffers in memory and transmits the signals to the display screen e.g. television set. The display screen displays the regular video images without alteration. However any unused spaces created as a result of different aspect ratios are filled in with the color and brightness representing the calculated predominant color of the regular video. As a result of filling the areas outside the boundaries of the regular video image with the representative color the display device experiences a reduction in the negative effects of uneven burning. In this case the contrast between the regularly illuminated video images and the unused portions of the screen are minimized by utilizing the filling functionality described herein.

The headend communicates with the set top box via the communication network which may include a combination of nodes taps etc. Some of the functionality performed by applications executed in the set top box may instead be performed at the headend and vice versa. The communication interface receives signals video audio and or other data from the headend through the network and provides reverse information to the headend through the network . The processor controls operations of the set top box . The RF output system drives the television and the tuner system tunes into a particular television channel to be displayed and is capable of sending and receiving various types of data or media to from the headend . The tuner system may include in one implementation an out of band tuner for bi directional quadrature phase shift keying QPSK data communication and a quadrature amplitude modulation QAM tuner for receiving television signals.

Additionally the receiver is capable of receiving externally generated information such as user inputs or commands from other devices such as the remote control device or other suitable input device. The user inputs for example may be provided by a computer or transmitter with buttons or keys located either on the exterior of the set top box or a keyboard that includes user actuated buttons. The set top box may also include one or more wireless or wired interfaces also called ports for receiving and or transmitting data to other devices. For instance the set top box may include a Universal Serial Bus USB Ethernet for connection to a computer IEEE 1394 for connection to media devices in an entertainment center serial and or parallel ports.

In one implementation the set top box includes system memory which includes flash memory and dynamic random access memory DRAM for storing various applications modules and data for execution and use by the processor . Basic functionality of the set top box is provided by an operating system that is primarily stored in flash memory. Among other things the operating system includes at least one resource manager that provides an interface to resources of the set top box such as for example computing resources. Software applications may be downloaded from the headend into memory . The applications may be run by the processor for performing any number and type of video related functions. The memory may be configured using flash memory and DRAM as described with respect to .

The navigator application residing in flash memory provides a navigation framework for services provided by the set top box . The navigator registers for and in some cases reserves certain user inputs related to navigational keys such as channel increment decrement last channel favorite channel etc. Client applications may be resident in flash memory or downloaded into DRAM . The navigator also provides users with television related menu options that correspond to set top box functions such as for example providing an interactive program guide blocking a channel or a group of channels from being displayed in a channel menu and displaying a video on demand purchase list.

The flash memory also contains a platform library . The platform library is a collection of utilities useful to applications such as a timer manager a compression manager a configuration manager an HTML parser a database manager a widget toolkit a string manager and other utilities not shown . These utilities are accessed by applications via application programming interfaces APIs as necessary so that each application does not have to contain these utilities. Two components of the platform library that are shown in are a service application manager SAM client and a window manager .

The window manager provides a mechanism for implementing the sharing of the screen regions and user input. The window manager on the set top box is responsible for as directed by one or more applications implementing the creation display and de allocation of the screen resources. It allows multiple applications to share the screen by assigning ownership of screen regions or windows. The window manager also maintains among other things a user input registry in DRAM so that when a user enters a key or a command via the remote control device or other input device the user input registry is accessed to determine which of various applications running on the set top box should receive data corresponding to the input key and in which order. As an application is executed it registers a request to receive certain user input keys or commands. When the user presses a key corresponding to one of the commands on the remote control device the command is received by the receiver and relayed to the processor . The processor dispatches the event to the operating system where it is forwarded to the window manager which ultimately accesses the user input registry and routes data corresponding to the incoming command to the appropriate application.

The SAM client is a client component of a client server pair of components with the server component being located at the headend . The SAM database in DRAM includes a data structure of services and a data structure of channels that are created and updated by the headend . Many services can be defined using the same application component with different parameters. Examples of services include without limitation and in accordance with one implementation presenting television programs available through a WatchTV application pay per view events available through a PPV application digital music not shown media on demand and an interactive program guide. In general the identification of a service includes the identification of an executable application that provides the service along with a set of application dependent parameters that indicate to the application the service to be provided. The SAM client also interfaces with a resource manager not shown to control resources of the set top box .

Application clients can also be downloaded into DRAM at the request of the SAM client typically in response to a request by the user or in response to a message from the headend . In the embodiment shown in DRAM contains the MOD client web browser application and others. It should be clear to one with ordinary skill in the art that these applications are not limiting and merely serve as examples for this present embodiment. Furthermore one or more DRAM based applications may as an alternative embodiment be resident in the flash memory . These applications and others provided by the cable system operator are top level software entities on the network for providing services to the user.

In one implementation applications executing on the set top box work with the navigator by abiding by several guidelines. First an application utilizes the SAM client for the provision activation and suspension of services. Second an application shares set top box resources with other applications and abides by the resource management policies of the SAM client the operating system and the set top box . Third an application handles situations where resources are only available with navigator intervention. Fourth when an application loses service authorization while providing a service the application suspends the service via the SAM the navigator will reactivate an individual service application when it later becomes authorized . Finally an application client is designed to not have access to certain user input keys reserved by the navigator i.e. power channel volume etc. .

The MOD client application provides the user with lists of available media titles to choose from and with video presentations requested by the user. The MOD client application provides video presentations to the user by engaging in some embodiments in a direct two way IP Internet Protocol connection with VOD content servers located at the headend .

Furthermore the flash memory includes background fill application for filling the unused portions of the display screen with a color that blends in with the actual video images. The background fill application operates in accordance with the teachings described in the present disclosure. The background fill application may be downloaded from the headend and updated if necessary.

Each of the above mentioned applications comprises executable instructions for implementing logical functions and can be embodied in any computer readable medium for use by or in connection with an instruction execution system apparatus or device. In the context of this document a computer readable medium can be any means that can contain store communicate propagate or transport the program for use by or in connection with the instruction execution system apparatus or device. The computer readable medium can be for example but not limited to an electronic magnetic optical electromagnetic infrared or semiconductor system apparatus device or propagation medium.

The remote control device may include for example arrow buttons such as an up arrow button a down arrow button a left arrow button and a right arrow button that are used to scroll through options and or to highlight an option. The remote control device may also include a select button that may be used to select a currently highlighted option that is provided to the user.

With respect to altering the color the user may select one of several available colors. In this embodiment the available colors are chameleon black white black white gray black white gray red green and blue. The chameleon color is the default color if no other colors are selected. When the chameleon color is selected or this color is left as the default the background fill application is executed to determine a predominant color of the actual video image and applying or filling a color in the unused portions of the display screen for matching the predominant color.

Otherwise if another color is selected alternative processes may be run. These processes may include altering the methods described herein. For example if black white is selected the calculating module may be configured to simply analyze the brightness factor and disregard the color components. In this case if the intensity of the light is above a certain threshold the background color would be white and if it is below the threshold the background color would be black. Similarly if black white gray is selected the calculating module may analyze only the brightness factor and determine a sliding gray scale color that matches the intensity of the light. If a single color such as black white gray red green or blue is selected the background fill software simply colors the unused portions of the screen the respective selected color. If a choice other that chameleon is selected the GUI shown in as described below may be displayed.

Another choice that the user may select is the rate of color change. This selection allows a user to select how quickly the background color changes over time. In this embodiment the selectable options are fast medium fast medium medium slow and slow. In this example medium is the default. Alternatively a graduated scale having finer control may be used for controlling rate color change. When a rate of color change is selected or altered the transitioning module adjusts how it interprets the samples. For example the transitioning module may utilize a maximum number of samples covering a maximum time period when the slow selection is made and may utilize a minimal number of samples over a minimal time period when the fast selection is made.

With respect to the matching portion option of the GUI the user may select from which portions of the actual video image samples are taken. In this embodiment the user may select the match entire image default match background or match foreground . In this example the term background when presented to the user refers to the colors of the periphery or portions of the actual video image that are likely out of focus. For instance the user may choose the match background option. In this case the color that fills in the unused spaces of the display screen is matched with the background colors of the actual video images. In this respect samples may be taken only at the periphery of the video image. In this same respect samples may alternatively be taken only near the border between the actual video image and the unused portions of the screen. To accomplish a selected adjustment from the default of the matching portion category the memory interface and or sampling module may take pixel samples only from peripheral portions of the video image.

The user may also select the match entire image option which causes the memory interface and or sampling module to sample from the entire video image. This option may be presented as the default option. Alternatively the user may also select the match foreground . In this example the memory interface and or sampling module sample from pixels located closer to the center of the video image.

The process as shown includes determining whether the aspect ratio of an incoming video image is different from the aspect ratio of the display screen on which the video image is to be displayed as depicted in decision block . If the aspect ratios are not different then the process flows back to the decision block for comparing the aspect ratio of video signals at a later time. If the answer of block is affirmative indicating a difference in aspect ratios then flow proceeds to block . In block pixels of the actual video image are sampled. As mentioned with respect to a background filling application samples according to selections may be the user or according to default setting. Also the process can be modified to include any suitable sample size and rate at which samples are taken.

In block a color is calculated for representing the sampled pixels. The representative color may be calculated based on averages of color components or other suitable mathematical algorithms. Calculating the representative color as defined in block also includes calculating a certain portion of the samples based on time constraints. For example a color can be calculated based on a more gradually changing color thereby reducing an effect of flashing from one color to another. Analysis may include averaging the colors over an adjustable period of time. In block the calculated background color is added or applied along the sides of the unused portions of the screen not already occupied by the actual video image. The flow chart proceeds at this point back to block to randomly sample another video frame that might exist later in time. Blocks and are repeated continuously to provide an adequate background color. Alternatively the process may return to decision block to determine whether the aspect ratios are different. The status of aspect ratios may change for instance if a user of a HD television switches from a HD broadcast to a SD broadcast or vice versa.

The flow chart of shows the architecture functionality and operation of a possible implementation of the background fill software . In this regard each block represents a module segment or portion of code which comprises one or more executable instructions for implementing the specified logical functions or steps in the process. It should also be noted that in some alternative implementations the functions noted in the blocks may not occur at all or may occur out of the order noted in . For example two blocks shown in succession in may in fact be executed substantially concurrently to allow for real time processing or the blocks may sometimes be executed in the reverse order depending upon the functionality involved as would be understood by those reasonably skilled in the art of the present disclosure.

Conditional language such as among others can could might or may unless specifically stated otherwise or otherwise understood within the context as used is generally intended to convey that certain embodiments include while other embodiments do not include certain features elements and or steps. Thus such conditional language is not generally intended to imply that features elements and or steps are in any way required for one or more embodiments or that one or more embodiments necessarily include logic for deciding with or without user input or prompting whether these features elements and or steps are included or are to be performed in any particular embodiment.

It should be emphasized that the above described embodiments of the present disclosure particularly any preferred embodiments are merely possible examples of implementations merely set forth for a clear understanding of the principles of the disclosure. Many variations and modifications may be made to the above described embodiment s of the disclosure without departing substantially from the spirit and principles of the disclosure. All such modifications and variations are intended to be included herein within the scope of the present disclosure and protected by the following claims.


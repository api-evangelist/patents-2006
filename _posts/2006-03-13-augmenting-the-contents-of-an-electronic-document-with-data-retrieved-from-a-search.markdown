---

title: Augmenting the contents of an electronic document with data retrieved from a search
abstract: The augmentation of contents of an electronic document with data from a search is described. The augmentation of data includes reading a search criterion from an electronic document, where a portion of the electronic document is comprised of the search criterion, retrieving data that matches the search criterion, and augmenting the contents with the retrieved data.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08135694&OS=08135694&RS=08135694
owner: Adobe Systems Incorporated
number: 08135694
owner_city: San Jose
owner_country: US
publication_date: 20060313
---
The present invention relates generally to software and more particularly to methods and systems for incorporating data into an electronic document.

Currently the contents that comprise an electronic document are manually inputted into the electronic document and the electronic document has limited capability to incorporate external contents stored outside the electronic document. For example mail merge is a typical feature found in many word processing applications that may be used to create electronic documents such as mailing labels and letters. In particular mail merge can be used to produce multiple documents from a single template and information stored externally in a structured data source. To add information associated with the structured data source in a mail merge fields that correspond to the names of columns and or rows associated with the structured data source are placed in the electronic document. The columns and rows of the structured data source contain the requested information. When mail merge is executed the word processing application basically creates an output document by substituting the column and or row names in the electronic document with values from the matching columns and or rows of the structured data source.

In another example data merge is another typical feature found in electronic documents associated with variable data printing. Variable data printing is a type of printing where electronic documents e.g. bills catalogues and mass mailings are created from a combination of a single template and variable information stored in a structured data source. Similar to mail merge to add information associated with the structured data source fields that are placed in the electronic document are substituted with values from the matching fields of the structured data source.

The simple substitution of values into the electronic document limits the incorporation of external content into the electronic document. For example the electronic document can only incorporate data from one specified structured data source. Furthermore the information incorporated into the electronic document cannot be refreshed or reloaded until the user manually runs the mail or data merge functionality. Accordingly the incorporated information displayed on the electronic document may not be current. Another limitation of mail or data merge is that the substituted values and layout of the electronic document are static. In other words the content and layout of the electronic document are fixed. For example the incorporated information and presentation of the electronic document can not be customized to an individual s preferences.

In view of the foregoing there is a need to further improve the incorporation of data into an electronic document.

Various embodiments of the invention may be implemented in numerous ways including as a system a process an apparatus or a series of program or computer instructions on a computer readable medium such as a computer readable storage medium or a computer network where the program instructions are sent over optical or electronic communication links. In general the operations of disclosed processes may be performed in an arbitrary order unless otherwise provided in the claims.

A detailed description of one or more examples is provided below along with accompanying figures. The detailed description is provided in connection with such examples but is not limited to any particular embodiment. The scope is limited only by the claims and numerous alternatives modifications and equivalents are encompassed. Numerous specific details are set forth in the following description in order to provide a thorough understanding. These details are provided for the purpose of example and the described embodiments may be implemented according to the claims without some or all of these specific details. For the purpose of clarity technical material that is known in the technical fields related to the embodiments has not been described in detail to avoid unnecessarily obscuring the description.

The embodiments described herein provide methods and systems for augmenting the contents of an electronic document with data retrieved from a search. In general search criteria stored in an electronic document may be used to retrieve data from external sources i.e. sources outside the electronic document . As explained in more detail below in an embodiment an electronic document processing application may retrieve the data that matches the search criteria by searching for the data on external sources. The content of the electronic document thereafter is augmented with the retrieved data.

Electronic document may have a variety of file formats and the file formats may be identified by data within the electronic document and or by the filename extension. Exemplary file formats that can be associated with electronic document include Adobe Portable Document Format PDF Microsoft DOC format Hypertext Markup Language HTML format Extensible Markup Language XML format Microsoft XLS format Tag Image File Format TIFF and other file formats that can be associated with the electronic document.

Furthermore electronic document or one or more files associated with the electronic document can be configured to store one or more search criteria. In other words the search criteria may be embedded with other contents of electronic document and therefore a portion of the contents may be comprised of one or more search criteria. As explained in more detail below the search criteria are configured for input into an electronic document processing application that is configured to retrieve data that matches the search criteria. A search criterion or search query is not a link. Instead a search criterion may include many alphanumeric characters and symbols that may be searched. For example search criteria can include text keywords query languages sentences numbers phrases questions equations and other suitable search criteria. As used herein it should be noted that the terms search criterion and search query may be used interchangeably.

As shown in electronic document as rendered includes regions and that are configured to display data that match one or more search criteria. The search criteria are stored in one or more files associated with electronic document and the search criteria can be read when the electronic document is opened or accessed. After the search criteria are read as shown in data that match the search criteria are retrieved and rendered in regions and . It should be noted that the process of rendering converts the contents of an electronic document e.g. videos audio alphanumeric text and other contents for output to an output device that presents the contents from a computing device to a user. Exemplary output devices include speakers video displays printers and other output devices. In the exemplary rendered electronic document shown in an image that matches the search criteria is retrieved and rendered in region . Additionally text that match the search criteria are retrieved and rendered in region . Electronic document may include a variety of other contents. For example in addition to the text and images of sounds may be retrieved and rendered on an audio speaker when electronic document is opened.

In some embodiments computer system performs specific operations by processor when executing one or more sequences of one or more program instructions stored in system memory . Such program instructions may be read into system memory from another computer readable medium such as storage device . In some embodiments hard wired circuitry may be used in place of or in combination with software program instructions to implement embodiments of the invention.

It should be appreciated that the term computer readable medium refers to suitable medium that participates in providing program instructions to processor for execution. Such a medium may take many forms including but not limited to non volatile media volatile media and transmission media. Non volatile media may include for example optical or magnetic disks such as storage device . Volatile media may include dynamic memory such as system memory . Transmission media includes coaxial cables copper wire and fiber optics including wires that comprise bus . Transmission media can also take the form of acoustic or light waves such as those generated during radio wave and infrared data communications. Common forms of computer readable media includes for example magnetic mediums e.g. floppy disk flexible disk hard disk magnetic tape and other magnetic mediums optical mediums e.g. compact disc read only memory CD ROM and other optical mediums physical medium with patterns e.g. punch cards paper tape any other physical mediums memory chips or cartridges carrier waves e.g. RAM programmable read only memory PROM erasable programmable read only memory EPROM flash memory and other memory chips or cartridges and any other medium from which a computer can read.

In some embodiments execution of the sequences of program instructions to practice the embodiments may be performed by a single computer system . In other embodiments two or more computer systems such as computer system coupled by communication link e.g. local area network LAN public switched telephone network PSTN wireless network and other communication links may perform the sequence of program instructions to practice the embodiments in coordination with one another. In addition computer system may transmit and receive messages data and instructions including program i.e. application code through communication link and communication interface . Received program instructions may be executed by processor as the program instructions are received and or stored in storage device or other non volatile storage for later execution.

Data retrieval module is configured to read search criteria from an electronic document or one or more files associated with an electronic document and retrieve data that matches the search criteria. As explained in more detail below in an embodiment data retrieval module may retrieve data by searching for and fetching the data that matches the search criteria. In another embodiment data retrieval module may retrieve data by communicating the search criteria to a search application that is configured to search for the data that matches the search criteria.

After data retrieval module retrieves data that matches the search criteria filter module may filter the data based on one or more filtering criteria that may be stored in the electronic document. After filter module filters the data in an embodiment transformation and format module transforms and or formats the data that matches the search criteria for output.

After the search criteria is read or extracted the data that matches the search criteria is retrieved in operation . As explained in more detail below in an embodiment the electronic document processing application may search for and fetch the data that matches the search criteria. In another embodiment the electronic document processing application can communicate the search criteria to a search application that is configured to search for the data that matches the search criteria.

After the search application finds the data the electronic document processing application receives the data from the search application and in operation augments the contents of the electronic document with the retrieved data. The augmentation of the contents can include adding the retrieved data to the original contents of the electronic document. Thus the contents of the electronic document rendered for output may include the original contents and the retrieved data. Augmentation of the contents may also include updating or replacing a portion of the original contents of the electronic document with the retrieved data.

Electronic document processing application may search for data from many data structures or collection of data stored on computer readable media such as computer readable media . Exemplary collection of data that may be searched include databases audio files video files and files associated with electronic documents e.g. image files spreadsheets word processing documents emails and other electronic documents . Furthermore electronic document processing application can be in communication with Internet and it should be appreciated that the Internet is a collection of interconnected computer networks that communicate using one or more protocols e.g. Internet Protocol IP . In addition to the World Wide Web Web that uses Hypertext Transfer Protocol HTTP Internet contains many other protocol sub networks. Exemplary protocol sub networks include email e.g. Simple Mail Transfer Protocol SMTP and Post Office Protocol POP Internet Relay Chat IRC Instant Messaging IM File Transfer Protocol FTP Network News Discussion Groups and other protocol sub networks. Accordingly collection of data associated with Internet also may be searched. In one exemplary embodiment electronic document processing application may search Web pages on Internet for data that matches the search criteria. In another exemplary embodiment electronic document processing application can search on Internet for messages transmitted between instant messaging services for data that matches the search criteria. In still another exemplary embodiment electronic document processing application can search Web feeds from Web sites e.g. Really Simple Syndication RSS feeds for data that matches the search criteria.

Electronic document processing application can use many known search algorithms to search for data that matches the search criteria. The string searching algorithm is an exemplary search algorithm that searches for patterns within strings. Another exemplary search algorithm can use object segmentation and statistical modeling to search for images that match the search criteria. Other exemplary search algorithms include search algorithms that use heuristics to search a search space.

Still referring to in an embodiment after the data that matches the search criteria is found electronic document processing application may fetch the data from one or more sources such as computer systems computer systems associated with LAN Internet and computer system hosting the electronic document processing application. In another embodiment if the data is already cached in computer system hosting electronic document processing application the electronic document processing application may fetch the cached copy of data from the computer system hosting the electronic document processing application rather than refetching the data from the source.

In an embodiment electronic document processing application can retrieve data that matches the search criteria periodically. For example the data can be retrieved or refreshed at regular intervals. In another embodiment electronic document processing application can retrieve the data automatically when the electronic document is opened. In still another embodiment electronic document processing application can automatically retrieve data when the electronic document is opened and also periodically. For example when the electronic document is opened the data may be automatically retrieved. Electronic document processing application therefore retrieves and augments the contents of the electronic document with the most recent data that matches the search criteria when opened. After the electronic document is opened the data may be updated at regular intervals. Electronic document processing application can also retrieve data that matches the search criteria at the request of a user. In an exemplary embodiment electronic document processing application can retrieve data that matches the search criteria in response to a user input. Exemplary user inputs include clicking on a region of a graphical user interface e.g. clicking on a refresh button keyboard inputs and other user inputs.

Search application may be in communication with a computer network which can include LAN and Internet and in communication with computer systems that are directly linked to computer system . As a result search application may search for data that matches the search criteria on the computer network and on computer systems . For example to search a database electronic document processing application can communicate a search criterion in the form of a database query language e.g. Structured Query Language SQL to search application . Search application may be a database management system that is configured to manage a database and run operations on the data requested by clients such as electronic document processing application . Exemplary database management systems include Microsoft SQL Server IBM DB2 Sybase SQL Server and other database management systems. Search application may search for data that matches the search criterion on databases stored on computer readable media associated with computer system . Search application may also search for data on databases stored in computer systems and on LAN .

In an embodiment electronic document processing application can access the functions of search application by communicating the search criteria to an application programming interface API associated with the search application. It should be appreciated that electronic document processing application may communicate with APIs associated with a variety of search applications such as search application to access the search functionalities of the search application. For example to search for data stored in Web pages on the Web electronic document processing application accesses search application that is configured to search Internet e.g. Internet search engine . To access search application electronic document processing application can connect remotely to an API service associated with the search application. Communication can be performed using the Simple Object Access Protocol SOAP HTTP or other communication protocols. The API service provides query access to search application thereby allowing electronic document processing application to search Web pages on Internet and to receive data and or links to data that matches the search criteria from the search application. For example electronic document processing application may communicate a search criterion in the form of a keyword for example to the API service associated with search application . Search application searches through an index of compiled Web pages for data that matches the search criterion. Thereafter search application communicates one or more links to the Web pages that match the search criterion. Electronic document processing application may then access the Web pages though the received links and fetch the data from the Web pages.

In another example electronic document processing application may search for product information on Internet by accessing APIs associated with commerce services. For example to access information associated with products e.g. price quantity shipment information product images customer information and other product information on a commerce Web site electronic document processing application may communicate with search application associated with the commerce Web site through an API. Here search application is configured to search for information associated with products on sale as listed on the commerce Web site. Search application and API associated with the search application may be accessible through SOAP and other communication protocols. By communication with search application through the API electronic document processing application can search for data from the product information stored on the commerce Web site.

The retrieval settings specify the selection of one or more search criteria and can include operators such as comparison operators mathematical logical operators reference operators conditions and other operators associated with the selection of the search criteria. For example the retrieval settings can assign a portion of the search criteria or subsets of search criteria to each user of the electronic document. In other words one or more search criteria can be associated with an individual user. In another example the retrieval settings can assign a portion of the search criteria to a date and time. Another exemplary retrieval setting can associate a portion of the search criteria to a location of the electronic document.

After the retrieval settings are read a portion of the search criteria is selected in operation based on the retrieval settings and in operation the data that matches the selected search criteria is retrieved. As a result through the use of retrieval settings a user can manipulate the selection of search criteria and the retrieval of data. For example different portions of the search criteria may be selected for different users or readers of the electronic document. Thus different data may be retrieved based on individual user preferences. Another example may include the selection of different portions of search criteria depending on when and where the electronic document is accessed. For instance electronic document processing application can retrieve data associated with news in the morning and during work hours retrieve data associated with work.

After the data is retrieved the contents associated with the electronic document are augmented with the retrieved data. As discussed above augmentation includes adding the retrieved data to the original contents of the electronic document or updating a portion of the original contents. For example videos that match a search criterion may be retrieved and added to the contents of an electronic document. In another example a portion of alphanumeric text included in the original content may be updated or replaced with alphanumeric text retrieved from external sources.

After the search criteria and filtering criteria are read or extracted as explained above the data that matches the search criteria is retrieved in operation . Thereafter in operation a determination is made as to whether one or more filtering criteria are read from the electronic document. If filtering criteria are not read from or stored in the electronic document then the data that matches the search criteria is not filtered. On the other hand if filtering criteria is read then the data that matches the search criteria is filtered in operation based on the filtering criteria. An exemplary filtering operation is to delete vulgar words from retrieved data of text. Another exemplary filtering operation is to include product information of products that fall within a certain price range. Still another exemplary filtering operation is to exclude information but for the first paragraph of a news article.

After the data is transformed in operation in an embodiment the data may be formatted for output in operation . The data can be formatted based on formatting information stored in the electronic document. For example the electronic document may be formatted according to a pre defined template. In another example the data can be formatted based on formatting information attached to the data. For example the retrieved data may be in an HTML format with embedded formatting information e.g. Hypertext markup structural markup presentational markup and other formatting information associated with HTML . Other exemplary formatting information include font type font size color spacing page size and other format information that convey the design layout or styling of the retrieved data and or electronic document.

In an embodiment the formatting of the electronic document can adapt to the variable formatting associated with the retrieved data. For instance as discussed above different data may be retrieved depending on the retrieval settings and the data may have different formats. Accordingly the format of the electronic document can be made to accommodate the different formats. For example sizes of text boxes which are configured to display text can be adjusted to accommodate the amount of text retrieved. Furthermore in another embodiment formatting of the electronic document can be dynamic. For example the format of the electronic document can change with time location user preferences and or other parameters.

It should be noted that the above described operations shown in may be varied in implementation and the operations are not limited to the examples provided. For instance transformation operation and formatting operation are optional. Therefore in an embodiment the data received in operation may be transformed in operation and or formatted in operation . In another embodiment the data received in operation are neither transformed nor formatted.

In summary the above described embodiments provide augmentation of contents of an electronic document with data retrieved from a search. The use of search criteria to search for data allows data from multiple external sources to be augmented with the contents of the electronic document. As a result the original contents of the electronic document are enhanced with the retrieved data. For instance a user can view data retrieved from a variety of different sources on one electronic document. In other words the results of multiple search queries can be integrated into one electronic document. Additionally the ability to customize data retrieval and formatting allows dynamically changing and updated data to be displayed on the electronic document.

Although the foregoing examples have been described in some detail for purposes of clarity of understanding the embodiments are not limited to the details provided. There are many alternative ways of implementing the embodiments. The disclosed examples are illustrative and not restrictive.


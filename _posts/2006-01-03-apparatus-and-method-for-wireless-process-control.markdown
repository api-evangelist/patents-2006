---

title: Apparatus and method for wireless process control
abstract: An apparatus includes a programmable logic controller capable of receiving input data from and/or providing output data to at least one device in a process control system. The programmable logic controller is also capable of executing compiled code. The apparatus also includes a memory capable of storing source code corresponding to the compiled code. In addition, the apparatus includes a processor capable of storing the source code in the memory. The apparatus may further include a wireless radio capable of communicating over a wireless network. In particular embodiments, the programmable logic controller and the processor may form a single functional unit. In other embodiments, the processor and memory may operate in place of the programmable logic controller.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07424328&OS=07424328&RS=07424328
owner: 
number: 07424328
owner_city: 
owner_country: 
publication_date: 20060103
---
This disclosure relates generally to process control systems and more specifically to an apparatus and method for wireless process control.

System Control And Data Acquisition or SCADA systems are routinely used in processing facilities to monitor and control the operation of processing equipment in the facilities. Monitoring devices in a conventional SCADA system typically monitor and collect information associated with different characteristics of a processing facility. The collected information is then made available to control devices which use the information to determine how to control processing equipment in the facility.

A conventional monitoring device in a SCADA system may be polled to gather information collected by that device and or the monitoring device may report its collected information upon the occurrence of a specified event or it may provide information on a continuous or periodic basis. If being polled the monitoring device typically stores its information in registers that lie dormant until the information is retrieved by a control device. When an emergency or other alarm condition occurs the monitoring device typically sends its data to a control device immediately and does not wait to be polled.

In a conventional SCADA system monitoring devices typically represent devices that are physically wired to control devices in the SCADA system. Also all or most of the processing in a conventional SCADA system is centralized and is performed by the control devices in the SCADA system although some localized functions may be performed solely by devices such as programmable logic controllers PLCs with or without SCADA involvement.

In a first embodiment an apparatus includes a programmable logic controller capable of receiving input data from and or providing output data to at least one device in a process control system. The programmable logic controller is also capable of executing compiled code. The apparatus also includes a memory capable of storing source code corresponding to the compiled code. In addition the apparatus includes a processor capable of storing the source code in the memory.

In particular embodiments the programmable logic controller and the processor form a single functional unit.

In a second embodiment a method includes executing compiled code at a programmable logic controller. The programmable logic controller forms part of or is coupled to a first controller in a process control system. The method also includes storing source code corresponding to the compiled code in a memory of the first controller. In addition the method includes wirelessly communicating with a second controller over a wireless network. The controllers are capable of controlling at least one device in the process control system.

In a third embodiment a system includes a plurality of devices capable of measuring one or more characteristics in the system initiating one or more physical actions in the system and or performing one or more physical actions in the system. The system also includes a plurality of controllers coupled to the plurality of devices. Each of at least one of the controllers includes a programmable logic controller capable of receiving input data from and or providing output data to at least one of the devices. The programmable logic controller is also capable of executing compiled code. Each of at least one of the controllers also includes a memory capable of storing source code corresponding to the compiled code. Each of at least one of the controllers further includes a processor capable of storing the source code in the memory. In addition each of at least one of the controllers includes a wireless radio capable of communicating with at least one other of the controllers over a wireless network.

In a fourth embodiment an apparatus includes a processor capable of receiving input data from and or providing output data to at least one device in a process control system. The processor is also capable of executing compiled code. The apparatus also includes a memory capable of storing source code corresponding to the compiled code. The processor is further capable of storing the source code in the memory.

Other technical features may be readily apparent to one skilled in the art from the following figures descriptions and claims.

A process control system generally refers to a system that controls the output of a particular process such as a manufacturing or production process. In this example the process control system includes various devices . The devices represent processing equipment or other devices that are monitored controlled or otherwise used in the process control system . For instance the devices could include sensors for sensing conditions or measuring characteristics actuators for initiating actions and processing elements for performing actions in the system .

In this embodiment the devices include sensors which measure various characteristics of the process control system . For example the sensors could include pressure sensors capable of measuring pressure inside pipelines. The devices also include pumps such as pumps that pump fluid through the pipelines resulting in the pressure measured by the sensors . In addition the devices include handheld personal digital assistants which are portable devices used to capture data from various points in the system . These represent examples of the types of devices that could be used in the process control system . The process control system could include any other or additional devices.

As shown in the devices are coupled to or communicate with controllers respectively. The controllers control the operation of or otherwise supervise the operation of the devices . For example the controllers could receive measurements from the sensors and generate signals to control the operation of the pumps. The controllers could perform any other or additional control activities to control the devices . Each of the controllers includes any suitable structure or structures for facilitating control of the devices . One example embodiment of the controllers is shown in which is described below.

Each of the controllers is coupled to an antenna . The antennas allow the controllers to wirelessly communicate with one another or with other components in the process control system over a wireless network . In some embodiments the controllers interact with one another directly to collectively control the devices . In other embodiments the controllers interact with one another indirectly through a gateway or other device. In yet other embodiments the controllers interact with a SCADA or other control system which includes a server and a workstation . Each of the antennas represents any suitable structure or structures for supporting wireless communications such as a radio frequency RF or other antenna.

The network represents any suitable wireless network facilitating communication between at least the controllers . The network could for example represent a wireless mesh network. The network could also represent a wi fi network having one or more base stations. The network could represent any other suitable wireless network facilitating wireless communications. Also the network could support any type of communications such as point to point point to multipoint and multipoint to multipoint communications.

The gateway represents a gateway to a control system such as a legacy or other SCADA system. For example the gateway may receive information from the controllers and pass the information to the SCADA system. The gateway could also receive information from the SCADA system and transmit the information wirelessly to one or more of the controllers . The gateway represents any suitable structure for facilitating communication between the controllers and a SCADA or other control system.

As noted above the SCADA system in this example includes the server and the workstation . The server represents a computing or other device for performing various functions such as logging or storing historical data collected from the controllers where the information represents the operation of the process control system . The server could also execute applications for altering the operation of the controllers or the devices . The server could for example represent a server or other computer executing a WINDOWS NT or other WINDOWS operating system from MICROSOFT CORPORATION. The workstation represents a computing or other device used by a user to access the server . The workstation could for example represent a desktop or laptop computer executing a WINDOWS NT WINDOWS 95 WINDOWS 3.1 or other WINDOWS operating system from MICROSOFT CORPORATION. The server and the workstation could support any suitable protocol s such as the MODBUS PROFIBUS FIELDBUS or DeviceNet protocol. In this embodiment the gateway server and workstation are coupled via various networks . Each of the networks represents any suitable wireline or wireless communication network or combination of networks such as an Ethernet network.

In some embodiments the controllers implement a distributed control scheme in the process control system where the controllers interact with one another to control the devices . In particular embodiments the controllers represent stand alone components that may or may not be used in conjunction with a SCADA system. Also the controllers could interact with one another through the gateway and the server and the workstation may or may not be omitted from the process control system . In addition the server and or the workstation could represent a stand alone component that may or may not used in any type of legacy or other SCADA system.

In one aspect of operation each of the controllers includes a processor coupled to a memory and each of the controllers may include or be coupled to a programmable logic controller PLC . The PLCs implement the functions used to control the devices . In some embodiments the PLC in or coupled to each of the controllers executes compiled code and the source code corresponding to the compiled code is stored in the memory of that controller. In this way the system supports for example remote access to the source code for any PLC. Also the system supports polling or identification of the code being executed by any PLC in the system .

In a second aspect of operation the system includes an input output I O mapping application such as an application executed by the server or workstation . The I O mapping application is used to control associations between input and output ports of the controllers . For example the I O mapping application may allow a user to identify each I O port in a controller describe the I O port s type and function describe the type of device attached to the I O port such as using a drag and drop mechanism or a drop down mechanism and map an input port in one controller to an output port in another controller. The I O mapping application may also allow the user to view how the ports are mapped in the process control system such as by presenting a graphical user interface identifying how input ports are mapped to output ports in different controllers. The I O mapping application may further allow the user to change the mappings between the input and output ports to support particular control functionality in the process control system .

In a third aspect of operation each of the controllers includes a wireless radio supporting communication via the network . In some embodiments the wireless radios support peer to peer multipoint to multipoint communications between the controllers . In these embodiments each of the controllers functions as a transmitter and a receiver so that the controller may both transmit information to other controllers and receive information from other controllers in the process control system . Each of the controllers also functions as a repeater allowing the controller to receive information from other controllers and rebroadcast or retransmit the information for delivery to the appropriate destination.

Although illustrates one example of a process control system various changes may be made to . For example the process control system could include any number of devices controllers networks gateways servers and workstations . Also while shown as having a one to one association between devices and controllers each controller could be coupled to any number and type of device s . In addition illustrates one operational environment in which the controllers could be used. The controllers could be used in any other suitable environment or system.

In this example the controller includes a wireless radio . The radio supports wireless communication in the network . For example the radio may allow the controller to transmit information to and receive information from other controllers or the gateway in the system . The information sent from and received by the radio could represent information needed to control one or more of the devices in the system . The radio includes any suitable structure for facilitating wireless communications. The radio could for example represent a 1 mW radio or other radio. As a particular example the radio could represent a peer to peer multipoint to multipoint mesh radio supporting the functionality described in U.S. patent application Ser. No. 11 084 991 and U.S. patent application Ser. No. 11 085 427 both filed on Mar. 21 2005 and which are hereby incorporated by reference. Also the radio could be configured in any suitable manner such as by using a WINDOWS or JAVA application programming interface API executed by the server or the workstation .

The controller also includes a programmable logic controller PLC . The PLC represents a programmable controller that operates to control one or more devices in the system . For example the PLC could execute compiled code to control one or more of the devices . The PLC represents any suitable controller capable of controlling the operation of one or more devices. The PLC could for instance represent a PLC ON A CHIP by DIVELBISS CORPORATION which executes compiled ladder logic code. While shown as forming part of the controller itself the PLC could reside outside of and be coupled to the controller

A processor is coupled to the radio and the PLC . The processor may also be coupled to a memory . As described in more detail below the processor supports various functions in the controller . For example the processor may packetize data for communication over the network and depacketize data received over the network . The processor could also facilitate the storage and retrieval of source code corresponding to the PLC s compiled code in the memory . The processor includes any suitable processor or controller such as a MSP430F1610 microcontroller from TEXAS INSTRUMENTS INC.

The memory facilitates storage and retrieval of any suitable information in the controller . For example the memory could store the source code as described above. The memory could also store routing tables or link maps used by the wireless radio and captured by the processor . The memory could further store mapping information such as information mapping an input or output of the controller to the input or output of another controller. The memory could store any other or additional information. The memory represents any suitable storage and retrieval device or devices such as a one or two megabyte Flash memory.

In this example the controller further includes two level shifters . The level shifters are capable of facilitating the communication of signals between the PLC and the processor when the PLC and the processor operate using different voltage levels. For example the level shifters could shift signals from the processor which may operate using 3.3V into signals suitable for use by the PLC which may operate using 5V and vice versa. The level shifters represent any suitable structures for shifting voltage levels.

As shown in the controller also includes various inputs and outputs for communicating with other components in the process control system . For example the processor is coupled to two analog outputs and the PLC is coupled to four analog inputs and four digital inputs outputs although as shown in the analog inputs could be coupled to the processor . The analog outputs are capable of providing analog signals to components that are external to the controller such as to other controllers or to devices . The analog output signals could for example represent 4 20 mA signals 0 5V signals or 0 10V signals. The analog inputs are capable of receiving analog signals from components that are external to the controller . The digital inputs outputs are capable of providing or receiving digital signals to or from components that are external to the controller . Each of the outputs inputs and inputs outputs represents any suitable structure for facilitating the communication or reception of analog or digital signals.

The controller in this example further includes three regulated power supplies . The regulated power supplies are capable of receiving an external power supply signal such as a 12 24 VDC signal and generating voltages required by other components of the controller . In the regulated power supplies generate a 3.3V signal a 5V signal and a voltage VA used by analog components in the controller . The regulated power supplies may provide any other or additional voltages as needed by components of the controller

The radio PLC processor and memory may include any suitable interface or interfaces for communicating with one another. For example the processor may include a Universal Asynchronous Receiver Transmitter UART interface to the radio a serial protocol interface SPI to the memory and UART and SPI interfaces to the PLC . Similarly the PLC may include UART and SPI interfaces to the processor . In some embodiments the UART interfaces of the PLC and the processor could be used to transfer programming information such as compiled code to the PLC . The SPI interfaces could be used for I O register access in the PLC . The SPI interfaces could for instance be used when a SCADA system interacts with the processor and requests polling of data stored in I O registers in the PLC . The SPI interface could also be used by the processor to store appropriate data such as data associated with analog inputs in and retrieve data from the PLC s registers.

In one aspect of operation the processor provides various functions or features in the controller . For example the processor may support the storage and retrieval of source code into and out of the memory . The source code stored in the memory may correspond to the compiled code executed by the PLC . In this way the source code associated with the compiled code being executed by the PLC may be constantly available and easily retrievable. Also the processor could allow polling of the source code stored in the memory . For instance the processor could allow an external component such as the workstation to identify the version number of ladder logic source code stored in the memory . This may allow a user to identify the source code executing on the PLC without requiring the PLC to be taken out of service or otherwise interrupting the operation of the PLC . The processor could further retrieve the source code from the memory and provide the source code to an external destination such as the I O mapping application . The I O mapping application could then use the retrieved source code to identify the mappings involving the inputs and outputs of the controller

The processor may also provide compiled code to the PLC for storage and execution by the PLC . This may allow the PLC to be updated more quickly resulting in less down time for the PLC . The compiled code could be generated by the processor such as by compiling the source code stored in the memory or the compiled code could be received by the controller from an external source. The source code or the compiled code may be received by the processor in any suitable manner. For instance the processor may receive data packets containing the source or compiled code over the network via the radio . In some embodiments the transmission of source or compiled code to the controller may be interleaved with other transmissions in the system which may help to reduce interruption of the operation of the system . Also the transmission of source or compiled code to the controller may occur using a high message priority which may help to reduce interference in a mesh network . Error checking may be used to ensure proper delivery of the source or compiled code to the controller

The processor may further packetize data for communication over the network and depacketize data received over the network . For example the processor could receive data from an analog or digital input place the data into a data packet address the data packet and transmit the data packet over the network to an appropriate destination. The address of the data packet s destination may be determined using the I O mapping which may identify the destination for data received over a particular analog or digital input. As a particular example the I O mapping may identify a radio and an input or output in another controller that is associated with an input or output of the controller . The processor may use this mapping to properly address a data packet for the other controller.

In addition the processor may generate analog output signals which may be provided to devices or other components in the system . This may allow for example the processor to generate control signals for controlling one or more of the devices 

In some embodiments the processor could be configured to operate in different modes. For example in a first mode a stand alone mode the processor could be configured to operate independent of any SCADA system. In a second mode the processor could be configured to operate independent of any SCADA system but the processor allows the SCADA system to poll the controller such as by using MODBUS to warehouse data associated with the system . In a third mode the processor could be configured to operate in conjunction with a SCADA system. In the third mode the processor could allow the SCADA system to poll the controller for instructions affecting devices connected to the SCADA system and the SCADA system may take over and directly control those devices in specified circumstances.

In another aspect of operation the I O mapping application may provide an overview of the inputs and outputs of the system . For example the I O mapping application could present a graphical display illustrating the components in the system and connections between those components. The I O mapping application may also provide a drill down into a particular component in the system . For instance the user could select the controller from the graphical user interface and the user would then be able to view the specific inputs and outputs of the controller . The user may also be able to view how the inputs and outputs of the controller are mapped to inputs and outputs of other components in the system . As a specific example the user may see that the first analog output of the controller is mapped to the second analog input of the controller . The I O mapping application may further allow the user to poll each controller in the system to verify or validate the source code stored in the memory of the controller.

If the user desires to make changes to either the I O mappings or the PLC programming in the controller the user may use the I O mapping application to change the source code logic of the controller . New source code logic may then be provided to the controller for compilation or the new source code may be compiled on the user s device and the compiled code may be provided to the controller . Compiled code provided to the controller may be stored at the controller until it is overwritten which may occur on an individual controller basis or on a system wide basis. The new source code could also be provided to the controller for storage in the memory . These various actions may be logged and time date stamped and the I O mapping application may maintain a time date stamp history for the various controllers where the time date stamp history can be retrieved from any location using appropriate security .

By providing the source code in the memory the source code may be constantly available and can be used for various purposes. For example each individual processor in the system could be polled for its source code from anywhere in the world which may allow remote supervision and control of the system . It may also allow for efficient standardization among different facilities. By providing the processor in the controller the processor can perform various tasks without placing a processing burden on the PLC . For instance via the I O mapping in the controller the processor may be able to process each individual input and output of the controller locally. As a particular example because the processor knows which radio and which input or output port is mapped to an input or output of the controller the processor can process input data locally and then send the results wirelessly to the correct radio s and to the correct inputs or outputs. In stand alone mode the processor could bypass any SCADA system and the wiring expenses associated with a wired SCADA system.

The following represents specific uses or implementations of the controller and the process control system . These examples are for illustration only. Other embodiments or uses of the process control system or the controller could be used without departing from the scope of this disclosure.

In a compost application a 300 foot long compost pile may have one fan every 50 feet. A controller could use the temperature sensed by a probe with a known location in the pile to control an appropriate fan. For example the fan may be turned on or off in relation to a sensed temperature using a digital output of the controller or the fan s speed may be adjusted based on the sensed temperature using an analog output of the controller

In a pharmaceutical application the U.S. Food and Drug Administration FDA often requires validation of the elements in a manufacturing process. The ability to offer source code on demand via the processor retrieving the source code from memory may significantly help in this process. By providing the ability to poll the appropriate PLC for its source ladder logic via the processor a pharmaceutical plant can demonstrate compliance with that portion of the FDA requirement. In particular by facilitating remote polling of the source code it may be easier for pharmaceutical companies to monitor their plants for conformity and continuity.

In industrial applications the ability to use wireless controllers instead of wired controllers may result in significant savings. These savings may translate into the addition of supplemental equipment such as more controllers in a facility. The supplemental equipment may allow the facility operator to collect more data regarding a particular process and that data can be used to develop richer and more robust models of the process. As another example industrial facilities often include numerous emergency showers particularly in chemical plants. Unless a shower is physically wired back to an existing SCADA system the potential for someone needing assistance and not being recognized could literally cost a life. By affixing a trigger mechanism to the shower the controller could detect when the shower is used and send a message via the network to an emergency response unit or other point allowing appropriate personnel to be notified via pagers or other mechanisms. As a third example if valves are used in an industrial facility the facility operator may need to send someone to physically inspect a valve positioning device to determine if a valve is open closed or partially open or closed. With the use of the controller a valve positioning device can signal the position of a valve on a periodic basis or be polled as needed and the valve could be opened closed or partially opened or closed remotely.

As a particular industrial example a rupture disk is typically located on a main pipeline at a downstream point after the convergence of three other pipelines each serviced by its own pump . The purpose of the rupture disk is to blow at a pressure point below the allowable maximum vessel pressure of the main pipeline thereby preventing a pipeline explosion. However the rupture disk must be replaced once it is blown. By adding a pressure sensor on the main pipeline at the rupture disk location the system may provide a relatively inexpensive monitoring device on a relatively expensive rupture disk. In this example the pressure sensor measurements could be input to the controller and this input could be mapped to multiple outputs of the controller where the multiple outputs are used to control the three pumps . For instance an analog output could be used to adjust the operation of one of the pumps and a digital output could be used to shut off one of the pumps when the measured pressure is approaching the pressure point at which the rupture disk will blow. This may be done for each of the three pumps feeding the main pipeline. In this way the controller may adjust the operation of the pumps thereby helping to reduce or eliminate the likelihood that the rupture disk will blow.

This represents only some of the ways in which the controller and the process control system could be used. Other examples could include using the controller to wirelessly detect the opening and closing of security doors or other restricted access doors or windows to detect the rupture of explosion vents which are similar to rupture disks and to detect the opening and closing of remote security gates. The controller could also be used to trigger attached or remote cameras or other recording devices in the event a motion detector or other sensor detects something or an alarm occurs. The controller and the process control system could be used in any other suitable situations or environments including bypassing existing functions in the PLC .

Although illustrates one example of a wireless controller in a process control system various changes may be made to . For example the PLC could reside outside of the controller . In these embodiments the controller could include connectors for coupling the PLC to the controller . Also the controller could include any number of analog and digital inputs and outputs including no analog or digital inputs or outputs depending on particular needs. Further the level shifters may not be required such as when the PLC and the processor operate using the same voltage level and any other or additional interfaces could be used to facilitate communication between the components of . Beyond that the controller could be configured to implement various functions in the processor and bypass existing functions in the PLC . This may be useful when the PLC used in or with the controller contains some functions that are not needed or desired in the system .

In addition the PLC and the processor could be combined into a single functional unit such as by incorporating the functionality of the PLC into the processor . The processor could then execute the ladder logic of the PLC . This may also allow more advanced process control code to be executed by the controller such as by allowing higher level or more advanced programming languages to be used in place of ladder logic. Further the processor could support any suitable number of analog inputs analog outputs and digital inputs outputs. If the processor and the PLC are combined the resulting component could be referred to or function as a processor and a controller.

In this example as shown in the wireless radio is formed from a DM2100 module from RF MONOLITHICS INC. Also the processor is formed from a MSP430F1610 microcontroller from TEXAS INSTRUMENTS INC. In addition the memory is formed from an AT45DBXXXD serial interface Flash memory device from ATMEL CORPORATION.

In the controller also includes a Joint Test Action Group JTAG connector which may be used to support the IEEE Standard 1149.1 for controlling and monitoring the pins of the processor . The controller further includes analog interconnects which are coupled to the processor and are used to provide analog output signals. In addition the controller includes a connector which may be used to provide debugging or auxiliary access to the processor .

As shown in the PLC in the controller is formed from a PLC ON A CHIP from DIVELBISS CORPORATION. Also the level shifters in the controller are formed from seven bus transceivers which may represent 74LVC1T45 bus transceivers from TEXAS INSTRUMENTS INC.

In the controller also includes a voltage supervisory device which protects the PLC by keeping the PLC in a reset state until a system voltage 5V has reached a proper level and is stable. In this example the voltage supervisory device is formed from a MCP120 device from MICROCHIP TECHNOLOGY INC. The controller further includes analog or digital interconnects which are coupled to the PLC and are used to receive analog input signals or to receive or provide digital input or output signals. In addition the controller includes headers which are used to couple other components such as external components to the PLC .

As shown in each of the analog inputs may include a barrier diode such as a BAT54DICT from DIODES INCORPORATED. Also each of the analog inputs is coupled to a two wire terminal which may receive a 0 20 mA analog signal. Further as shown in each of the analog outputs includes a current transmitter coupled to a two wire terminal which may output a 0 20 mA analog signal. The current transmitter could represent an AD694 current transmitter from ANALOG DEVICES INC.

As shown in each of the digital inputs outputs includes one of two jumpers where the installed jumper configures the digital input output as either an input or an output. Each of the digital inputs outputs also includes headers which may be used to couple the digital input output to various signal lines. In addition each of the digital inputs outputs includes a two wire terminal which is used to transmit or receive digital signals.

In addition as shown in the regulated power supplies may be coupled to a two wire terminal which provides power from an external power source. The regulated power supplies include a diode a voltage regulator and a linear regulator . The voltage regulator produces a 5V signal and the linear regulator produces a 3.3V signal. The voltage regulator could for example be formed from a LM78M05 voltage regulator from NATIONAL SEMICONDUCTOR CORPORATION. The linear regulator could for example be formed from a LP3966ES ADJ regulator TO 263 package from NATIONAL SEMICONDUCTOR CORPORATION.

Although illustrate one particular example of a wireless controller in a process control system various changes may be made to . For example illustrate particular implementations of various components in the controller . The controller or the components in the controller could have any other suitable arrangement or design according to particular needs.

A first controller receives input data from a first device at step . This may include for example the PLC in the first controller receiving an analog input signal via an analog input or a digital input signal via a digital input output . As a particular example this may include the PLC receiving pressure measurements from a pressure sensor on a pipeline.

The first controller identifies a destination associated with the input data at step . This may include for example the processor using mapping information to identify the destination. For instance the mapping information may associate a particular destination with the analog input or digital input output through which the input data was received. The destination could represent a radio and an input or output in a second controller in this example controller .

The controller generates one or more messages for the identified destination at step . This may include for example the processor packetizing the input data by placing the data into one or more data packets or other data structures. This may also include the processor placing an appropriate address of the destination in the data packets.

The controller transmits the one or more messages at step . This may include for example the processor providing the one or more messages to the wireless radio for communication over the network . The wireless radio could transmit the one or more messages to a particular destination such as the gateway or another controller . The wireless radio could also generally broadcast the one or more messages within a mesh network.

A second controller receives the one or more transmitted messages at step . This may include for example the wireless radio in the controller receiving the one more messages directly from the controller or indirectly though other components in the system .

The controller extracts data from the one or more received messages at step . This may include for example the processor in the controller depacketizing the data by removing the data from one or more data packets.

The controller determines an action to be performed using the extracted data at step . This may include for example the processor determining whether the processor needs to generate an analog output signal to control a specified device. This may also include the PLC in the controller determining whether the PLC needs to generate an analog or digital output signal to control a specified device. As a particular example this may include the PLC or processor determining whether to modify the operation of a pump based on the pressure measurements from the pressure sensor.

The controller provides an output signal to a second device at step . This may include for example the processor or the PLC in the controller generating an output signal for implementing the identified action. The processor could generate an analog output signal that is provided to the second device via an analog output . The PLC could generate a digital output signal that is provided to the second device via a digital input output . As a particular example this may include the processor modifying the operation of the pump by increasing or decreasing the pump speed or the PLC shutting down the pump.

Although illustrates one example of a method for wireless process control various changes may be made to . For example the action to be performed could be determined by the first controller which then instructs the second controller of the action to be performed. Also the controllers could cooperate in any other suitable manner to implement a distributed control scheme in the system . Further a controller such as controller could perform steps based on one set of input data and the same controller could perform steps in response to receiving different input data from a different controller. In addition a controller could receive input data and use that input data to control a device coupled to the controller without needing to transmit data over the network . In these embodiments the controller could be implemented without a wireless radio .

The controller receives compiled code for a PLC at step . This may include for example the wireless radio in the controller receiving messages containing the compiled code from the gateway or other transmitter. This may also include the processor depacketizing the compiled code contained in the received messages. The compiled code could originate from any suitable source such as the workstation .

The controller provides the compiled code to the PLC for storage and execution at step . This may include for example the processor providing the compiled code to the PLC over a UART interface. The compiled code could be stored in an internal memory of the PLC or in any other suitable memory. The PLC could then execute the compiled code to provide the desired control functionality in the system .

The controller receives source code corresponding to the compiled code at step . This may include for example the wireless radio receiving messages containing the source code from the gateway or other transmitter. This may also include the processor depacketizing the source code contained in the received messages. Again the source code could originate from any suitable source such as the workstation .

The controller stores the source code in a memory at step . This may include for example the processor providing the source code to the memory for storage via an SPI interface.

If a poll related to the source code is later received at step the controller provides information about the source code stored in the memory at step . This may include for example the processor determining that a request to identify the source code in memory has been received. This may also include the processor providing information about the source code in response to the request such as by identifying the version number of the source code stored in memory . In this way the source code corresponding to the compiled code being executed by the PLC may be easily identified even from remote access points.

Similarly if a request for the source code itself is received at step the controller retrieves and provides the source code from the memory at step . This may include for example the processor retrieving the source code from the memory and generating messages containing the source code. This may also include the processor providing the generated messages to the radio for transmission to the appropriate destination.

Although illustrates one example of a method for source code management in a wireless controller various changes may be made to . For example the steps shown in could occur in a different order such as when the source code is received and stored before the compiled code is received. Also the compiled code could be generated by the controller itself. In addition the processor could use the source code in any other suitable manner.

The I O mapping application provides an overview of the I O mappings in a process control system at step . This may include for example the I O mapping application generating a graphical user interface that identifies the different components in the system . The graphical user interface could also graphically link any two components that are associated by an I O mapping. As a particular example the identified components could include all or a subset of the controllers in the process control system and a line could connect any two controllers having inputs and or outputs that are mapped to one another. The information used to generate the overview could be retrieved in any suitable manner such as by using locally stored information or information retrieved from the controllers 

The I O mapping application receives a selection of a particular component in the process control system from a user at step . This may include for example the user using a mouse or other input device to select one of the controllers identified in the graphical user interface.

The I O mapping application provides an overview of the I O mappings for the selected component at step . This may include for example the I O mapping application presenting an image representing a selected controller where the image identifies all of the inputs and outputs of that controller. For each input or output involved in an I O mapping the graphical user interface could also provide information about the mapping such as information identifying the radio and the input or output in another controller .

If the user requests a change to the operation of the selected component at step the I O mapping application retrieves the source code from the selected component at step . The user is then allowed to modify the mappings or the source code at step . This may include for example the user adding altering or deleting I O mappings associated with the selected controller. This may also include the user altering the ladder logic in the source code where the ladder logic is executed by the PLC in the selected controller.

The I O mapping application compiles the new source code into compiled code at step and the new source and compiled code is provided to the selected component at step . This may include for example the workstation communicating the source and compiled code to the selected controller over the network via the gateway . In this way the I O mapping application allows the user to easily view and modify the operation of the controllers in the system .

Although illustrates one example of a method for input output mapping in a wireless process control system various changes may be made to . For example source code in a controller could be modified in any other suitable manner and the I O mapping application need not be used.

In some embodiments various functions performed within or in conjunction with the system such as by the controllers or the I O mapping application are implemented or supported by one or more computer programs each formed from computer readable program code and embodied in a computer readable medium. The phrase computer readable program code includes any type of computer code including source code object code and executable code. The phrase computer readable medium includes any type of medium capable of being accessed by a computer such as read only memory ROM random access memory RAM a hard disk drive a compact disc CD a digital video disc DVD or any other type of memory.

It may be advantageous to set forth definitions of certain words and phrases that have been used within this patent document. The term couple and its derivatives refer to any direct or indirect communication between two or more elements whether or not those elements are in physical contact with one another. The term application refers to one or more computer programs sets of instructions procedures functions objects classes instances or related data adapted for implementation in a suitable computer language. The terms include and comprise as well as derivatives thereof mean inclusion without limitation. The term or is inclusive meaning and or. The phrases associated with and associated therewith as well as derivatives thereof may mean to include be included within interconnect with contain be contained within connect to or with couple to or with be communicable with cooperate with interleave juxtapose be proximate to be bound to or with have have a property of or the like. The term controller means any device system or part thereof that controls at least one operation. A controller may be implemented in hardware software firmware or combination thereof. It should be noted that the functionality associated with any particular controller may be centralized or distributed whether locally or remotely.

While this disclosure has described certain embodiments and generally associated methods alterations and permutations of these embodiments and methods will be apparent to those skilled in the art. Accordingly the above description of example embodiments does not define or constrain this disclosure. Other changes substitutions and alterations are also possible without departing from the spirit and scope of this disclosure as defined by the following claims.


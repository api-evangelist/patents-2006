---

title: Systems, devices, and methods for remote access
abstract: A first computer is remotely accessed by a second computer. Sound output is generated at the first computer, but is selectively muted at the first computer and transmitted to, and output at, the second computer.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08694137&OS=08694137&RS=08694137
owner: Citrix Systems, Inc.
number: 08694137
owner_city: Fort Lauderdale
owner_country: US
publication_date: 20061002
---
The invention generally relates to communications over a computer network. More particularly the invention relates to systems devices and methods for remote access to applications and resources over a computer network.

Current technology allows a user of one computer typically known as the remote computer to access another computer typically known as the host computer. The host computer may be remotely accessed for the purpose of running an application program on the host computer for managing files on the host computer or for another reason. For example an office worker may desire to access his office computer from his home computer or while traveling from a laptop computer in a hotel room and to run one or more application programs on the office computer. As another example an individual may desire to access his home computer from a remotely located computer and manage files on his home computer.

Conventionally the application accessed remotely runs on the host computer and the visual display output by the host computer is transmitted to and viewed at the remote computer. A disadvantage of such systems is that while the video data is transmitted to the remote computer any associated audio is output only at the host computer. An office worker remotely accessing his office computer and running an application program thereon that outputs audio may therefore annoy his colleagues who are still present at work and located proximate to the remotely accessed host computer. Similarly an individual remotely accessing his home computer from another computer and running an application program thereon that outputs audio may annoy his family members who are still at home and within earshot of the home computer. While it is possible to take manual steps to remotely mute the application program running on the host computer this approach has several disadvantages including reliance on the user s awareness of the problem and his willingness to take steps to ameliorate it.

One prior art approach to solving the above described problem involves the installation of a virtual sound card driver on the host computer. In such prior art systems when the host computer is accessed remotely steps are taken to change the default audio output device e.g. the sound card driving the output jacks that connect to the host computer s speakers to the virtual sound card driver. In such systems the virtual sound card driver is not configured to generate or output audio at the host computer but nevertheless permits the audio to be output at the remote computer. This approach requires the installation of a virtual sound card driver which adds cost and inconvenience and may not even be compatible with the security privileges allotted to a user.

The present invention relates to systems devices and methods that mute the audio output by an application program at a host computer without direct user intervention and that transmit the audio for output at a remote computer all without the need to install a virtual sound card driver or other physical device at the host computer. More specifically embodiments of the present invention enable the output line of a default output device on the host computer to be muted while sound transmitted along a loopback input line of the default output device is simultaneously captured. That captured sound may then be transmitted to the remote computer for output thereat. Thus one advantage of the invention is that a user operating the remote computer may enjoy the audio output of an application program running on the host computer without annoying those in the presence of the host computer. Moreover according to another advantage of the invention the expense and security issues associated with installing a virtual sound card driver or other physical device on the host computer are eliminated.

In an embodiment of the invention the audio output at a host computer is automatically i.e. without user intervention muted in response to a remote access request from a remote computer. Accordingly the remote user need not spend his time reconfiguring the host computer system in order the mute the output of audio thereat. Moreover the possibility that the remote user will forget to mute the audio at the host computer and thereby inadvertently annoy those in the presence of the host computer is eliminated by the present invention.

In general in one aspect the invention features a method for remote access. More specifically sound output is generated at a first computer. The presentation of the sound output is muted at the first computer and the sound output is transmitted to a second computer.

In general in another aspect the invention features a computer readable storage medium containing instructions for a general purpose computer having a sound card capable of generating a sound output. The set of instructions includes instructions for muting the presentation of sound output generated at a first computer without direct user intervention and instructions for transmitting the sound output to a second computer.

Various embodiments of the invention can include the following features or computer readable instructions for implementing the following features. The sound output generated at the first computer may be generated by a sound card at the first computer and the presentation of the sound output at the first computer may be muted by muting a local analog line output. In addition transmitting the sound output to the second computer may include recording a local analog line output which may be a loopback recording input. The transmitted sound output may also be presented at the second computer. In some embodiments for example when the first computer is disconnected from the second computer at the end of a communication session the presentation of the sound output at the first computer may be unmuted.

In some embodiments the contents of a display of the first computer may be transmitted to the second computer. Optionally the contents of the display of the first computer may be stored in a display memory e.g. a frame buffer prior to transmitting the contents to the second computer. The contents of the display of the first computer may also be displayed at the second computer following transmission thereto.

In general in yet another aspect the invention features a first computer. The first computer includes a sound card configured to generate a sound output software for muting the presentation of the sound output at the first computer without direct user intervention and software for transmitting the sound output to a second computer.

In various embodiments the first computer further includes a display and software for transmitting the contents of the display to the second computer. In addition the first computer may include a display memory for storing the contents of the display prior to transmitting the contents of the display to the second computer. The first computer may also include software for unmuting for example when the first computer is disconnected from the second computer at the end of a communication session the presentation of the sound output at the first computer. The sound card of the first computer may include a local analog line output configured to output the generated sound output and may also include a loopback recording input for recording the generated sound output.

In general in still another aspect the invention features another method for remote access. In accordance with this method a request for remote access is received at a first computer from a second computer and in response to the request the sound at the first computer is automatically muted without user intervention. More specifically in one embodiment the sound output generated by a sound card at the first computer may be automatically muted without user intervention.

In general the present invention pertains to systems devices and methods for remote access. In broad overview in accordance with one aspect of the invention a first computing device for example a host computer receives a request for remote access from a second computing device for example a remote computer over a computer network. In one embodiment the request for remote access is associated with a request to run an application program for example an application program that typically outputs sound through a sound card on the host computer. In response to the request however the sound output by the sound card is automatically i.e. without user intervention muted at the host computer. Nevertheless the sound output by the sound card may be transmitted to the remote computer for presentation thereat. In addition the contents of a display of the host computer may be transmitted to the remote computer for presentation there as well.

Either or both networks A and B may be for example a local area network LAN such as a company intranet a metropolitan area network MAN or a wide area network WAN such as the Internet. The various computers and nodes illustrated in may be connected to the networks A and or B through a variety of connections including but not limited to standard telephone lines LAN or WAN links e.g. T1 T3 56 kb X.25 broadband connections e.g. ISDN Frame Relay ATM or wireless connections. The connections moreover may be established using a variety of communication protocols e.g. HTTP TCP IP IPX SPX NetBIOS NetBEUI SMB Ethernet ARCNET Fiber Distributed Data Interface FDDI RS232 IEEE 802.11 IEEE 802.11a IEEE 802.11b IEEE 802.11g and direct asynchronous connections .

Each of the host computer and the remote computer may be any type of personal computer Windows based terminal network computer wireless device information appliance RISC Power PC X device workstation mini computer main frame computer personal digital assistant set top box handheld device or other computing device that is capable of both presenting information data to and receiving commands from a user of the host computer and the remote computer respectively. In particular in one embodiment each of the host computer and the remote computer include a sound card that is configured to generate a sound output for presentation to a user of the computer . In addition either or both the host computer and remote computer may include a visual display device e.g. a computer monitor a data entry device e.g. a keyboard persistent and or volatile storage e.g. computer memory a processor and a mouse. In one embodiment the host computer and remote computer each include a web browser such as for example the INTERNET EXPLORER program developed by Microsoft Corporation of Redmond Wash. to connect to the World Wide Web.

Each of the intermediate node and the broker node may be any computing device capable of receiving information data from and delivering information data to the host computer and remote computer for example over the networks A and B. For example the intermediate node may be a communication server that facilitates the communication of information over the networks A B between the host computer and the remote computer . For its part the broker node may facilitate the connection of the host computer and the remote computer to the intermediate node by for example initially identifying the intermediate node as the node to which they should connect and providing the passwords security information and or other identifying information necessary to establish those connections.

It will be understood by those skilled in the art that is a simplified conceptual illustration of the system and that it is depicted as such for purposes of explanation. For example more than one host computer more than one remote computer and more than one intermediate node may be present in the system . In addition the system need not necessarily include an intermediate node or the broker node . For example the host computer and remote computer may instead communicate with one another over only a network A or B. As such the depiction of the system in is non limiting.

The central processing unit may be any logic circuitry that responds to and processes instructions fetched from the main memory . In many embodiments the central processing unit is provided by a microprocessor unit such as one of the many microprocessor units manufactured by Intel Corporation of Mountain View Calif.

Main memory and display memory may each be provided by one or more memory chips capable of storing data and allowing any storage location to be directly accessed by the central processing unit . In one embodiment the main memory stores software for transmitting to the remote computer sound output generated at the host computer software for muting the presentation of the sound output at the host computer software for unmuting the presentation of the sound output at the host computer and or software for transmitting to the remote computer the contents of a display of the host computer . Similarly the display memory may store the contents of the host computer s display prior to the transmission of the contents to the remote computer . In one embodiment the display memory is implemented as a frame buffer.

As described in greater detail below with respect to the central processing unit may fetch via the system bus execute and process the instructions present in the various software programs stored in the main memory . The central processing unit may then write via the system bus any results to the main memory and or to the display memory . Moreover the central processing unit may receive input from and direct output to one or more of the input output devices again via the system bus . Various busses may be used as the system bus such as for example a VESA VL bus an ISA bus an EISA bus a MicroChannel Architecture MCA bus a PCI bus a PCI X bus a PCI Express bus or a NuBus.

A wide variety of input output devices may be present in the host computer . For example input devices that may be present include keyboards mice trackpads trackballs microphones and drawing tablets. Exemplary output devices include video displays speakers inkjet printers laser printers and dye sublimation printers. An input output device such as a hard disk drive a floppy disk drive for receiving floppy disks such as 3.5 inch disks 5.25 inch disks or ZIP disks a CD ROM drive a CD R RW drive a DVD ROM drive a tape drive of various formats and or a USB storage device may also provide mass storage for the host computer .

In one particular embodiment as depicted in the input output device is a sound card configured to generate a sound output the input output device is a visual display and the input output device is a transceiver for communicating with the remote computer over the networks A B.

As illustrated in the source lines and originating from the synthesizer module the digital to analog converter and the internal CD audio component respectively all connect to a destination speaker line . The destination speaker line is a local analog line output that connects to the speaker output component and that is configured to output sound generated by or originating from the synthesizer module the digital to analog converter or the internal CD audio component . In addition the source lines and also all connect to a loopback recording input line . The loopback recording input line is a local analog line output that connects to the analog to digital converter and thus to the recording module to enable the recording of sound generated by or originating from the synthesizer module the digital to analog converter or the internal CD audio component .

It will again be understood by those skilled in the art that are respectively exemplary illustrations of one embodiment of the host computer and of one embodiment of a possible a hardware layout for the sound card of the host computer and that are depicted as such for purposes of explanation. As such the depictions and descriptions of the host computer and of the hardware layout for the sound card are non limiting. It should also be noted that for its part the remote computer may be designed and implemented as described for the host computer or it may be implemented and designed differently.

With reference now to in one embodiment of a method for remote access for example using the system depicted in the host computer depicted in and the sound card depicted in sound output is generated at the host computer at step the presentation of the sound output is muted at the host computer at step without direct user intervention and the sound output is transmitted to the remote computer at step . Optionally prior to step the method may also include receiving a request for remote access at the host computer from the remote computer step . In addition the method may also optionally include transmitting the contents of the display of the host computer to the remote computer step presenting the transmitted sound output at the remote computer step displaying at the remote computer the contents of the display of the host computer step and or unmuting the presentation of the sound output at the host computer step .

In greater detail and with reference to a request for remote access is received at the host computer from the remote computer at step . In one embodiment the host computer automatically i.e. without user interaction polls the broker node to determine whether a remote computer is requesting remote access to the host computer . If not the host computer may continue to automatically poll the broker node for example every 15 seconds or another period of time to make the same determination until a remote computer does in fact request access to the host computer . When desiring remote access to the host computer the remote computer may transmit a message to the broker node indicating that it desires such access. The broker node may then transmit separate messages to both the host computer and the remote computer providing each of them with session co ordinates for an online communication session. The session co ordinates may indicate for example the intermediate node to which the host computer and the remote computer are to connect and may include identification password information for authenticating and establishing their respective connections to the intermediate node .

Upon receiving the session co ordinates for the online communication session the host computer and or remote computer may each be configured to automatically i.e. without user interaction establish and authenticate connections to the intermediate node . Alternatively the host computer and or remote computer may each require a user to input the identification password information in order to establish and authenticate each of their respective connections to the intermediate node . Once authenticated by the intermediate node the host computer and remote computer are each connected to the online communication session and may proceed to bi directionally communicate information with one another. For example a user at the remote computer may proceed to remotely run and execute an application program on the host computer .

In one embodiment at step the user at the remote computer remotely runs and executes on the host computer an application program that generates sound output through the sound card . More specifically the application program may generate a digital audio signal that is converted to an analog audio output signal by the digital to analog converter of the sound card . That sound output that is generated by the sound card of the host computer is routed to the speaker output component of the sound card via the destination speaker line . In addition that sound output is also routed to the recording module of the sound card via the loopback recording input line and the analog to digital converter of the sound card

In one embodiment however prior to the presentation of the sound output at the host computer i.e. prior to playing the sound output on the speakers local to the host computer the central processing unit of the host computer executes software stored in the main memory of the host computer to automatically mute at step the presentation of the sound output at the host computer . For example in one particular embodiment the central processing unit automatically invokes and employs the Windows Mixer Application Programming Interface API to mute the destination speaker line of the sound card . More specifically the Windows Mixer API may be employed to query the host computer to determine both the ID of the default playback device e.g. the sound card and the name of that device ID. The devices on the host computer system may then be enumerated until the default playback device e.g. the sound card is found. Once the sound card is found its lines may be enumerated until the destination speaker line is found. Finally the controls for the sound card may be enumerated until the appropriate control is found and the mute flag is set on that control. Accordingly sound is automatically i.e. without user intervention muted at the remotely accessed host computer .

The central processing unit may also at step execute software stored in the main memory to transmit to the remote computer the sound output generated by the sound card at the host computer . In one embodiment the central processing unit does so substantially simultaneously with the execution at step of the software for muting the presentation of the sound output generated by the sound card at the host computer . For example in one particular embodiment the central processing unit again employs the Windows Mixer API to detect and enable the loopback recording input line of the sound card . More specifically the Windows Mixer API may be employed to query the host computer to determine both the ID of the default playback device e.g. the sound card and the name of that device ID. Each device on the host computer system having a recording input may then be enumerated and each of the input names on the devices having a recording input may also be enumerated. The default device e.g. the sound card and the recording input e.g. the loopback recording input line from which the sound should be recorded may then be determined. Such a determination may be made by for example giving each combination of i device having a recording input and ii input name a score based on a whether the name of the device having a recording input matches the name of the device ID for the default playback device and b whether the input name matches the name of a known loopback recording input line. The combination of device having a recording input and input name having the best score e.g. the sound card and the loopback recording input line may then be selected as the device and recording input from which the sound will be recorded. Once for example the sound card and the loopback recording input line are so selected the devices on the host computer system may again be enumerated until the sound card is found and the lines on the sound card may again be enumerated until the loopback recording input line is found. Finally the controls for the sound card may be enumerated until the appropriate control is found and the active input flag for the loopback recording input line may then be set. Once the Windows Mixer API detects and enables the loopback recording input line of the sound card the sound output on the line may be recorded. More specifically in one embodiment the analog output signal transmitted in the line is converted to a digital signal by the digital to analog converter of the sound card and then recorded by the recording module . The recorded sound output may then be packetized compressed and transmitted to the remote computer via the transceiver of the host computer .

In one embodiment the remote execution of the application program on the host computer also generates visual data for output on the display of the host computer . In one embodiment the central processing unit of the host computer executes software stored in the main memory of the host computer to transmit at step the contents of the display to the remote computer . For example the central processing unit may cause the contents output on the display of the host computer to also be stored in the display memory of the host computer . The central processing unit may then packetize and compress the contents stored in the display memory and cause those contents to be transmitted to the remote computer via the transceiver of the host computer .

In one embodiment the contents of the host computer s display are transmitted to the remote computer via a channel different from that used to transmit the sound output at step . Alternatively in another embodiment the contents of the host computer s display and the sound output are interleaved and transmitted via the same channel. In either case both the sound output and the contents of the host computer s display may be transmitted in manner that permits the re synchronization of the sound output and the visual display data at the remote computer . For example instructions for re synchronizing the sound output and the visual display data may be transmitted to the remote computer . In still another embodiment when the detected bandwidth of the networks A B is insufficient to transmit both the sound output and the contents of the host computer s display only the contents of the host computer s display are transmitted to the remote computer .

Upon receiving the transmitted sound output at the remote computer the sound output may be presented thereat at step . For example the sound card present in the remote computer outputs the sound to speakers local to the remote computer . Similarly upon receiving at the remote computer the contents of the display of the host computer those contents may be displayed at the remote computer at step . For example the remote computer s central processing unit executes instructions that cause the remote computer s display to display those contents. Again the remote computer may execute instructions to present the sound output and the contents of the display of the host computer in proper synchronization with one another.

At some point the user of the remote computer may desire to terminate his remote connection to the host computer for example when he is finished remotely executing the application program on the host computer . At that stage the application program that was executing on the host computer is closed the communication session between the remote computer and host computer is terminated and the method proceeds to step where the central processing unit of the host computer executes software stored in the main memory of the host computer to unmute the presentation of the sound output at the host computer . For example in one particular embodiment the central processing unit employs the Windows Mixer API to unmute the destination speaker line of the sound card . Accordingly sound may again be presented at the host computer .

Accordingly in addition to other advantages the present invention is capable of automatically i.e. without user intervention muting the presentation of sound at the remotely accessed host computer while still transmitting such sound to the remote computer for presentation thereat. As such the user s experience is preserved at the remote computer but those in the vicinity of the host computer are not disturbed by sounds emanating therefrom.

It should also be noted that embodiments of the present invention may be provided as one or more computer readable programs embodied on or in one or more computer readable storage mediums. The computer readable storage medium may be a floppy disk a hard disk a CD ROM a flash memory card a PROM a RAM a ROM or a magnetic tape. In general the computer readable programs which may include instructions for a general purpose computer capable of generating sound output as described above may be implemented in any programming language. Some examples of languages that can be used include C C or JAVA. In addition the computer readable programs may be stored on or in the one or more computer readable storage mediums as object code.

Certain embodiments of the present invention were described above. It is however expressly noted that the present invention is not limited to those embodiments but rather the intention is that additions and modifications to what was expressly described herein are also included within the scope of the invention. Moreover it is to be understood that the features of the various embodiments described herein were not mutually exclusive and can exist in various combinations and permutations even if such combinations or permutations were not made express herein without departing from the spirit and scope of the invention. In fact variations modifications and other implementations of what was described herein will occur to those of ordinary skill in the art without departing from the spirit and the scope of the invention. As such the invention is not to be defined only by the preceding illustrative description.


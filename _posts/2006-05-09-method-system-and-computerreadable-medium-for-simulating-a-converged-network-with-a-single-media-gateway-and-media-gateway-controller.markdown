---

title: Method, system, and computer-readable medium for simulating a converged network with a single media gateway and media gateway controller
abstract: A method, system, and computer-readable medium for emulating a converged network are provided. A media gateway receives a call at a first interface of a first network type. The call is processed for distribution on a second network type. The processed call is transmitted to a second interface of a second network type. A service module of the media gateway receives the processed call.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07616740&OS=07616740&RS=07616740
owner: Santera Systems, LLC
number: 07616740
owner_city: Plano
owner_country: US
publication_date: 20060509
---
As wireless and wireline networks converge and network configurations become increasingly complicated realistic testing of end to end calls becomes more complicated and expensive. Networks may comprise any number of network entities that may and typically are manufactured by a wide variety of component manufacturers. Due to among other reasons the number of network components and network component costs deployment of suitable network components in a test environment for evaluating one or more network entities or functions becomes prohibitively expensive and impractical.

Call testing in modern telecommunication systems is particularly problematic due to the fact that network systems may comprise components that are manufactured by multiple vendors. Depending on the routing complexity of a test call deployment of a realistic test environment may be unfeasible. It is often prohibitively costly to acquire the requisite network components to realistically evaluate a particular network component or function.

It is to be understood that the following disclosure provides many different embodiments or examples for implementing different features of various embodiments. Specific examples of components and arrangements are described below to simplify the present disclosure. These are of course merely examples and are not intended to be limiting. In addition the present disclosure may repeat reference numerals and or letters in the various examples. This repetition is for the purpose of simplicity and clarity and does not in itself dictate a relationship between the various embodiments and or configurations discussed.

Apparatus is also connected to apparatus by a trunk or other transmission line . Apparatus is in turn connected to a plurality of residential telephones business PBXs digital loop carriers and or PSTN access networks hereafter collectively referred to as PSTN access networks although merely for the sake of simplicity by a corresponding plurality of loops which may each be substantially similar to one or more of loops . Thus any of the PSTN access networks may communicate with any of the PSTN access networks via apparatus and trunk and corresponding ones of loops and .

Apparatus may aggregate traffic from any number of telecommunication nodes such as apparatus and and thus may be implemented as a Class 4 switch. Apparatus may be implemented as a switching media gateway MGW for providing various switching services and media handling across various platforms. Accordingly apparatus may interface with one or more networks such as PSTN and packet network . Apparatus may provide both Class 4 and Class 5 switching services and thus may aggregate traffic from other network entities such as apparatus and and may provide switching services to termination points in networks and .

Additionally network may include a media gateway MGW to interconnect a radio access network RAN to one or more of access networks and PSTN and packet network . RAN may include a network controller not shown that is coupled with one or more base transceiver stations that provide an over the air interface with one or more wireless mobile terminals . Conventional communications may traverse any one or more of wireless wireline and packet networks and it is not uncommon for a call to cross all three types of networks.

Running test calls in a suitable test environment to evaluate new system components or functional upgrades of existing network infrastructure is often prohibitively expensive and may be practically unfeasible. For instance assume it is desired to run a test call for a call service evaluation that would simulate a call originated from a terminal of PSTN access network to a cellular telephone user terminated in RAN . In this instance a test environment would require PSTN access network infrastructure a Class 4 switching apparatus interfaced with another Class 4 or Class 5 switching apparatus and a wireless media gateway. It is readily apparent that the logistics and monetary costs of deploying such a test environment are undesirable. However deployment of a software package or product without thorough testing in a realistic network environment is undesirable.

In accordance with embodiments disclosed herein a mechanism for emulating a network for testing and performance modeling is provided. Network emulation mechanisms disclosed herein provide for significant cost savings and facilitate development of robust network components in an economically and logistically feasible manner. In another embodiment resources that are utilized for testing purposes do not require dedicated allocation for such purposes but rather may be shared with other applications. In other embodiments emulation mechanisms are provided that allow for testing a part of a network in a highly configurable way such that different network configurations and different call characteristics with varying attributes may be evaluated.

In particular a mechanism is provided for using a single media gateway and a gateway controller to emulate a wireless wireline and or packet network in accordance with embodiments disclosed herein. A single media gateway a media gateway controller and a network emulation and test driver module also referred to herein as a network emulator are used to emulate a converged network for testing calls call features and network performance characteristics. The media gateway is used to emulate a converged network by providing bearer connections between interfaces of different network types with termination ports of different bearer characteristics. A media gateway controller provides call behaviors and control messages to the media gateway to implement network emulation. The network emulator is responsible for driving the emulation of a converged network and for driving test calls through the emulated network.

In accordance with embodiments described herein normal call processing may be leveraged to trigger insertion of bearer connections with test specific bearer attributes during call test procedures. Moreover media gateway features may be tested in parallel with other test traffic and with normal call traffic processing by way of call evaluations performed by trigger based mechanisms. A media gateway may be used to emulate a converged network comprising multiple types of network components such as wireless wireline such as PSTN and packet such as Internet protocol IP network components.

In accordance with embodiments disclosed herein a media gateway may be configured to emulate a converged network to realistically test calls that emulate traversal across multiple media gateways of a converged network. Moreover any number of bearer connections with any bearer types and attributes may be applied to a test call thereby providing an efficient mechanism to verify features deployed on a media gateway without using third party MGC software. An arbitrary number of bearer connections with specific parameters may be inserted into a communications path that is otherwise conventionally allocated between two terminations across multiple media gateways. The insertion of bearer connections is triggered by the normal call processing function of a MGC when an originator s termination ID or other data element matches a TID or other data element allocated for test scenarios. A TID allocated for a test scenario may be referred to herein as a trigger termination or trigger TID. A test call comprises a trigger termination and a list or other data structure of bearer connections to be applied to the test call. Each bearer connection may be configured with specific bearer attributes.

Media gateway comprises a converged media gateway. As referred to herein a converged media gateway refers to a gateway adapted or otherwise configured to handle traffic signaling and or payload of a plurality of network types such as wireline packet and wireless traffic. To this end media gateway comprises three general interface card types packet wireline and wireless interface cards. In the illustrative example media gateway includes wireline e.g. PSTN interface I F cards packet interface cards and wireless interface cards the latter of which provides a packet interface to a wireless network

In the illustrative example media gateway comprises a switching media gateway adapted to provide switching services. To this end media gateway includes two switching matrixes . In the present example switching matrix comprises a TDM switching matrix and switching matrix comprises a packet switching matrix.

TDM switching matrix switches voice channels between TDM network interface cards and a service module . Packet switching matrix switches packet channels between packet interface cards such as interface cards and service module . Packet switching matrix may be implemented as an Ethernet or other packet switching fabric that may be capable of switching traffic between ports of packet capable interfaces such as ports of interface cards . In one exemplary implementation packet switching matrix may be implemented using a gigabit Ethernet switching fabric such as those manufactured by Broadcom Corporation or Marvel Technology Group Limited. The specific implementation for switching matrix may be selected based on design choice the number of ports required by media gateway or other factors.

Service module may comprise various functional modules for handling various types of data types and formats. For example service module may include various voice chips such as VoIP chips voice over ATM adaptation Layer 1 AAL1 chips and voice over AAL2 chips for processing of various voice data. For example a VoIP chip deployed on service module provides IP packetization of voice data and voice over AAL1 and AAL2 chips provide segmentation and reassembly functions of various voice formats to or from ATM cells. In addition each voice server includes digital signal processors e.g. voice transcoders or Codecs echo cancellers conference bridges etc. a time slot interconnection TSI and a central processing unit CPU . One or more voice chips may implement one or more VoIP protocols such as Real time Transmission Protocol RTP . In addition to various Codecs conference bridges echo cancellation functions service module may provide conversion between data in one packet format and data in another packet format and between non packetized e.g. TDM data to from a packet format.

Packet switch matrix may be connected to packet interfaces such as ATM and IP interfaces. Media gateway may be adapted to handle various packet formats. In the illustrative example media gateway is adapted to process packet data formatted in accordance with IP and ATM although other packet formats may be supported in lieu of or in addition to IP and ATM. The depiction of media gateway adapted to support IP and ATM formats is provided for illustrative purposes only and is chosen to facilitate an understanding of embodiments disclosed herein. IP network interfaces such as interface cards and each include functionality for sending and receiving media packets such as voice packets over IP. An interface of one packet format such as ATM or IP may be adapted to support connection to either a wireless or wireline network. For example IP interface card and are respectively adapted to connect to a wireline IP network and a wireless IP network.

A call generator generates a test call that is conveyed to termination point of media gateway . Call generator may for example be implemented as a telephone or other communication device communicatively coupled with media gateway . Call generator may be coupled with media gateway by a local loop or other suitable interconnection. The test call is then routed from termination point to termination point and in turn from termination point to termination point . In the illustrative example the test call is then routed to a call terminator . Thus the call origination from call generator routing between the various termination points and transmission of the call to a call terminator may emulate a call routed through three media gateway. Call terminator like call originator may be implemented as a telephone or other communication device communicatively coupled with media gateway . In this illustrative example a test call delivered from call generator to media gateway through termination points and to call terminator exhibits call characteristics and behaviors of a call that is routed through four distinct networks one emulated network between call generator and termination point of media gateway one emulated network represented by the outbound delivery of the test call from termination point to termination point one emulated network represented by the outbound delivery of the test call from termination point to termination point and a final emulated network represented by the outbound transmission of the test call from termination point to call terminator .

Any variety of bearer characteristics or services may be applied on a connection between termination points and a connection between termination points may be implemented in accordance with any network type supported by media gateway . In this manner receipt of a test call formatted according to one network type at a termination point and subsequent transmission of the call at the termination point or another termination point in a different network format provides for emulation of a call handoff from one network type e.g. from a wireless network to another network type e.g. to a packet network.

With reference now to a diagrammatic representation of an embodiment of media gateway depicted in is shown in a physical configuration for emulating a test call. In the present example media gateway is depicted in a configuration for emulating a call routed among four networks. Media gateway includes various interface cards . In the present example interface cards comprise wireline TDM interface cards interface cards comprise packet interfaces implemented as wireline ATM interface cards and interface cards comprise wireless IP interface cards. Media gateway may be equipped with any number of interface cards of various network transmission types and those shown are only illustrated to facilitate an understanding of embodiments disclosed herein.

In the illustrative example interface cards are connected with service module via an interconnect and interface cards are connected with service module via an interconnect . In a similar manner interface cards are connected with TDM switch matrix via a suitable interconnect and interface cards are connected with packet switch matrix via an interconnect . The configuration of interface cards and interconnects with service module and switch matrices and are illustrative only. For example each of interface cards may share a common interconnect with service module or alternatively each of interface cards may each have a respective interconnect with service module . Interconnects may be implemented as for example one or more internal buses deployed on a backplane of media gateway .

Interface cards may each include one or more respective physical ports . Interface cards may comprise a plurality of physical ports and a single port is shown on each of interface cards to simplify the illustration. Media gateway may be configured for a test call evaluation by coupling one or more ports of one or more interface cards to provide call feedback to media gateway . In the present example physical port of interface card is connected with physical port of interface card via a communication coupling such as a conductive cable. In a similar manner physical port of interface card is connected with physical port of interface card via a communication coupling .

A test call is generated by call generator and conveyed to media gateway . In the illustrative example a test call comprising a digital signal DS is generated by call generator and transmitted to media gateway via a communication medium such as a T carrier copper medium. The test call may be multiplexed on medium and thus may be assigned a particular logical designation or channel assignment. In the illustrative example the test call is carried on a channel allocated on medium with a channel designation of DS Group 1 . On receipt of the test call by media gateway at TDM interface card the test call may be conveyed to service module via interconnect . In the present example assume that media gateway processes the test call for transmission out media gateway over a cell relay wireline network. In this instance the test call may be encoded into ATM cells and thereafter conveyed to packet switch matrix . Assume packet switch matrix switches the ATM formatted test call to wireline ATM interface card for transmission out port . In the present example the ATM formatted test call is output with a designation of AAL2 Group 1 . In this instance the ATM formatted test call is fed back to port of wireline ATM interface card via coupling . Notably media gateway does not recognize the test call as associated or otherwise related to the ATM test call output from interface card . That is from the processing perspective of media gateway the test call that is fed back to media gateway at interface card appears to media gateway simply as an inbound call received over a packet network. In the present example the test call presented as inbound traffic at interface card via feedback coupling is designated AAL2 Group 2 .

The ATM formatted test call may then conveyed to service module via interconnect . Assume that media gateway processes the ATM formatted test call for transmission over a wireless IP network. In this instance the cells of the ATM formatted test call are reassembled and then packetized into a suitable packet format e.g. Internet Protocol IP packets. The packetized test call may thereafter be conveyed to packet switch matrix . Assume packet switch matrix switches the packetized test call to wireless IP interface card for transmission out port . In the present example the packetized test call transmitted out interface card has a designation IP Group 1 . In this instance the packetized test call is fed back to port of wireless IP interface card via feedback coupling . In a similar manner as that described for the ATM feedback media gateway does not recognize the inbound packetized test call received at interface card as associated or otherwise related to the test call output from interface card . The test call that is fed back to media gateway at interface card appears to media gateway simply as an inbound call received over a packet network. In the present example the test call presented as inbound IP traffic at interface card via feedback coupling is designated IP Group 2 . The packetized test call may then be conveyed to service module via interconnect

Assume that media gateway processes the packetized test call for transmission over a TDM network. In this instance the packets of the test call are reassembled and formatted for TDM transmission e.g. formatted into an 8 kHz voice frequency signal for transmission as a DS signal. The TDM test call is thereafter conveyed to TDM switch matrix . Assume TDM switch matrix switches the TDM test call to wireline TDM interface card for transmission out port . The TDM test call is then transmitted to call terminator via communication medium . In the illustrative example the TDM test call output from media gateway via interface card has a logical designation or channel assignment of DS Group 2 .

In the example described in processing of the test call emulates a call transmitted over four networks having three distinct network types. Particularly transmission of the test call from call generator to media gateway emulates a call transmission over a TDM network to a first media gateway. Subsequent transmission of the test call out wireline ATM interface card over coupling and to wireline ATM interface card emulates a call routed from the first media gateway to a second media gateway over a wireline ATM network. In a similar manner transmission of the test call from wireless IP interface card to wireless IP interface card via coupling emulates a call transmission from the second media gateway to a third media gateway over a wireless IP network. Transmission of the test call from TDM interface card to call terminator over communication medium emulates a call transmission from the third media gateway over a TDM network. Thus the configuration of media gateway depicted in provides for emulation of call transmission over a converged network including TDM ATM and wireless IP infrastructure.

Media gateway may be configured to emulate a converged network for call processing evaluation with minimal hardware adaptation. In the illustrative example media gateway is physically configured for the above described test call scenario by simply coupling ports of interface cards and . In this manner the test call supplied to media gateway for call processing evaluation appears to the media gateway hardware as any other normal call. That is media gateway processes and switches the test call in accordance with normal call switching mechanisms and is not aware that the test call is fed back to media gateway . For example when media gateway receives the test call at port from the feedback mechanism media gateway only recognizes the test call as incoming call at card and does not require any special hardware or software switching or processing adaptation for handling the test call. In a similar manner when media gateway receives the test call inbound at interface card media gateway treats the test call as a normal inbound call.

It should be understood that the particular media gateway configuration depicted in is illustrative only and other configurations of media gateway for emulating a converged network may be implemented. For example a feedback mechanism may be terminated at two ports of a common interface card thereby reducing the requisite hardware for emulating a converged network. In such a configuration a call may be transmitted out of a network interface card over a feedback coupling and subsequently received by the same interface card over the feedback coupling.

In other implementations a media gateway may not require a physical feedback mechanism for implementing one or more embodiments disclosed herein. For example multiple termination points may be specified for emulating a plurality of packet networks. In this instance a packetized test call may be conveyed from packet switch matrix to a packet interface card and the packet interface card may return the packetized test call to a VoIP chip of service module . The packetized test call may then be processed for transmission over another emulated packet network and may accordingly be transmitted to another or the same packet interface card. In this scenario two termination points and transmission of a call therebetween may be made on a single media gateway without the use of a physical feedback mechanism.

Each of the simulated media gateways and simulated wireline and wireless networks are emulated by the configuration of media gateway depicted in . Thus media gateway advantageously provides a realistic test environment of a converged network and provides an effective platform for call processing and routing evaluation.

In accordance with embodiments disclosed herein a configuration file or other data structure is associated with a call parameter such as a TID and defines a particular test call routing and bearer scenario. Test call triggers are defined to specify particular test call handling. For example a configuration file that defines the test call depicted and described in includes instructions that define contexts for each of the TDM ATM and IP call routes. In this manner any desired test call scenario may be defined in a configuration file and processed by media gateway assuming the test call scenario is compliant with the supported network type and protocol set capabilities of media gateway .

Subscriber profile module or a subscriber profile manager function may be configured to retrieve subscriber data for validation e.g. at call origination and termination. To this end subscriber profile module may interface with a subscriber database . Subscriber profile module may also or alternatively be configured to provide a framework for subscriber feature deployment and or an application programming interface API for efficient application development and deployment. An evolution path to off board advanced intelligent network AIN triggers may also or alternatively be provided by subscriber profile module . Subscriber profile module may be associated with subscriber database to directly retrieve subscriber and associated service feature information. Subscriber profile module may be located on a dedicated stand alone data processing system or may be integrated with additional functions or apparatus.

Call module or a call manager function may be configured to provide a generic trigger based state machine driven call model and to support distributed call processing. Call module may be independent of external physical signaling interfaces and protocols and may be configured to handle a variety of bearer traffic. In one embodiment a system or network may have a minimum of two instances of call manager to provide for call manager function fault tolerance. Some embodiments may not require or otherwise include a fixed association of a defined ratio between channels and the number of instances of call module . Call module may also or alternatively facilitate or otherwise support call traffic distribution across all in service processes or functions and or may be configured to provide or support call preservation e.g. through evaluation of critical call information at call ringing and stable call states. Call manager may be deployed on a dedicated stand alone processor or data processing system or alternatively may be integrated within a data processing system or telecommunications node that provides other functionality in addition to call manager functionality.

Signaling gateway module or a signaling gateway manager function may be configured to support Point Code operations and may also or alternatively be configured to provide or support fault tolerance. Signaling gateway module may comply with enable compliance with or otherwise support ITU standards ANSI signaling standards SIP Megaco H.248 and or other gateway control protocols. Signaling gateway module may be deployed on a dedicated stand alone processor or data processing unit or alternatively may be integrated with a data processing system or node that provides other functionality in addition to signaling gateway manager functions.

Facility manager may be configured to provide trunk and line allocation service for call processing handle non call associated signaling e.g. an ISUP BLO messaging and or process requests to remove trunks or lines from service due to faults or manual intervention. Facility manager may also or alternatively be configured to process requests regarding out of service trunks or lines and return the trunks or lines to service.

MGC manages one or more media gateways via any variety of standard protocols such as MEGCO Media Gateway Control or other standard or proprietary protocols. In addition MGC may be connected to one or more application servers to provide services like E911 CALEA and others. To facilitate emulation of a converged network with MGW network emulator may be deployed on MGC and may interface with a network emulation configuration file store . Network emulation configuration file store may include one or more configuration files that each respectively define a test call. For example configuration files may each define routing encoding transport and other characteristics of a particular test call scenario. Each of configuration files may be associated with or include a particular data element that facilitates recognition of a test call by MGC . In the present example each of configuration files each include or are otherwise associated with a respective TID illustratively designated TID a TID n .

In accordance with an embodiment a particular termination identifier TID referred to herein as a trigger TID may be allocated for test call purposes. Command monitor may monitor the TIDs of incoming calls. In the event that a TID of an incoming call matches a predefined trigger TID allocated for test purposes command monitor identifies the incoming call as a test call and may then invoke test call functions accordingly. As noted above another data element may be allocated for test call purposes and the description of a TID for use as a test call trigger invocation is provided to facilitate an understanding of embodiments disclosed herein.

Network emulator may include a control module that may be interfaced with command monitor . Additionally network emulator may include a command parser that is interfaced with control module . Command parser is additionally configured to retrieve a call configuration file CF from configuration file store and parse commands included in the retrieved configuration file. Configuration file store comprises a storage such as a database or file storage maintained on a hard disk memory device or other suitable storage medium that maintains a set of call configuration files . Each of configuration files may be associated with a particular test call routine. For example each of configuration files may include or otherwise be associated with a particular predefined TID or other suitable data element allocated to a test call scenario. Additionally command parser may be configured to translate commands contained in a configuration file into a format suitable for processing by call manager . Command parser may be interfaced with control module for transmitting parsed call commands and parameters thereto. Control module may be adapted to generate call control messages according to the call commands received thereby and transmit the generated call control messages to a media gateway.

Network emulator may be invoked independently or in conjunction with a MGC. In the latter case a command line interface parameter or other suitable mechanism may be configured for a user to invoke network emulator .

Each configuration file defines a set of connections between termination points within a media gateway though which a test call is to be conveyed behaviors of the test call during transmission across termination point connections and associated bearer parameters and service features. In this manner a configuration file defines end to end characteristics of the test call.

Configuring test call characteristics by way of configuration files provides for a highly flexible and configurable test call configuration mechanism as opposed to other options such as hard coding a call testing route. In this manner various network connections and conditions may be emulated by any variety of configuration files 

In accordance with an embodiment a configuration file may have a variable number of specifiers that each defines one aspect of a test call. The particular number of specifiers may depend on the particular test call scenario that is defined by the configuration file.

In one implementation the syntax of each specifier comprises a header with one or more parameters appended thereto. In an exemplary embodiment specifiers defined in a configuration file may include a mapping specifier a termination specifier and a media parameter specifier. Other specifiers such as an event specifier that defines event time outs may be included as well.

A mapping specifier defines a mapping between a physical and logical resource. In accordance with an embodiment the mapping specifier is denoted by a header M . The mapping specifier defines a logical to physical media gateway facility number mapping and in an exemplary implementation has the form M

A termination specifier defines a termination ID identifying a termination point at the media gateway for making a physical connection. In an exemplary embodiment the TID may comprises an interface type a group number such as a span number and a member number such as a channel number . The termination specifier may be denoted by a header T An exemplary termination specifier format is as follows T

Node is an optional parameter that comprises a value specifying a logical or physical media gateway node number. The If Type parameter value defines an interface type. Example parameter values of If Type may include DS IF AAL1 TRUNK IF AAL2 TRUNK IF VOIP TRUNK IF AAL2 IF UMTS AAL2 IF or any other suitable interface type. The Group parameter comprises a non zero integer value that specifies a link such as a T1 span number or other identifier. The Member parameter comprises a value selected from an available range e.g. 1 4 8 12 that may define a channel of the group. For example the Member parameter may define a channel number or the mechanism for channel selection. Exemplary Member parameter values may be defined as follows 0 the media gateway controller selects the test call channel 1 unspecified media gateway selects the test call channel 2 loopback use same channel as preceding termination 3 loopback use same channel as trigger termination

In accordance with one embodiment a first TID defined in a configuration file comprises the trigger TID for the configuration file and is allocated for test call purposes. If an origination termination ID matches the first TID defined in a configuration file test call procedures may be invoked and a test call is executed according to the configuration file. A TID allocated for test call purposes may comprise an If Type a Group and a Member of a configuration file. In the event that a call originator s TID matches a TID of a configuration file other terminations defined in the configuration file may be added to the call with parameters specified in the configuration file.

The media parameter specifier may define media bearer parameters. The media parameter specifier may include a header such as P . An exemplary media specifier format is as follows P where the Descriptor has one or more parameter values that may specify call descriptions such as LOCAL DESCR for local call description DS RX DESCR for a DS based call descriptor AVD RX DESCR UMTS RX DESCR UMTS CTM DESCR for UMTS and CTM call types TFO LOCAL DESCR other bearer characteristics service features and the like.

In one embodiment Descriptor parameter values may be specified in a particular order. Parenthetical values following an enumeration with a value may be ignored. If a parameter value is not present default 0 may be interpreted for the parameter value.

In accordance with an embodiment multiple test routes may be supported. Multiple routes may be separated or otherwise designated with a delimiter such as a or other suitable character. Additionally termination and media parameter specifiers may be delimited with a new line in the configuration file. Multiple media parameter specifiers may be specified per termination Identifier to support different control protocol descriptors.

An exemplary configuration file for emulating the test call discussed above with reference to is as follows 

Line numbers are included to facilitate a discussion of the exemplary configuration file. In the present example a mapping specifier M provided on Line 3 provides an association of a logical media gateway of 1 to a media gateway with a facility ID of 7 . In a similar manner a mapping specifier of M provided on Line 3 provides an association of a logical media gateway of 2 with a media gateway having a facility ID of 8 .

Next the configuration file includes various statements that define a first call context at lines 5 10. In the illustrative example Line 6 specifies that the test call is inbound on a DS interface on a link with a group number 3701 . The termination specifier member parameter value 0 indicates that the media gateway controller selects the test call channel. The termination specifier parameters DS IF 3701 and 0 comprise a trigger TID that is allocated for test call purposes and a match between the trigger TID defined by the termination specifiers of Line 6 in the example configuration file with a call originator s TID results in invocation of test call procedures described herein in accordance with an embodiment. The termination specifier of Line 8 specifies that the test call is to be routed out of the media gateway on an ATM interface with a group value 9 and that the particular channel on which the test call is to be transmitted outbound from the media gateway is to be selected by the media gateway controller. Lines 8 10 define media parameter specifiers that define various media bearer parameters or characteristics of the test call for transmission outbound from the trigger termination. In the present example the media parameter specifier of the first test call context specifies that the test call is to be transmitted in accordance with the UMTS standard and various characteristics thereof. First and second termination points specified by respective termination specifiers of lines 6 and 7 and the bearer characteristics specified by lines 8 10 provide for configuration of a connection between the two termination points and thus provide for emulation of a connection between two networks namely a TDM and ATM network.

Next the configuration file includes various statements that define a second call context at lines 11 16. In the illustrative example the second call context comprises an inbound ATM call to voice over IP VoIP as specified at line 11. Line 12 specifies that the test call is inbound on an ATM interface with a group number 10 . The termination specifier member parameter value 2 indicates that the inbound test call channel of the second call context is the same as the previous termination. That is the termination specifier member parameter indicates that the ATM test call is fed back on the same channel as the outbound ATM test call of the first termination. The termination specifier of Line 13 specifies that the test call is to be routed out of the media gateway having a node number 1 on a VoIP trunk interface with a group number 2700 and that the particular channel on which the test call is to be transmitted outbound from the media gateway is to selected by the media gateway. Lines 14 16 include media parameter specifiers that define various media bearer parameters of the test call for transmission outbound from the media gateway. In the present example the media parameter specifier of the second test call context specifies that the test call is to be transmitted in accordance with the UMTS standard and various characteristics thereof. Termination points specified by respective termination specifiers of lines 12 and 13 and the bearer characteristics specified by lines 14 16 provide for configuration of a connection between the two termination points and thus provide for emulation of a connection between two networks in this instance an ATM network and a wireless packet network.

Next the configuration file includes various statements that define a third call context at lines 17 24. In the illustrative example the third call context comprises an inbound VoIP to outbound TDM call as specified at line 17. Line 18 specifies that the test call is inbound to the media gateway having a node number of 2 on a VoIP interface with a group number 2900 . The termination specifier member parameter value 1 indicates that the inbound test call channel of the second call context is selected by the media gateway. Lines 19 24 define various media parameter specifiers that define various media bearer parameters of the UMTS test call.

Returning again to step in the event that the call originator s TID is evaluated as matching a predefined TID allocated for a test call network emulator may then generate call control messages according to the configuration file identified as having a TID that matches the call originator s TID step and the control messages are then sent to media gateway step .

The media gateway on receipt and processing of the control messages may proceed with call set up including connecting with a particular port of a network interface specified in the configuration file providing a dial tone and ringing signals as required by the call and may perform other set up functions required to set up the call. The media gateway may then send a connection status message to the media gateway controller. On receipt of the connection status by network emulator step network emulator may begin monitoring for call termination. For example network emulator may evaluate whether a user action such as an on hook event that terminates the test call has occurred step . If a user action that terminates the test call is identified the test call procedure may terminate according to step . If no user action that terminates the test call is identified at step network emulator may evaluate whether processing of the test call has completed step . If the test call has not completed the emulation routine may return to evaluate whether a user action has occurred that terminates the test call according to step . Otherwise the emulation routine may end according to step .

The flowcharts of depict process serialization to facilitate an understanding of disclosed embodiments and are not necessarily indicative of the serialization of the operations being performed. In various embodiments the processing steps described in may be performed in varying order and one or more depicted steps may be performed in parallel with other steps. Additionally execution of some processing steps of may be excluded without departing from embodiments disclosed herein. The illustrative block diagrams and flowcharts depict process steps or blocks that may represent modules segments or portions of code that include one or more executable instructions tangibly embodied on a computer readable medium for implementing specific logical functions or steps in the process. Although the particular examples illustrate specific process steps or procedures many alternative implementations are possible and may be made by simple design choice. Some process steps may be executed in different order from the specific description herein based on for example considerations of function purpose conformance to standard legacy structure user interface design and the like.

As described herein a system method and computer readable medium for emulation of a converged network with a single media gateway are provided. In one embodiment a method for emulating a converged network includes assigning a first termination point of a media gateway with characteristics of a first network and assigning a second termination point of the media gateway with characteristics of a second network. A connection between the first and second termination points is configured and a call is transmitted from the first termination point to the second termination point. In this manner the connection between the two termination points emulates a connection between two networks. In accordance with another embodiment a method of emulating a converged network comprises receiving by a media gateway a call at a first interface of a first network type. The call is processed for distribution on a second network type. The processed call is transmitted to a second interface of a second network type. A service module of the media gateway receives the processed call. In accordance with another embodiment a method of emulating a converged network comprising receiving by a media gateway controller a call set up message is provided. A data element associated with the call set up message is obtained and a determination of whether the data element is allocated for a test call is made. A configuration file associated with the data element is retrieved that specifies one or more parameters of the test call. Call control messages are generated according to the configuration file and the call control messages are transmitted to a media gateway. In accordance with another embodiment a system for emulating a converged network is provided. The system includes a media gateway controller having a call generator and a network emulator respectively implemented as computer executable instructions wherein the call generator generates a call that is transmitted by the media gateway controller. The system includes a media gateway adapted to switch communications among a plurality of network types and is communicatively coupled with the media gateway controller. The media gateway is configured with a plurality of network interfaces and may have a feedback mechanism for conveying the call from the media gateway back to the media gateway. In accordance with another embodiment a computer readable medium having computer executable instructions for execution by a processing system for facilitating converged network emulation is provided. The computer readable medium comprises instructions that monitor for a test event and instructions that responsive to detection of a test event invoke a test call procedure. Instructions read a configuration file associated with the test event and instructions generate one or more call control messages from the configuration file. The call control messages may then be transmitted to a media gateway.

Advantageously a mechanism for implementing flexible test call evaluations is provided in which a single media gateway may be used for emulating a converged network. Implementations of embodiments disclosed herein provide effective emulation of call transmissions across a plurality of network types via a single media gateway. Any variety of call scenarios including call transmissions across a plurality of network types may be defined by respective configuration files and realistic testing of the call scenarios may be made with a single media gateway. Accordingly a realistic test environment may be implemented with minimal network components.

Aspects of the present invention may be implemented in software hardware firmware or a combination thereof. The various elements of the system either individually or in combination may be implemented as a computer program product tangibly embodied in a machine readable storage device for execution by a processing unit. Various steps of embodiments of the invention may be performed by a computer processor executing a program tangibly embodied on a computer readable medium to perform functions by operating on input and generating output. The computer readable medium may be for example a memory a transportable medium such as a compact disk a floppy disk or a diskette such that a computer program embodying the aspects of the present invention can be loaded onto a computer. The computer program is not limited to any particular embodiment and may for example be implemented in an operating system application program foreground or background process driver network stack or any combination thereof executing on a single computer processor or multiple computer processors. Additionally various steps of embodiments of the invention may provide one or more data structures generated produced received or otherwise implemented on a computer readable medium such as a memory.

Although embodiments of the present disclosure have been described in detail those skilled in the art should understand that they may make various changes substitutions and alterations herein without departing from the spirit and scope of the present disclosure. Accordingly all such changes substitutions and alterations are intended to be included within the scope of the present disclosure as defined in the following claims.


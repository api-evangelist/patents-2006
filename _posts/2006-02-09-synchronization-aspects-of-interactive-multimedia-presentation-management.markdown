---

title: Synchronization aspects of interactive multimedia presentation management
abstract: Methods and systems for determining a total elapsed play time of an interactive multimedia presentation having a play duration, a video content component, and an interactive content component include identifying two time intervals within the play duration. During the first interval, no video is scheduled for presentation, and a first elapsed play time of the presentation is measured based on a first timing signal. During the second interval, a video (which may include video, audio, data, or any combination thereof) is scheduled for presentation, and a second elapsed play time is measured based on a second timing signal. During the first interval, the total elapsed play time is determined using the first elapsed play time, and during the second interval, it is determined using the second elapsed play time. The total elapsed play time is usable to provide frame-accurate synchronization between the interactive content component and the video content component.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08020084&OS=08020084&RS=08020084
owner: Microsoft Corporation
number: 08020084
owner_city: Redmond
owner_country: US
publication_date: 20060209
---
This application claims the benefit of provisional application No. 60 695 944 filed Jul. 1 2005 which is incorporated by reference herein.

Multimedia players are devices that render combinations of video audio or data content multimedia presentations for consumption by users. Multimedia players such as DVD players currently do not provide for much if any user interactivity during play of video content video content play is generally interrupted to receive user inputs other than play speed adjustments. For example a user of a DVD player must generally stop the movie he is playing to return to a menu that includes options allowing him to select and receive features such as audio commentary actor biographies or games.

Interactive multimedia players are devices such devices may include hardware software firmware or any combination thereof that render combinations of interactive content concurrently with traditional video audio or data content interactive multimedia presentations . Although any type of device may be an interactive multimedia player devices such as optical media players for example DVD players computers and other electronic devices are particularly well positioned to enable the creation of and consumer demand for commercially valuable interactive multimedia presentations because they provide access to large amounts of relatively inexpensive portable data storage.

Interactive content is generally any user selectable visible or audible object presentable alone or concurrently with other video audio or data content. One kind of visible object is a graphical object such as a circle that may be used to identify and or follow certain things within video content people cars or buildings that appear in a movie for example. One kind of audible object is a click sound played to indicate that the user has selected a visible object such as the circle using a device such as a remote control or a mouse. Other examples of interactive content include but are not limited to menus captions and animations.

To enhance investment in interactive multimedia players and interactive multimedia presentations it is desirable to ensure accurate synchronization of the interactive content component of interactive multimedia presentations with the traditional video audio or data content components of such presentations. Accurate synchronization generally prioritizes predictable and glitch free play of the video audio or data content components. For example when a circle is presented around a car in a movie the movie should generally not pause to wait for the circle to be drawn and the circle should follow the car as it moves.

It will be appreciated that the claimed subject matter is not limited to implementations that solve any or all of the disadvantages of specific interactive multimedia presentation systems or aspects thereof.

In general an interactive multimedia presentation includes one or more of the following a predetermined play duration a video content component and an interactive content component. The video content component is referred to as a movie for exemplary purposes but may in fact be video audio data or any combination thereof. The video content component is arranged for rendering by a video content manager. The video content manager receives the video content component from a particular source such as from an optical medium or another source at a rate that is based on a timing signal such as a clock signal. The rate of the timing signal may vary based on the play speed of the video content the movie may be paused slow forwarded fast forwarded slow reversed or fast reversed for example.

The interactive content is arranged for rendering by an interactive content manager at a rate based on another timing signal such as another clock signal. The rate of the timing signal is generally continuous unaffected by the play speed of the video content component.

Methods systems apparatuses and articles of manufacture that determine a total elapsed play time also referred to as the title time of the predetermined play duration are discussed herein. The total elapsed play time is usable to ensure synchronization between the interactive content component and the video content component of the interactive multimedia presentation.

Two types of time intervals within the play duration are identified. A first type of time interval is one in which no video content is scheduled for presentation. The time interval preceding a movie when copyright notices are displayed is an example of the first type of time interval. During the first type of time interval a partial elapsed play time of the interactive multimedia presentation is measured using a time reference calculator for example based on the timing signal used to render the interactive content component. When the presentation is played during the first type of time interval the total elapsed play time is determined using this measured partial elapsed play time.

A second type of time interval is one in which video content is scheduled for presentation. Sometimes more than one video may be scheduled for presentation such as a main movie and a picture in picture movie . Often but not always interactive content such as the circle is also scheduled for presentation during the second type of time interval. During the second type of time interval another partial elapsed play time of the interactive multimedia presentation is measured based on the timing signal used to coordinate the rate at which the video content is received from the video source. This rate is based on the play speed of the presentation. When the presentation is played during the second type of time interval the total elapsed time is determined using this measured partial elapsed time. Thus the value of the total elapsed play time reflects what is happening during playing of the video content component.

Using the value of the total elapsed play time to synchronize operation of the video content manager and the interactive content manager enhances frame accurate synchronization between the interactive content component and the video content component of the interactive multimedia presentation.

This Summary is provided to introduce a selection of concepts in a simplified form. The concepts are further described in the Detailed Description section. Elements or steps other than those described in this Summary are possible and no element or step is necessarily required. This Summary is not intended to identify key features or essential features of the claimed subject matter nor is it intended for use as an aid in determining the scope of the claimed subject matter.

Turning to the drawings where like numerals designate like components is a simplified functional block diagram of an interactive multimedia presentation system Presentation System . Presentation System includes an audio video content AVC manager an interactive content IC manager a presentation manager a timing signal management block and a mixer renderer . In general design choices dictate how specific functions of Presentation System are implemented. Such functions may be implemented using hardware software or firmware or combinations thereof.

In operation Presentation System handles interactive multimedia presentation content Presentation Content . Presentation Content includes a video content component video component and an interactive content component IC component . Video component and IC component are generally but need not be handled as separate data streams by AVC manager and IC manager respectively.

Presentation System also facilitates presentation of Presentation Content to a user not shown as played presentation . Played Presentation represents the visible and or audible information associated with Presentation Content that is produced by mixer renderer and receivable by the user via devices such as displays or speakers not shown . For discussion purposes it is assumed that Presentation Content and played presentation represent high definition DVD movie content in any format. It will be appreciated however that Presentation Content and Played Presentation may be any type of interactive multimedia presentation now known or later developed.

Video component represents the traditional video audio or data components of Presentation Content . For example a movie generally has one or more versions a version for mature audiences and a version for younger audiences for example one or more titles with one or more chapters not shown associated with each title titles are discussed further below in connection with presentation manager one or more audio tracks for example the movie may be played in one or more languages with or without subtitles and extra features such as director s commentary additional footage trailers and the like. It will be appreciated that distinctions between titles and chapters are purely logical distinctions. For example a single perceived media segment could be part of a single title chapter or could be made up of multiple titles chapters. It is up to the content authoring source to determine the applicable logical distinctions. It will also be appreciated that although video component is referred to as a movie video component may in fact be video audio data or any combination thereof.

The video audio or data that forms video component originates from one or more media sources for exemplary purposes two media sources are shown within A V manager . A media source is any device location or data from which video audio or data is derived or obtained. Examples of media sources include but are not limited to networks hard drives optical media alternate physical disks and data structures referencing storage locations of specific video audio or data.

Groups of samples of video audio or data from a particular media source are referred to as clips shown within video component AVC manager and playlist . Referring to AVC manager information associated with clips is received from one or more media sources and decoded at decoder blocks . Decoder blocks represent any devices techniques or steps used to retrieve renderable video audio or data content from information received from a media source . Decoder blocks may include encoder decoder pairs demultiplexers or decrypters for example. Although a one to one relationship between decoders and media sources is shown it will be appreciated that one decoder may serve multiple media sources and vice versa.

Audio video content data A V data is data associated with video component that has been prepared for rendering by AVC manager and transmitted to mixer renderer . Frames of A V data generally include for each active clip a rendering of a portion of the clip. The exact portion or amount of the clip rendered in a particular frame may be based on several factors such as the characteristics of the video audio or data content of the clip or the formats techniques or rates used to encode or decode the clip.

IC component includes media objects which are user selectable visible or audible objects optionally presentable concurrently with video component along with any instructions shown as applications and discussed further below for presenting the visible or audible objects. Media objects may be static or animated. Examples of media objects include among other things video samples or clips audio samples or clips graphics text and combinations thereof.

Media objects originate from one or more sources not shown . A source is any device location or data from which media objects are derived or obtained. Examples of sources for media objects include but are not limited to networks hard drives optical media alternate physical disks and data structures referencing storage locations of specific media objects. Examples of formats of media objects include but are not limited to portable network graphics PNG joint photographic experts group JPEG moving picture experts group MPEG multiple image network graphics MNG audio video interleave AVI extensible markup language XML hypertext markup language HTML and extensible HTML XHTML .

Applications provide the mechanism by which Presentation System presents media objects to a user. Applications represent any signal processing method or stored instruction s that electronically control predetermined operations on data. It is assumed for discussion purposes that IC component includes three applications which are discussed further below in connection with . The first application presents a copyright notice prior to the movie the second application presents concurrently with visual aspects of the movie certain media objects that provide a menu having multiple user selectable items and the third application presents one or more media objects that provide graphic overlays such as circles that may be used to identify and or follow one or items appearing in the movie a person a car a building or a product for example .

Interactive content data IC data is data associated with IC component that has been prepared for rendering by IC manager and transmitted to mixer renderer . Each application has an associated queue not shown which holds one or more work items not shown associated with rendering the application.

Presentation manager which is configured for communication with both AVC manager and IC manager facilitates handling of Presentation Content and presentation of played presentation to the user. Presentation manager has access to a playlist . Playlist includes among other things a time ordered sequence of clips and applications including media objects that are presentable to a user. The clips and applications media objects may be arranged to form one or more titles . For exemplary purposes one title is discussed herein. Playlist may be implemented using an extensible markup language XML document or another data structure.

Presentation manager uses playlist to ascertain a presentation timeline for title . Conceptually presentation timeline indicates the times within title when specific clips and applications are presentable to a user. A sample presentation timeline which illustrates exemplary relationships between presentation of clips and applications is shown and discussed in connection with . In certain circumstances it is also useful to use playlist and or presentation timeline to ascertain a video content timeline video timeline and an interactive content timeline IC timeline .

Presentation manager provides information including but not limited to information about presentation timeline to AVC manager and IC manager . Based on input from presentation manger AVC manager prepares A V data for rendering and IC manager prepares IC data for rendering.

Timing signal management block produces various timing signals which are used to control the timing for preparation and production of A V data and IC data by AVC manager and IC manager respectively. In particular timing signals are used to achieve frame level synchronization of A V data and IC data . Details of timing signal management block and timing signals are discussed further below in connection with .

Mixer renderer renders A V data in a video plane not shown and renders IC data in a graphics plane not shown . The graphics plane is generally but not necessarily overlayed onto the video plane to produce played presentation for the user.

With continuing reference to is a graphical illustration of a sample presentation timeline for title within playlist . Time is shown on horizontal axis . Information about video component clips are illustrated and IC component applications which present media objects are illustrated is shown on vertical axis . Two clips are shown a first video clip video clip and a second video clip video clip . For discussion purposes as mentioned above in connection with it is assumed that a first application is responsible for presenting one or more media objects for example images and or text that comprise copyright notice . A second application is responsible for presenting certain media objects that provide user selectable items for example buttons with associated text or graphics of menu . A third application is responsible for presenting one or more media objects that provide graphic overlay . Menu is displayed concurrently with video clip and video clip and graphic overlay is displayable concurrently with video clip and menu .

The particular amount of time along horizontal axis in which title is presentable to the user is referred to as play duration of title . Specific times within play duration are referred to as title times. Four title times TTs are shown on presentation timeline TT TT TT and TT . Because a title may be played once or may be played more than once in a looping fashion for example play duration is determined based on one iteration of title . Play duration may be determined with respect to any desired reference including but not limited to a predetermined play speed for example normal or 1 play speed a predetermined frame rate or a predetermined timing signal status. Play speeds frame rates and timing signals are discussed further below in connection with . It will be appreciated that implementation specific factors such as encoding techniques display techniques and specific rules regarding play sequences and timing relationships among clips and media objects for each title may impact upon exact values of a title s play duration and title times therein. The terms play duration and title times are intended to encompass all such implementation specific details. Although title times at within which content associated with IC component is presentable are generally predetermined it will be appreciated that actions taken when the user interacts with such content may only be determined based on user input while Played Presentation is playing. For example the user may select activate or deactivate certain applications media objects and or additional content associated therewith during play of Played Presentation .

Other times and or durations within play duration are also defined and discussed herein. Video presentation intervals are defined by beginning and ending times of play duration between which particular content associated with video component is playable. For example video clip has a presentation interval between title times TT and TT and video clip has a presentation interval between title times TT and TT . Application presentation intervals application play durations page presentation intervals and page durations are also defined and discussed below in connection with .

With continuing reference to two types of time intervals are present within play duration . A first type of time interval is one in which video component is not scheduled for presentation. Time interval the time preceding presentation of the movie when copyright notice is displayed is an example of the first type of time interval. Although the application that presents copyright notice is scheduled for presentation during time interval it will be appreciated that it is not necessary for an application to be scheduled for presentation during the first type of time interval.

A second type of time interval is one in which video component is scheduled for presentation. Time interval and time interval are examples of the second type of time interval. Sometimes more than one video may be scheduled for presentation during the second type of time interval. Often but not always interactive content is presentable during the second type of time interval. For example in time interval menu and graphic overlay are scheduled for presentation concurrently with video clip . In time interval menu is scheduled for concurrent presentation with video clip and video clip .

With continuing reference to is a functional block diagram of a single application . Application is generally representative of applications responsible for presenting media objects and . Application includes instructions discussed further below . Application has associated therewith a resource package data structure discussed further below an application play duration and one or more application presentation intervals .

Application play duration is a particular amount of time with reference to an amount a part or all of play duration within which media objects associated with application are presentable to and or selectable by a recipient of played presentation . In the context of for example application responsible for copyright notice has an application play duration composed of the amount of time between TT and TT . The application responsible for menu has an application play duration composed of the amount of time between TT and TT . The application responsible for graphical overlay has an application play duration composed of the amount of time between TT and TT .

The intervals defined by beginning and ending title times obtained when an application play duration associated with a particular application is conceptualized on presentation timeline are referred to as application presentation intervals . For example the application responsible for copyright notice has an application presentation interval beginning at TT and ending at TT the application responsible for menu has an application presentation interval beginning at TT and TT and the application responsible for graphic overlay has an application presentation interval beginning at TT and TT .

Referring again to in some cases application may have more than one page. A page is a logical grouping of one or more media objects that are contemporaneously presentable within a particular application play duration and or application presentation interval . Media objects associated with a particular page however may be presented concurrently serially or a combination thereof. As shown an initial page has associated initial media object s and subsequent pages have associated media object s . Each page in turn has its own page duration. As shown initial page has page duration and subsequent page s has page duration . A page duration is the particular amount of time with reference to an amount a part or all of application play duration in which media objects associated with a particular page are presentable to and or selectable by a user. The intervals defined by beginning and ending title times obtained when a page play duration associated with a particular page is conceptualized on the presentation timeline are referred to as page presentation intervals . Page presentation intervals are sub intervals of application presentation intervals . Specific media object presentation intervals may also be defined within page presentation intervals .

The number of applications and pages associated with a given title and the media objects associated with each application or page are generally logical distinctions that are matters of design choice. Multiple pages may be used when it is desirable to manage for example limit the number or amount of resources associated with an application that are loaded into memory during execution of the application. Resources for an application include the media objects used by the application as well as instructions for rendering the media objects. For example when an application with multiple pages is presentable it may be possible to only load into memory only those resources associated with a currently presentable page of the application.

Resource package data structure is used to facilitate loading of application resources into memory prior to execution of the application. Resource package data structure references memory locations where resources for that application are located. Resource package data structure may be stored in any desirable location together with or separate from the resources it references. For example resource package data structure may be disposed on an optical medium such a high definition DVD in an area separate from video component . Alternatively resource package data structure may be embedded into video component . In a further alternative the resource package data structure may be remotely located. One example of a remote location is a networked server. Topics relating to handling the transition of resources for application execution and between applications are not discussed in detail herein.

Referring again to application itself instructions when executed perform tasks related to rendering of media objects associated with application based on user input. One type of user input or a result thereof is a user event. User events are actions or occurrences initiated by a recipient of played presentation that relate to IC component . User events are generally but not necessarily asynchronous. Examples of user events include but are not limited to user interaction with media objects within played presentation such as selection of a button within menu or selection of the circle associated with graphical overlay . Such interactions may occur using any type of user input device now known or later developed including a keyboard a remote control a mouse a stylus or a voice command. It will be appreciated that application may respond to events other than user events but such events are not specifically discussed herein.

In one implementation instructions are computer executable instructions encoded in computer readable media discussed further below in connection with . In the examples set forth herein instructions are implemented using either script or markup elements . Although either script or markup elements may be used alone in general the combination of script and markup elements enables the creation of a comprehensive set of interactive capabilities for the high definition DVD movie.

Script includes instructions written in a non declarative programming language such as an imperative programming language. An imperative programming language describes computation in terms of a sequence of commands to be performed by a processor. In most cases where script is used the script is used to respond to user events. Script is useful in other contexts however such as handling issues that are not readily or efficiently implemented using markup elements alone. Examples of such contexts include system events and resource management for example accessing cached or persistently stored resources . In one implementation script is ECMAScript as defined by ECMA International in the ECMA 262 specification. Common scripting programming languages falling under ECMA 262 include JavaScript and JScript. In some settings it may be desirable to implement using a subset of ECMAScript 262 such as ECMA 327 along with a host environment and a set of application programming interfaces.

Markup elements and represent instructions written in a declarative programming language such as Extensible Markup Language XML . In XML elements are logical units of information defined using start tags and end tags within XML documents. XML documents are data objects that are made up of storage units called entities also called containers which contain either parsed or unparsed data. Parsed data is made up of characters some of which form character data and some of which form markup. Markup encodes a description of the document s storage layout and logical structure. There is one root element in an XML document no part of which appears in the content of any other element. For all other elements the start tags and end tags are within the content of other elements nested within each other.

An XML schema is a definition of the syntax es of a class of XML documents. One type of XML schema is a general purpose schema. Some general purpose schemas are defined by the World Wide Web Consortium W3C . Another type of XML schema is a special purpose schema. In the high definition DVD context for example one or more special purpose XML schemas have been promulgated by the DVD Forum for use with XML documents in compliance with the DVD Specifications for High Definition Video. It will be appreciated that other schemas for high definition DVD movies as well as schemas for other interactive multimedia presentations are possible.

At a high level an XML schema includes 1 a global element declaration which associates an element name with an element type and 2 a type definition which defines attributes sub elements and character data for elements of that type. Attributes of an element specify particular properties of the element using a name value pair with one attribute specifying a single element property.

Content elements which may include user event elements are used to identify particular media object elements presentable to a user by application . Media object elements in turn generally specify locations where data defining particular media objects is disposed. Such locations may be for example locations in persistent local or remote storage including locations on optical media or on wired or wireless public or private networks such as on the Internet privately managed networks or the World Wide Web. Locations specified by media object elements may also be references to locations such as references to resource package data structure . In this manner locations of media objects may be specified indirectly.

Timing elements are used to specify the times at or the time intervals during which particular content elements are presentable to a user by a particular application . Examples of timing elements include par timing or seq elements within a time container of an XML document.

Style elements are generally used to specify the appearance of particular content elements presentable to a user by a particular application.

User event elements represent content elements timing elements or style elements that are used to define or respond to user events.

Markup elements and have attributes that are usable to specify certain properties of their associated media object elements media objects . In one implementation these attributes properties represent values of one or more clocks or timing signals discussed further below in connection with . Using attributes of markup elements that have properties representing times or time durations is one way that synchronization between IC component and video component is achieved while a user receives played presentation .

A sample XML document containing markup elements is set forth below script is not shown . The sample XML document includes style and timing elements for performing a crop animation on a content element which references a media object element called id. The location of data defining media object associated with the id media object element is not shown.

The sample XML document begins with a root element called xml. Following the root element several namespace xmlns fields refer to locations on the World Wide Web where various schemas defining the syntax for the sample XML document and containers therein can be found. In the context of an XML document for use with a high definition DVD movie for example the namespace fields may refer to websites associated with the DVD Forum.

One content element referred to as id is defined within a container described by tags labeled body. Style elements elements under the label styling in the example associated with content element id are defined within a container described by tags labeled head. Timing elements elements under the label timing are also defined within the container described by tags labeled head. 

With continuing reference to is a simplified functional block diagram illustrating various components of timing signal management block and timing signals in more detail.

Timing signal management block is responsible for the handling of clocks and or timing signals that are used to determine specific times or time durations within Presentation System . As shown a continuous timing signal is produced at a predetermined rate by a clock source . Clock source may be a clock associated with a processing system such as a general purpose computer or a special purpose electronic device. Timing signal produced by clock source generally changes continually as a real world clock would within one second of real time clock source produces at a predetermined rate one second worth of timing signals . Timing signal is input to IC frame rate calculator A V frame rate calculator time reference calculator and time reference calculator .

IC frame rate calculator produces a timing signal based on timing signal . Timing signal is referred to as an IC frame rate which represents the rate at which frames of IC data are produced by IC manager . One exemplary value of the IC frame rate is frames per second. IC frame rate calculator may reduce or increase the rate of timing signal to produce timing signal .

Frames of IC data generally include for each valid application and or page thereof a rendering of each media object associated with the valid application and or page in accordance with relevant user events. For exemplary purposes a valid application is one that has an application presentation interval within which the current title time of play duration falls based on presentation timeline . It will be appreciated that an application may have more than one application presentation interval. It will also be appreciated that no specific distinctions are made herein about an application s state based on user input or resource availability.

A V frame rate calculator also produces a timing signal timing signal based on timing signal . Timing signal is referred to as an A V frame rate which represents the rate at which frames of A V data are produced by AVC manager . The A V frame rate may be the same as or different from IC frame rate . One exemplary value of the A V frame rate is 24 frames per second. A V frame rate calculator may reduce or increase the rate of timing signal to produce timing signal .

A clock source produces timing signal which governs the rate at which information associated with clips is produced from media source s . Clock source may be the same clock as clock or based on the same clock as clock source . Alternatively clocks and may be altogether different and or have different sources. Clock source adjusts the rate of timing signal based on a play speed input . Play speed input represents user input received that affects the play speed of played presentation . Play speed is affected for example when a user jumps from one part of the movie to another referred to as trick play or when the user pauses slow forwards fast forwards or slow reverses or fast reverses the movie. Trick play may be achieved by making selections from menu shown in or in other manners.

Time references represent the amounts of time that have elapsed within particular presentation intervals associated with active clips . For purposes of discussion herein an active clip is one that has a presentation interval within which the current title time of play duration falls based on presentation timeline . Time references are referred to as elapsed clip play time s . Time reference calculator receives time references and produces a media time reference . Media time reference represents the total amount of play duration that has elapsed based on one or more time references . In general when two or more clips are playing concurrently only one time reference is used to produce media time reference . The particular clip used to determine media time reference and how media time reference is determined based on multiple clips is a matter of implementation preference.

Time reference calculator receives timing signal media time reference and play speed input and produces a title time reference . Title time reference represents the total amount of time that has elapsed within play duration based on one or more of the inputs to time reference calculator . An exemplary method for calculating title time is shown and described in connection with .

Time reference calculator receives timing signal and title time reference and produces application time reference s and page time reference s . A single application time reference represents an amount of elapsed time of a particular application play duration shown and discussed in connection with with reference to continuous timing signal . Application time reference is determined when title time reference indicates that the current title time falls within application presentation interval of the particular application. Application time reference re sets for example becomes inactive or starts over at the completion of application presentation interval . Application time reference may also re set in other circumstances such as in response to user events or when trick play occurs.

Page time reference represents an amount of elapsed time of a single page play duration also shown and discussed in connection with with reference to continuous timing signal . Page time reference for a particular page of an application is determined when title time reference indicates that the current title time falls within an applicable page presentation interval . Page presentation intervals are sub intervals of application presentation intervals . Page time reference s may re set at the completion of the applicable page presentation interval s . Page time reference may also re set in other circumstances such as in response to user events or when trick play occurs. It will be appreciated that media object presentation intervals which may be sub intervals of application presentation intervals and or page presentation intervals are also definable.

Table 1 illustrates exemplary occurrences during play of played presentation by Presentation System and the effects of such occurrences on application time reference page time reference title time reference and media time reference .

The movie begins playing when the timing signal has a value of zero. When the timing signal has a value of 10 the application becomes valid and activates. Application time as well as page time associated with page one of the application assumes a value of zero. Pages two and three are inactive. Title time and media time both have values of 10.

Page two of the application loads at timing signal value . The application time and page one time have values of 5 while the title time and the media time have values of 15.

Page three of the application loads when the timing signal has a value of 20. The application time has a value of 10 page two time has a value of 5 and page one time is inactive. The title time and the media time have values of 20.

The movie pauses at timing signal value . The application time has a value of 12 page three time has a value of two and pages one and two are inactive. The title time and media time have values of 22. The movie resumes at timing signal value . Then the application time has a value of 14 page three time has a value of four and the title time and media time have values of 22.

At timing signal value a new clip starts. The application time has a value of 17 page three time has a value of 7 the title time has a value of 25 and the media time is re set to zero.

A user de activates the application at timing signal value . The application time has a value of 22 the page time has a value of 12 the title time has a value of 30 and the media time has a value of 5.

At timing signal value the user jumps backwards to another portion of the same clip. The application is assumed to be valid at the jumped to location and re activates shortly thereafter. The application time has a value of 0 page one time has a value of zero the other pages are inactive the title time has a value of 27 and the media time has a value of 2.

At timing signal value the user changes the play speed of the movie fast forwarding at two times the normal speed. Fast forwarding continues until timing signal value . As shown the application and page times continue to change at a constant pace with the continuous timing signal unaffected by the change in play speed of the movie while the title and media times change in proportion to the play speed of the movie. It should be noted that when a particular page of the application is loaded is tied to title time and or media time see discussion of application presentation interval s and page presentation interval s in connection with .

At timing signal value a new title begins and title time and media time are re set to values of zero. With respect to the initial title this occurs when the title time has a value of 62 and the media time has a value of 36. Re setting not shown of application time and page time follows re setting of title time and media time .

Having access to various timelines clock sources timing signals and timing signal references enhances the ability of Presentation System to achieve frame level synchronization of IC data and A V data within played presentation and to maintain such frame level synchronization during periods of user interactivity.

With continuing reference to is a flowchart of one method for enhancing the ability of an interactive multimedia presentation system such as Presentation System to synchronously present interactive and video components of an interactive multimedia presentation such as IC component and video component of Presentation Content played presentation . The method involves using two different timing signals to measure the total elapsed play time represented by title time of at least a portion of a play duration such as play duration of the presentation.

The method begins at block and continues at block where a non video time interval within the play duration of the presentation is identified. A non video time interval is one in which video component is not scheduled for presentation. Although video component may not be scheduled for presentation it will be appreciated that other video video data associated with applications for example may be scheduled for presentation.

One way in which the non video time interval may be identified is with reference to play duration on presentation timeline which is ascertained from a playlist for the presentation such as playlist . Referring for exemplary purposes to time interval which is the time interval preceding the movie when the application responsible for displaying copyright notice is valid is a non video time interval. Time interval is defined between title time TT and TT . Although an application is scheduled for presentation during time interval it will be appreciated that it is not necessary for an application to be scheduled for presentation during a non video time interval.

Referring again to at block during the non video time interval a first elapsed play time is measured using a continuous timing signal. The first elapsed play time is a partial elapsed play time of play duration . The first elapsed play time represented by title time may be calculated by time reference calculator using timing signal .

A video time interval within the play duration of the presentation is identified at block . A video time interval is one in which video component is scheduled for presentation. It will be appreciated that video component may include video audio data or any combination thereof and does not only represent visual information. In the exemplary presentation timeline shown in time interval and time interval are both video time intervals. More than one clip may be scheduled for presentation during a video time interval. When more than one clip is presentable within a particular video time interval when both a main movie and a picture in picture movie are playing for example a particular clip is deemed to be the main clip. Generally though not necessarily the main movie is deemed to be the main clip. Although interactive content is also presentable during time intervals and interactive content need not be presentable during a video time interval.

Referring again to at block during the video time interval a second elapsed play time is measured using a timing signal that is based on the play speed of the presentation. Like the first elapsed play time the second elapsed play time is also a partial elapsed play time of play duration represented by title time shown in . The second elapsed play time may be calculated by time reference calculator using media time reference . Media time reference is based indirectly on timing signal produced by clock source . The manner in which media time reference is based indirectly on timing signal is illustrated as follows clock source adjusts the rate of timing signal based on play speed input clips are retrieved from media sources based on timing signal and elapsed clip play times are received by time reference calculator which produces a media time reference based on the elapsed clip play times . Alternatively time reference calculator may use timing signal directly to calculate title time .

When played presentation proceeds during a video time interval as indicated at diamond and subsequent box of the total elapsed play time title time is determined using the second elapsed play time. In this manner the value of the total elapsed play time reflects and prioritizes what is happening during play of video component . If there is a problem or delay associated with reading clips from media sources for example one or more elapsed clip play times would pause and title time would also pause. IC component which includes applications having application presentation intervals based on title time is accordingly allowed to remain synchronized with presentation of video component . In the example of a moving car that is being followed by graphical overlay the circle would move with the car even when there are problems or delays with reading footage of the car from media sources .

If as indicated at diamond and subsequent box played presentation proceeds during a non video time interval the total elapsed play time title time is determined using the first elapsed play time. Accordingly during the non video time interval accurate advancement of played presentation is achieved by calculating title time based on a continuous timing signal such as timing signal .

It is desirable to recognize the transition from one type of time interval to another at least one unit of title time in advance of the transition to facilitate accurate calculation of title time based on either the play speed based timing signal timing signal and or media time reference or the continuous timing signal timing signal . For example prior to transition from a non video interval to a video interval the first frame of A V data e.g. the first frame of the main video clip to be presented in the video interval could be prepared for rendering. Then the first frame of A V data would be presentable at the title time when it is scheduled for presentation based on presentation timeline . Likewise prior to transition from a video interval to a non video interval the first frame if IC data could be pre rendered.

With continuing reference to is a flowchart of another method for enhancing the ability of an interactive multimedia presentation system such as Presentation System to synchronously present interactive and video components of an interactive multimedia presentation such as IC component and video component of Presentation Content played presentation . The method involves accessing clock sources and forming various time references.

In the context of Presentation System Presentation Content played presentation has play duration . IC component includes application having instructions for rendering one or more media objects . Application has application play duration that in the context of play duration is represented by application presentation interval . Video component includes one or more clips .

The method begins at block and continues at block where a first timing signal is produced based on the play speed of the presentation. In the context of Presentation System timing signal is produced by clock source which adjusts the rate of timing signal based on play speed input .

At block a second timing signal is produced at a continuous predetermined rate. In the context of Presentation System timing signal is produced by clock source .

A title time reference is formed at block . In the context of Presentation System time reference calculator forms title time reference by measuring an elapsed play time of play duration based on timing signal . Title time reference may be based indirectly on timing signal produced by clock source as discussed in connection with . Alternatively title time reference may be based directly on timing signal or another timing signal based on play speed input . Media time reference is input to time reference calculator to form title time reference .

At diamond it is determined whether the title time is within the application presentation interval. When the title time is not within the application presentation interval the application is deemed inactive at block . If the title time is within the application presentation interval then the application is valid as discussed above. In the context of Presentation System when title time reference falls within an applicable application presentation interval the associated application is deemed valid.

At diamond it is further determined whether application resources for example resources referenced by resource package data structure are loaded. If necessary resource loading is performed at block . In the context of Presentation System prior to playing a particular application such as when the application initially becomes valid or when the application becomes valid based on a change in the play speed of the presentation after trick play for example resources for application are loaded into a memory such as a file cache. Resources include media objects associated with the application as well as instructions for rendering the media objects. Media objects and instructions for a particular application are collectively referred to as a resource package. As discussed in connection with resource package data structure references storage locations of elements of a particular application s resource package. Resource package data structure may be embedded into video component and read directly from the video component rather than having to seek out of the video content stream to locate application resources. Alternatively resources may be embedded directly within the video stream or loaded from a separate application package located on an optical medium for example .

Referring again to the flowchart of an application time reference is formed at block . The application time reference is formed by measuring an elapsed play time of the application play duration based on the second timing signal. In the context of Presentation System when title time reference falls within application presentation interval application time reference is formed. Time reference calculator produces application time reference based on timing signal . At the completion of application presentation interval application time reference re sets for example becomes inactive or starts over . Application time reference may also re set in other circumstances such as when trick play occurs.

At diamond it is determined whether the current elapsed play time is within an applicable page presentation interval and if so a page time reference is formed at block . The page time reference is formed by measuring an elapsed play time of the applicable page play duration based on the second timing signal timing signal . If the current elapsed play time is not within an applicable page presentation interval the applicable page is deemed inactive at block . In the context of Presentation System when title time reference falls within an applicable page presentation interval page time reference is formed.

Application and page time references may re set when application presentation intervals end or in other circumstances such as in response to user events or play speed inputs . For example after trick play assuming title time is within application presentation interval application and page time references as applicable may re start at zero or another starting value .

At block an instruction is associated with a media object. In the context of Presentation System one type of instruction is instruction associated with application . Instruction represents one or more declarative language data structures such as XML markup elements or attributes thereof used alone or in combination with script to reference states of one or more clocks or timing signals for the purpose of establishing times at or time durations within which media object s are rendered. Markup elements within content containers timing containers or style containers may refer to or have one or more attributes that refer to timing signal or timing signal .

Elements and attributes thereof can refer to timing signal and or timing signal directly or indirectly. For example timing signal may be referred to indirectly via clock source IC frame rate calculator A V frame rate calculator application time or page time . Likewise timing signal may be referred to indirectly via clock source elapsed clip play time s time reference calculator media time reference time reference calculator or title time reference for example.

In one example one or more attributes may be defined in special purpose XML schemas such as XML schemas for use with certain high definition DVD movies. One example of such an attribute is referred to herein as a clock attribute which is defined by one or more XML schemas promulgated by the DVD Forum for use with XML documents in compliance with the DVD Specifications for High Definition Video. The clock attribute is usable with various elements in content timing or style containers to refer directly or indirectly to timing signal or timing signal . In another example the par timing or seq elements within a time container may refer to or may have one or more attributes that refer to timing signal or timing signal . In this manner markup elements within timing containers of XML documents may be used to define media object presentation intervals with reference to both page time and title time. In yet another example timer elements may also be defined that can be used by an application to be notified when some specific duration has elapsed. In a further example user events and other types of events may be defined by times linked to different time scales. Times or time intervals for which a particular event is valid may be established by referring to timing signal or timing signal .

Expressions involving logical references to clocks timing signals time reference calculators and or time references may also be used to define conditions for presenting media objects using elements or attributes of elements in XML documents. For example Boolean operands such as AND OR and NOT along with other operands or types thereof may be used to define such expressions or conditions.

As indicated at diamond and block the media object is rendered when based on the instruction the time for rendering the media object is reached. It will be appreciated that a media object is not always rendered because user input may dictate whether and when the media object is rendered.

In the context of Presentation System during execution of a particular application a document object model DOM tree not shown associated with the application maintains the context for the state of the markup elements and a script host not shown associated with the application maintains the context for the script s variables functions and other states. As execution of application instructions progresses and user input is received the properties of any affected elements are recorded and may be used to trigger behavior of media objects within played presentation . It can be seen that synchronization between interactive and video components of Presentation Content played presentation is achieved based on one or more clocks outside of the DOM rather than clocks associated with the DOM.

Work items not shown resulting from execution of instructions are placed in queue s not shown and are performed at a rate provided by IC frame rate . IC data resulting from performance of work items is transmitted to renderer mixer . Mixer renderer renders IC data in the graphics plane to produce the interactive portion of played presentation for the user.

The processes illustrated in may be implemented in one or more general multi purpose or single purpose processors such as processor discussed below in connection with . Unless specifically stated the methods described herein are not constrained to a particular order or sequence. In addition some of the described method or elements thereof can occur or be performed concurrently.

A processor is responsive to computer readable media and to computer programs . Processor which may be a real or a virtual processor controls functions of an electronic device by executing computer executable instructions. Processor may execute instructions at the assembly compiled or machine level to perform a particular process. Such instructions may be created using source code or any other known computer program design tool.

Computer readable media represent any number and combination of local or remote devices in any form now known or later developed capable of recording or storing computer readable data such as the instructions executable by processor . In particular computer readable media may be or may include a semiconductor memory such as a read only memory ROM any type of programmable ROM PROM a random access memory RAM or a flash memory for example a magnetic storage device such as a floppy disk drive a hard disk drive a magnetic drum a magnetic tape or a magneto optical disk an optical storage device such as any type of compact disk or digital versatile disk a bubble memory a cache memory a core memory a holographic memory a memory stick or any combination thereof.

Computer programs represent any signal processing methods or stored instructions that electronically control predetermined operations on data. In general computer programs are computer executable instructions implemented as software components according to well known practices for component based software development and encoded in computer readable media such as computer readable media . Computer programs may be combined or distributed in various ways.

Functions components described in the context of Presentation System are not limited to implementation by any specific embodiments of computer programs. Rather functions are processes that convey or transform data and may generally be implemented by or executed in hardware software firmware or any combination thereof located at or accessed by any combination of functional elements of Presentation System .

With continued reference to is a block diagram of an exemplary configuration of an operating environment in which all or part of Presentation System may be implemented or used. Operating environment is generally indicative of a wide variety of general purpose or special purpose computing environments. Operating environment is only one example of a suitable operating environment and is not intended to suggest any limitation as to the scope of use or functionality of the system s and methods described herein. For example operating environment may be a type of computer such as a personal computer a workstation a server a portable device a laptop a tablet or any other type of electronic device such as an optical media player or another type of media player now known or later developed or any aspect thereof. Operating environment may also be a distributed computing network or a Web service for example. A specific example of operating environment is an environment such as a DVD player or an operating system associated therewith which facilitates playing high definition DVD movies.

As shown operating environment includes or accesses components of computing unit including processor computer readable media and computer programs . Storage includes additional or different computer readable media associated specifically with operating environment such as an optical disc which is handled by optical disc drive . One or more internal buses which are well known and widely available elements may be used to carry data addresses control signals and other information within to or from computing environment or elements thereof.

Input interface s provide input to computing environment . Input may be collected using any type of now known or later developed interface such as a user interface. User interfaces may be touch input devices such as remote controls displays mice pens styluses trackballs keyboards microphones scanning devices and all types of devices that are used input data.

Output interface s provide output from computing environment . Examples of output interface s include displays printers speakers drives such as optical disc drive and other disc drives and the like.

External communication interface s are available to enhance the ability of computing environment to receive information from or to transmit information to another entity via a communication medium such as a channel signal a data signal or a computer readable medium. External communication interface s may be or may include elements such as cable modems data terminal equipment media players data storage devices personal digital assistants or any other device or component combination thereof along with associated network support devices and or software or interfaces.

On client side one or more clients which may be implemented in hardware software firmware or any combination thereof are responsive to client data stores . Client data stores may be computer readable media employed to store information local to clients . On server side one or more servers are responsive to server data stores . Like client data stores server data stores may be computer readable media employed to store information local to servers .

Various aspects of an interactive multimedia presentation system that is used to present interactive content to a user synchronously with audio video content have been described. An interactive multimedia presentation has been generally described as having a play duration a variable play speed a video component and an IC component. It will be understood however that all of the foregoing components need not be used nor must the components when used be present concurrently. Functions components described in the context of Presentation System as being computer programs are not limited to implementation by any specific embodiments of computer programs. Rather functions are processes that convey or transform data and may generally be implemented by or executed in hardware software firmware or any combination thereof.

Although the subject matter herein has been described in language specific to structural features and or methodological acts it is also to be understood that the subject matter defined in the claims is not necessarily limited to the specific features or acts described above. Rather the specific features and acts described above are disclosed as example forms of implementing the claims.

It will further be understood that when one element is indicated as being responsive to another element the elements may be directly or indirectly coupled. Connections depicted herein may be logical or physical in practice to achieve a coupling or communicative interface between elements. Connections may be implemented among other ways as inter process communications among software processes or inter machine communications among networked computers.

The word exemplary is used herein to mean serving as an example instance or illustration. Any implementation or aspect thereof described herein as exemplary is not necessarily to be constructed as preferred or advantageous over other implementations or aspects thereof.

As it is understood that embodiments other than the specific embodiments described above may be devised without departing from the spirit and scope of the appended claims it is intended that the scope of the subject matter herein will be governed by the following claims.


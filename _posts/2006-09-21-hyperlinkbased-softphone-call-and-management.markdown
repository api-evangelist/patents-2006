---

title: Hyperlink-based softphone call and management
abstract: A hyperlink is added to user interface code to provide a user with an easy way to access various functions of a communication application. The hyperlink can provide target telephone numbers in different formats, specify a web page to be displayed during a call, specify rules to be used to identify a telephone number from a set of telephone numbers, and include commands to manage the communication application.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07817792&OS=07817792&RS=07817792
owner: Microsoft Corporation
number: 07817792
owner_city: Redmond
owner_country: US
publication_date: 20060921
---
This application claims the benefit of U.S. Provisional Application 60 746 367 SoftPhone With Simplified Calling filed on May 4 2006 by Lon Chan Chu Pitak Leelaphisut and Praveen Kumar Vemparala incorporated herein by reference in its entirety.

Voice over Internet Protocol VOIP is a technology that allows users to make telephone calls using a broadband Internet connection instead of a traditional telephone line. Some services using VOIP may only allow users to call other people who are also using VOIP. However many services also allow users to call anyone who has a telephone number including local long distance mobile and international numbers. While some services only work over a computer or a special VOIP phone other services allow use of a traditional telephone through an adaptor.

To encourage the use of VOIP technology providers have sought ways to make VOIP more convenient and efficient to use. One attempt to encourage the use of VOIP includes the use of hyperlinks. Developers of VOIP applications have implemented technology that allows providers of content to include hyperlinks in the content. Users can initiate telephone calls by executing e.g. selecting the hyperlink. However the use of these hyperlinks has been limited. For example some hyperlinks only provide the user with the ability to initiate a telephone call to a preset telephone number.

Even with the hyperlinks the user typically will still need to perform manual steps for many administrative functions. Additionally some telephone numbers may only be valid during certain time periods. Outside the time periods the hyperlink will not be useful because the target telephone number is not valid.

The technology described herein facilitates the use of a communication application with the introduction of a new hyperlink.

A hyperlink is added to user interface code to provide a user with an easy way to access various functions of a communication application. The hyperlink can provide target telephone numbers in different formats specify a web page or other content to be displayed during a call specify rules to be used to identify a telephone number from a set of telephone numbers and include commands to manage the communication application.

One embodiment includes receiving a selection of a link in a first interface establishing a voice connection based on the link accessing content over a network based on the link and presenting the content while the voice connection is operational. Another embodiment includes receiving information from a link selected in a first interface accessing a command in the information and executing the command using a voice communication application. Another embodiment includes receiving a selection of a link in a first interface accessing a rule referenced in the link choosing a communication target based on evaluating the rule and establishing communication with the target using a communication interface.

The technology described herein can be implemented using hardware software or a combination of both hardware and software. The software used is stored on one or more processor readable storage devices including hard disk drives CD ROMs DVDs optical disks floppy disks tape drives RAM ROM flash memory or other suitable storage devices. This software can be used to program one or more processors to perform the functions described herein. In alternative embodiments some or all of the software can be replaced by dedicated hardware including custom integrated circuits gate arrays FPGAs PLDs and special purpose computers. An exemplar apparatus that can perform the functions described herein includes one or more processors in communication with a storage device and a communication interface.

This Summary is provided to introduce a selection of concepts in a simplified form that are further described below in the Detailed Description. This Summary is not intended to identify key features or essential features of the claimed subject matter nor is it intended to be used as an aid in determining the scope of the claimed subject matter.

The technology described herein facilitates the use of a communication application with a hyperlink. One or more of the hyperlinks are added to user interface code to provide a user with an easy way to access various functions of a communication application. The hyperlink can provide target telephone numbers in different formats specify a web page to be displayed during a call specify rules to be used to identify a telephone number from a set of telephone numbers and include commands to manage the communication application. For example an advertisement in a web page may include a hyperlink to initiate a telephone call to a store and to cause the user s browser to simultaneously navigate to the web page for that store.

Browser includes plug in URL Moniker and LiveCall Handler . Plug in is a software module that is loaded by and running in the browser. When a web page is loaded a browser calls a browser plug in to perform a function. When a user hovers on a text string Browser calls browser plug in to process the text string. URL Moniker receives URLs that are in code implementing a user interface within Browser and looks up the appropriate protocol handler for these URLs. LiveCall Handler is one example of a protocol handler. As discussed above one aspect of the technology described herein is a new hyperlink. This hyperlink is referred to as a LiveCall hyperlink. LiveCall Handler is the protocol handler for the LiveCall hyperlink.

SoftPhone includes Authentication Manager which is a software module that authenticates users prior to using SoftPhone . In some embodiments Authentication Manager also verifies that a user is authorized to perform the actions requested by the user. shows Authentication Manager in communication with plug in and LiveCall Handler .

After a user is authenticated Authentication Manager will pass control to parser or another module. Parser is a software module that parses a URL into various components. Parser will communicate these components to Signal and Voice Engine Business Intelligence Presentation Logic and Hyperlink Redirector .

Signal and Voice Engine which is also in communication with Authentication Manager provides the engine for initiating and maintaining a VOIP telephone call. Signal and Voice Engine is in communication with Address Book . In one embodiment Address Book stores contact information for various people associated with the user. Address Book can be part of a personal information management application or a data store that is dedicated to SoftPhone .

Business Intelligence is a data store which stores information about the use of SoftPhone for Business Intelligence applications. Presentation Logic provides a user interface for SoftPhone . Hyperlink Redirector can be used to redirect either Presentation Logic or Browser based on a command or information in a URL. In one embodiment Hyperlink Redirector is in communication with Browser .

The technologies described herein are operational with numerous general purpose or special purpose computing system environments or configurations. Examples of well known computing systems environments and or configurations that may be suitable for use include but are not limited to personal computers server computers hand held or laptop devices personal digital assistants telephones wired wireless or cellular multiprocessor systems microprocessor based systems set top boxes programmable consumer electronics network PCs minicomputers mainframe computers distributed computing environments that include any of the above systems or devices and the like.

The system may be described in the general context of computer executable instructions such as program modules being executed by a computer. Generally program modules include routines programs objects components data structures etc. that perform particular tasks or implement particular abstract data types. The system may also be implemented in distributed computing environments where tasks are performed by remote processing devices that are linked through a communications network. In a distributed computing environment program modules may be located in both local and remote computer storage media including memory storage devices.

With reference to an exemplary system includes a general purpose computing device in the form of computer . Components of computer may include but are not limited to a processing unit which can include multiple processors a system memory and a system bus that couples various system components including the system memory to the processing unit . The system bus may be any of several types of bus structures including a memory bus or memory controller a peripheral bus and a local bus using any of a variety of bus architectures. By way of example and not limitation such architectures include Industry Standard Architecture ISA bus Micro Channel Architecture MCA bus Enhanced ISA EISA bus Video Electronics Standards Association VESA local bus and Peripheral Component Interconnect PCI bus also known as Mezzanine bus.

Computer typically includes a variety of computer readable media. Computer readable media can be any available media that can be accessed by computer and includes both volatile and nonvolatile media removable and non removable media. By way of example and not limitation computer readable media may comprise computer storage media and communication media. Computer storage media includes both volatile and nonvolatile removable and non removable media implemented in any method or technology for storage of information such as computer readable instructions data structures program modules or other data. Computer storage media includes but is not limited to RAM ROM EEPROM flash memory or other memory technology CD ROM digital versatile disks DVD or other optical disk storage magnetic cassettes magnetic tape magnetic disk storage or other magnetic storage devices or any other medium which can be used to store the desired information and which can accessed by computer . Communication media typically embodies computer readable instructions data structures program modules or other data. By way of example and not limitation communication media includes wired media such as a wired network or direct wired connection. Combinations of the any of the above should also be included within the scope of computer readable media.

The system memory includes computer storage media in the form of volatile and or nonvolatile memory such as read only memory ROM and random access memory RAM . A basic input output system BIOS containing the basic routines that help to transfer information between elements within computer such as during start up is typically stored in ROM . RAM typically contains data and or program modules that are immediately accessible to and or presently being operated on by processing unit . By way of example and not limitation illustrates operating system application programs other program modules and program data .

The computer may also include other removable non removable volatile nonvolatile computer storage media. By way of example only illustrates a hard disk drive that reads from or writes to non removable nonvolatile magnetic media a magnetic disk drive that reads from or writes to a removable nonvolatile magnetic disk and an optical disk drive that reads from or writes to a removable nonvolatile optical disk such as a CD ROM or other optical media. Other removable non removable volatile nonvolatile computer storage media that can be used in the exemplary operating environment include but are not limited to magnetic tape cassettes flash memory cards digital versatile disks digital video tape solid state RAM solid state ROM and the like. The hard disk drive is typically connected to the system bus through a non removable memory interface such as interface and magnetic disk drive and optical disk drive are typically connected to the system bus by a removable memory interface such as interface .

The drives and their associated computer storage media discussed above and illustrated in provide storage of computer readable instructions data structures program modules and other data to program the processor s to perform the methods described herein. In for example hard disk drive is illustrated as storing operating system application programs other program modules and program data . Note that these components can either be the same as or different from operating system application programs other program modules and program data . Operating system application programs other program modules and program data are given different numbers here to illustrate that at a minimum they are different copies. A user may enter commands and information into the computer through input devices such as a keyboard and pointing device commonly referred to as a mouse trackball or touch pad. Other input devices not shown may include a microphone joystick game pad satellite dish scanner or the like. These and other input devices are often connected to the processing unit through a user input interface that is coupled to the system bus but may be connected by other interface and bus structures such as a parallel port game port or a universal serial bus USB . A monitor or other type of display device is also connected to the system bus via an interface such as a video interface . In addition to the monitor computers may also include other peripheral output devices such as speakers and printer which may be connected through a output peripheral interface .

Computer may operate in a networked environment using logical connections to one or more remote computers such as a remote computer . Remote computer may be a personal computer a server a router a network PC a peer device or other common network node and typically includes many or all of the elements described above relative to the computer although only a memory storage device has been illustrated in . The logical connections depicted in include a local area network LAN and a wide area network WAN but may also include other networks. Such networking environments are commonplace in offices enterprise wide computer networks intranets and the Internet.

When used in a LAN networking environment computer is connected to LAN through a network interface or adapter . When used in a WAN networking environment computer typically includes a modem network interface or other means for establishing communications over the WAN such as the Internet. The modem which may be internal or external may be connected to the system bus via the user input interface or other appropriate mechanism. In a networked environment program modules depicted relative to the computer or portions thereof may be stored in the remote memory storage device. By way of example and not limitation illustrates remote application programs as residing on memory device . It will be appreciated that the network connections shown are exemplary and other means of establishing a communications link between the computers may be used.

The technology described herein makes use of a new hyperlink the LiveCall hyperlink. The LiveCall hyperlink allows an application developer to specify an extensible address for placing a VOIP call from a web page or application. The types of calls include PC to Phone call and a PC to PC call. The PC to Phone call originates from a PC and terminates at a telephone including a fixed line telephone or a mobile phone. The PC to PC call includes voice video and optional text chat. This call originates from a PC and also terminates at a PC. The types of target addresses in a LiveCall hyperlink include a telephone number a contact e.g. a contact in an address book a computer name e.g. JohnDoe PC or an IP address e.g. 124.38.110.25 .

The syntax for a LiveCall hyperlink is LiveCall . To make a call to a telephone number the following parameters can be used 

To make a call to a computer the following parameters can be used 1 Online an online presence ID and 2 Host a computer name or an IP address. Some examples include 

The LiveCall hyperlink can be used to execute a command. The command in LiveCall will be prefixed with a question mark The following are examples of commands 

The source parameter Src in a LiveCall hyperlink indicates the source context where this LiveCall hyperlink is clicked or executed. This information is useful for business intelligence. The source parameter can be combined with other parameters. Parameters in a LiveCall hyperlink are concatenated by the sign. Consider the following examples 

One feature of the LiveCall hyperlink is to make a telephone call and browse a designated web site at the same time. This may be important for example for commercial calls to allow the customer to view the order information online. Consider the following examples 

The LiveCall hyperlink allows for calling rules that select a telephone number based on the calling rule. The syntax of the rule is either a sequential list of telephone numbers or a condition with two lists of phone numbers 

In step LiveCall Handler will pass the URL to SoftPhone . In one embodiment the URL is initially passed to Authentication Manager . If the user is not authenticated step then Authentication Manager will authenticate the user. In one embodiment this will include providing a log in screen where the user can provide a username and password. If the user does not properly authenticate the process of will terminate. After authenticating the user Authentication Manager will verify whether the user is authorized to perform the function identified in the hyperlink in step . Note that if the user was previously authenticated see step then step will be skipped and the process will proceed to step to determine whether the user is authorized.

In step the URL representing the hyperlink e.g. LiveCall Contact JohnDoe hotmail.com Rule time 8 00 am time

In step Signaling and Voice Engine will establish a voice connection if the hyperlink includes a command for a voice connection to be established based on the URL. In step Presentation Logic will display a corresponding interface for the command in the hyperlink. In step the Hyperlink Redirector will redirect according to the hyperlink. If the command in the hyperlink is to access or otherwise manage an account then in step Hyperlink Redirector redirects the user to a particular management page within the user interface for SoftPhone or Browser and the command is executed. This redirection may include a cross domain authentication. That is if the user is already authenticated via SoftPhone then the user will not need to authenticate a second time. In one example a cross domain authentication credential is created and that credential will be provided to the management application or management page so that the user will be authenticated and will not need to type in another password. In step if the command in the hyperlink is to make a telephone call Hyperlink Redirector will redirect the hyperlink without any cross domain authentication credential step .

The hyperlink can include a telephone number and a web site address. Hyperlink Redirector will cause Browser to show the target web site associated with the address included in the hyperlink. This web site will be provided to the user during the telephone call e.g. step via the browser or the user interface for the SoftPhone. In some embodiments the web site will be loaded concurrently with the establishment of the telephone call or shortly thereafter.

Prior to operation a LiveCall protocol handler needs to be registered. Two implementations are possible for registering a protocol handler. One is to register the protocol handler with Windows Shell. The other is to register the protocol handler with the browser. One advantage of registering the protocol handler with the browser is that the protocol handler can perform a sanity check to insure that the user has a chance to confirm the execution of the URL before the application is actually launched. This may be important to protect a user from drive by executions of the URL while the user is visiting a web site.

In step the URL is passed to the protocol handler. In step the protocol handler launches SoftPhone if not already launched. In step the protocol handler passes the URL to SoftPhone . After step the process will continue at step of .

If the Windows Shell did not find an appropriate protocol handler step then Windows Shell will ask Browser to locate the appropriate protocol handler in step . If Browser is able to find the appropriate protocol handler then it will pass the URL to URL Moniker in step . In step that process will continue in step of . If no appropriate protocol handler was found in step an error is returned to step .

SoftPhone in client computing device sends a call signaling message including the phone number specified in the LiveCall hyperlink to the call signaling server see . Call signaling server authenticates the user and routes the call signaling message to the appropriate telco provider see . When the call signaling server at the telco provider receives the call signaling message it authorizes the call and terminates the call to the appropriate PSTN Gateway see . The PSTN Gateway routes the call to the destination telephone line see . When a user picks up the telephone at the destination telephone line the voice stream will be established among SoftPhone in client device PSTN gateway and PSTN telephone see and . During the telephone call SoftPhone can access and display web content or cause the browser to access and display web content.

Telephone can be PSTN telephone or mobile cellular phone. In the case of a mobile cellular phone PSTN gateway PSTN network and PSTN telephone can be replaced with mobile gateway mobile network and mobile phone respectively. In another embodiment the PSTN telephone can be replaced with mobile gateway mobile network and mobile phone. In one implementation SIP Session Initiation Protocol is used for call signaling.

SoftPhone on client launches the browser to process the internal call history URL. The browser on client sends the internal call history URL to the cross domain authentication server see . Cross domain authentication server authenticates the call history URL and forwards the call history URL to the appropriate telco provider see . When the call history web server at the telco data center receives the call history URL it starts the call history query process and displays the call history landing page. From now on the browser on client can directly communicate with the call history web server for call records. see .

Although the subject matter has been described in language specific to structural features and or methodological acts it is to be understood that the subject matter defined in the appended claims is not necessarily limited to the specific features or acts described above. Rather the specific features and acts described above are disclosed as example forms of implementing the claims. It is intended that the scope of the invention be defined by the claims appended hereto.


---

title: Subword unit posterior probability for measuring confidence
abstract: Speech recognition such as command and control speech recognition generally use a context free grammar to constrain the decoding process. Word or subword background model are constructed to repopulate dynamic hypothesis space, especially when word spareness is at issue. The background models can be later used in speech recognition. During speech recognition, background and conventional context free grammar decoding are used to measure confidence. The discussion above is merely provided for general background information and is not intended to be used as an aid in determining the scope of the claimed subject matter.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07890325&OS=07890325&RS=07890325
owner: Microsoft Corporation
number: 07890325
owner_city: Redmond
owner_country: US
publication_date: 20060316
---
Speech recognition is the process by which computers interpret acoustic patterns in human speech. Generally there are two types of speech recognition. The first type is often called dictation speech recognition. With dictation speech recognition a user s speech can include a continuous stream of spoken words that are each recognized and converted to text. Dictation speech recognition is often used for applications such as medical transcription legal and business dictation and general word processing.

The second type of speech recognition is commonly called command and control speech recognition. Command and control speech recognition systems are often integrated into larger systems such as personal computers mobile phones call routing systems or interactive data retrieval systems such as travel information systems. Generally such systems perform speech recognition in order to cause the larger system to perform functions and actions in response to the user s speech. Thus recognition of the user s spoken words or utterance Open Netscape or Call Bill Gates would cause the larger system to do just that.

For such applications it is important for these speech recognition systems to reliably detect and reject the Out Of Vocabulary OOV words and misrecognized in vocabulary words. An OOV word is a word spoken by the user that is not in the list of words lexicon or vocabulary that can be recognized by the system. A misrecognized word is a word within the vocabulary or in vocabulary that is recognized incorrectly. Misrecognition can be caused for example by background noise or a user s speaking style or accent.

Generally command and control speech recognition systems search the user s utterance in order to identify or select words that are most likely to be specific command and control words. However OOV or misrecognized words can cause the speech recognition system to output an erroneous command. This erroneous command causes the larger system to perform actions and functions not intended by the user. Thus it is important for speech recognition systems to reliably detect OOV words and misrecognized words for rejection.

Various confidence measures have been proposed to measure recognition reliability. Generally confidence measures are some measure of probability that a word has been recognized correctly. Often a word is only recognized when its corresponding confidence measure exceeds a particular threshold or probability value. Thus confidence measures and thresholds are designed to increase the reliability of the speech recognition system.

Some methods of measuring confidence rely on posterior probability. Posterior probability can be viewed as a revised probability obtained by updating a prior probability after receiving new information. Word graph based and analogous methods are often used to estimate posterior probability. However for some Context Free Grammar or CFG based applications such as command and control speech recognition the word graph generated by the speech decoder can be too sparse for reliable posterior probability computation.

With a sparse word graph the best or most probable path can become dominating thereby causing an artificially high posterior probability estimate regardless of correctness. This artificially high posterior probability score can result in OOV and misrecognized words escaping detection and rejection.

The discussion above is merely provided for general background information and is not intended to be used as an aid in determining the scope of the claimed subject matter.

Subword units such as phonemes and syllables are used to construct one or more background models for later use in speech recognition. Background models can be constructed in one language for monolingual speech recognition or in more than one natural language for bilingual or multi lingual speech recognition. The background models can be used to generate subword graphs that can be used in conjunction with conventional word graphs to improve computation of posterior probabilities and or confidence measures.

The above Summary is provided to introduce a selection of concepts in a simplified form that are further described below in the Detailed Description. The above Summary is not intended to identify key features or essential features of the claimed subject matter nor is it intended to be used as an aid in determining the scope of the claimed subject matter. The claimed subject matter is not limited to implementations that solve any or all disadvantages noted in the background.

Embodiments are operational with numerous other general purpose or special purpose computing system environments or configurations. Examples of well known computing systems environments and or configurations that may be suitable for use with various embodiments include but are not limited to personal computers server computers hand held or laptop devices multiprocessor systems microprocessor based systems set top boxes programmable consumer electronics network PCs minicomputers mainframe computers telephony systems distributed computing environments that include any of the above systems or devices and the like.

Embodiments may be described in the general context of computer executable instructions such as program modules being executed by a computer. Generally program modules include routines programs objects components data structures etc. that perform particular tasks or implement particular abstract data types. Some embodiments are designed to be practiced in distributed computing environments where tasks are performed by remote processing devices that are linked through a communications network. In a distributed computing environment program modules are located in both local and remote computer storage media including memory storage devices.

With reference to an exemplary system for implementing some embodiments includes a general purpose computing device in the form of a computer . Components of computer may include but are not limited to a processing unit a system memory and a system bus that couples various system components including the system memory to the processing unit . The system bus may be any of several types of bus structures including a memory bus or memory controller a peripheral bus and a local bus using any of a variety of bus architectures. By way of example and not limitation such architectures include Industry Standard Architecture ISA bus Micro Channel Architecture MCA bus Enhanced ISA EISA bus Video Electronics Standards Association VESA local bus and Peripheral Component Interconnect PCI bus also known as Mezzanine bus.

Computer typically includes a variety of computer readable media. Computer readable media can be any available media that can be accessed by computer and includes both volatile and nonvolatile media removable and non removable media. By way of example and not limitation computer readable media may comprise computer storage media and communication media. Computer storage media includes both volatile and nonvolatile removable and non removable media implemented in any method or technology for storage of information such as computer readable instructions data structures program modules or other data. Computer storage media includes but is not limited to RAM ROM EEPROM flash memory or other memory technology CD ROM digital versatile disks DVD or other optical disk storage magnetic cassettes magnetic tape magnetic disk storage or other magnetic storage devices or any other medium which can be used to store the desired information and which can be accessed by computer . Communication media typically embodies computer readable instructions data structures program modules or other data in a modulated data signal such as a carrier wave or other transport mechanism and includes any information delivery media. The term modulated data signal means a signal that has one or more of its characteristics set or changed in such a manner as to encode information in the signal. By way of example and not limitation communication media includes wired media such as a wired network or direct wired connection and wireless media such as acoustic RF infrared and other wireless media. Combinations of any of the above should also be included within the scope of computer readable media.

The system memory includes computer storage media in the form of volatile and or nonvolatile memory such as read only memory ROM and random access memory RAM . A basic input output system BIOS containing the basic routines that help to transfer information between elements within computer such as during start up is typically stored in ROM . RAM typically contains data and or program modules that are immediately accessible to and or presently being operated on by processing unit . By way of example and not limitation illustrates operating system application programs other program modules and program data .

The computer may also include other removable non removable volatile nonvolatile computer storage media. By way of example only illustrates a hard disk drive that reads from or writes to non removable nonvolatile magnetic media a magnetic disk drive that reads from or writes to a removable nonvolatile magnetic disk and an optical disk drive that reads from or writes to a removable nonvolatile optical disk such as a CD ROM or other optical media. Other removable non removable volatile nonvolatile computer storage media that can be used in the exemplary operating environment include but are not limited to magnetic tape cassettes flash memory cards digital versatile disks digital video tape solid state RAM solid state ROM and the like. The hard disk drive is typically connected to the system bus through a non removable memory interface such as interface and magnetic disk drive and optical disk drive are typically connected to the system bus by a removable memory interface such as interface

The drives and their associated computer storage media discussed above and illustrated in provide storage of computer readable instructions data structures program modules and other data for the computer . In for example hard disk drive is illustrated as storing operating system application programs other program modules and program data . Note that these components can either be the same as or different from operating system application programs other program modules and program data . Operating system application programs other program modules and program data are given different numbers here to illustrate that at a minimum they are different copies.

A user may enter commands and information into the computer through input devices such as a keyboard a microphone and a pointing device such as a mouse trackball or touch pad. Other input devices not shown may include a joystick game pad satellite dish scanner or the like. These and other input devices are often connected to the processing unit through a user input interface that is coupled to the system bus but may be connected by other interface and bus structures such as a parallel port game port or a universal serial bus USB . A monitor or other type of display device is also connected to the system bus via an interface such as a video interface . In addition to the monitor computers may also include other peripheral output devices such as speakers and printer which may be connected through an output peripheral interface

The computer is operated in a networked environment using logical connections to one or more remote computers such as a remote computer . The remote computer may be a personal computer a hand held device a server a router a network PC a peer device or other common network node and typically includes many or all of the elements described above relative to the computer . The logical connections depicted in include a local area network LAN and a wide area network WAN but may also include other networks. Such networking environments are commonplace in offices enterprise wide computer networks intranets and the Internet.

When used in a LAN networking environment the computer is connected to the LAN through a network interface or adapter . When used in a WAN networking environment the computer typically includes a modem or other means for establishing communications over the WAN such as the Internet. The modem which may be internal or external may be connected to the system bus via the user input interface or other appropriate mechanism. In a networked environment program modules depicted relative to the computer or portions thereof may be stored in the remote memory storage device. By way of example and not limitation illustrates remote application programs as residing on remote computer . It will be appreciated that the network connections shown are exemplary and other means of establishing a communications link between the computers may be used.

Memory is implemented as non volatile electronic memory such as random access memory RAM with a battery back up module not shown such that information stored in memory is not lost when the general power to mobile device is shut down. A portion of memory is preferably allocated as addressable memory for program execution while another portion of memory is preferably used for storage such as to simulate storage on a disk drive.

Memory includes an operating system application programs as well as an object store . During operation operating system is preferably executed by processor from memory . Operating system in one embodiment is a WINDOWS CE brand operating system commercially available from Microsoft Corporation. Operating system is preferably designed for mobile devices and implements database features that can be utilized by applications through a set of exposed application programming interfaces and methods. The objects in object store are maintained by applications and operating system at least partially in response to calls to the exposed application programming interfaces and methods.

Communication interface represents numerous devices and technologies that allow mobile device to send and receive information. The devices include wired and wireless modems satellite receivers and broadcast tuners to name a few. Mobile device can also be directly connected to a computer to exchange data therewith. In such cases communication interface can be an infrared transceiver or a serial or parallel communication connection all of which are capable of transmitting streaming information.

Input output components include a variety of input devices such as a touch sensitive screen buttons rollers and a microphone as well as a variety of output devices including an audio generator a vibrating device and a display. The devices listed above are by way of example and need not all be present on mobile device . In addition other input output devices may be attached to or found with mobile device .

Word Posterior Probability WPP has often been used to measure confidence in speech recognition such as Large Vocabulary Continuous Speech Recognition LVCSR . Given a feature stream oof observation from frame to T the posterior probability of a word w s t with initial frame s and final frame t is 

However in many context free grammar CFG constrained applications such as command and control speech recognition the lexical and language model constraints can limit the number of hypotheses generated. As a result WPP reliability can decrease. The concept can be explained from the viewpoint of N best hypotheses. Given an utterance let W W . . . Wrepresents the corresponding top N best string hypotheses extracted from a word graph generated in a conventional speech recognition or LVCSR decoder. If N grams in LVCSR are replaced by a stricter CFG grammar some candidates in N best list are eliminated. In many cases we have p o p o W p W and p W o 1 so that the best path can become dominant and be scored with an artificially high WPP even if the best path is incorrect. Hence the WPP is generally less reliable for measuring confidence when word graphs are sparse.

To mitigate the unreliability caused by graph sparseness it can be advantageous to 1 recover the string candidates eliminated by the stricter CFG decoding constraints or 2 refill the search space by appropriate hypotheses.

However for many posterior probability calculations the exact word sequences are generally unnecessary. It is generally enough to obtain those pronunciation sequences that approximate the input utterance in the dynamic HMM space. Put another way qualified competitors for the dominating path can be used to introduce additional nodes to a lattice. To do so generalized background models can be introduced in the decoder where N grams at the background model level can be considered.

Since CFG is used to constrain decoding results a background model looping in a background decoding module or separate a background decoder can be used to generate additional qualified competitors or hypotheses. The graph or network generated by the background decoder can be called a background model graph or network. Based on this background model graph the Model based Posterior Probability MPP can be calculated for measuring confidence. A conventional decoder and another background module or decoder as mentioned above directed by a free background model loop can thus be used to assist in measuring confidence.

Returning to the figures illustrates method comprising broad step of constructing one or more background models or subword background models and step of performing speech recognition on a user utterance received at step using the one or more background models constructed in step . In many embodiments step can include command and control speech recognition and be performed any number of times as illustrated by reference . illustrate modules and steps for performing step illustrated in . Similarly include modules and steps for performing step . It is noted that the modules and steps are exemplary only and can be combined divided reordered etc. as desired as is generally known by those skilled in the art.

One approach is to use another LVCSR decoder to generate a separate word graph or network. However this option can be computationally expensive and impractical. Instead it can be advantageous to select a smaller subword unit such as a syllable or phoneme in constructing a background model. The background model would then be accessed during decoding to generate a separate network or to enlarge the network of the conventional decoder.

Criteria for selecting appropriate subword units include for example 1 the subword unit should characterize the utterance in HMM space relatively well and 2 the selected subword unit should allow unambiguous decomposition of word sequences into a sequence of model units. Accordingly some subword units have been adopted as exact models rather than ordinary general filler models. Various candidate model sets have been considered including phonemes and syllables in both English and Chinese.

There are approximately 40 phonemes in English and around 70 toneless syllable initials and finals in Chinese. Therefore these types of subword units can be appropriate choices for subword based background model sets. It is natural to use syllables in background models in syllable based languages like Chinese where there are only slightly over 400 syllables in the whole inventory. However for English the number of syllables exceeds 15 000 which would be a cumbersome number to use in a background model loop.

To reduce the number of English syllables to model it is possible to cluster similar syllables to generate a smaller syllable set or prune syllables with lower frequencies. For example syllable clusters can be formed with similar consonants such as b and p g and k d and t z and s and v f while leaving vowels intact. Also syllable frequency can be calculated with a large dictionary and frequency count then used to prune out syllables having low frequency.

In some embodiments dictionary is from one language and is used to construct a subword background model for later use in monolingual speech recognition. In other embodiments dictionary comprises two or more dictionaries from different natural languages that are used to construct two or more background models for later use in bilingual or multi lingual speech recognition. In still other embodiments dictionary can be a bilingual Chinese English or English Chinese dictionary.

One example of bilingual speech recognition is a situation where a user s utterance is partly in one language and partly in another language. For example because English words have been introduced into Chinese speaking countries Chinese speakers have been known to mix English and Chinese words in their speech. Thus in command and control speech recognition such as used in automatic dialing on mobile phones a Chinese speaking person could use an English command word such as Call followed by person s name or another object spoken in Chinese. For example a user could speak the utterance Call Bi er gai ci which means Call Bill Gates in English.

At step parser parses dictionary or dictionaries into individual subwords or clusters . In most cases subword list is accesses or received to perform the parsing. In some embodiments a list of English phonemes is provided. In other embodiments a list of Chinese syllables is provided. In one embodiment an English list of phonemes and a Chinese list of syllables is provided for use in parsing both English and Chinese dictionaries for later use in bilingual speech recognition.

At step counting module receives parsed subwords or clusters and counts the total number T of subwords or clusters in dictionary . At step counting module counts the number of occurrences of each listed subword on subword list and calculates frequency f or probability of each listed subword. At step optional pruning module prunes low frequency subwords from subword list . At step subword background model is constructed and stored for later use in speech recognition. In some embodiments subword background model is a database comprising subword entries and corresponding frequencies probabilities or normalized probabilities

It is noted that background model can further include N gram probabilities. However in most embodiments background model includes only a free subword loop.

At step speech recognition module receives an electrical or speech signal associated with a user s audible words or utterance. Typically a user audibly speaks utterance into microphone if necessary which converts utterance into an electrical or speech signal. In most embodiments utterance comprises words associated with command and control speech recognition described above.

At step analog to digital or A D converter converts the received electrical signal into a series of digital values. In several embodiments A D converter samples an analog speech signal at 16 kHz and 16 bits per sample thereby creating 32 kilobytes of speech data per second.

At step frame construction module receives digital data or values provided by A D converter . Frame construction module groups the digital values into frames of values. In one embodiment each frame is 25 milliseconds long and begins 10 milliseconds after the beginning of the previous frame.

At step the frames of digital data or values are received by feature extraction module which extracts at least one feature from the digital signal to construct or produce at least one feature vector. Types of feature extraction modules include modules for performing Linear Predictive Coding LPC LPC derived cepstrum Perceptive Linear Prediction PLP Auditory model feature extraction and Mel Frequency Cepstrum Coefficients. MFCC feature extraction. In many embodiments feature extraction module performs MFCC feature extraction. However it is noted that other embodiments are not limited to the above mentioned types of feature extraction.

Feature extraction module can produce feature vectors comprising a single multi dimensional feature vector per frame. The number of dimensions or values in the feature vector is dependent upon the type of feature extraction that is used. For example mel frequency cepstrum coefficient or MFCC vectors generally have 12 coefficients plus a coefficient representing power for a total of 13 dimensions. In one embodiment a feature vector is computed from the mel coefficients by taking the first and second derivative of the mel frequency coefficients plus power with respect to time. Thus for such feature vectors each frame is associated with 39 values that form the feature vector.

At step feature vectors produced by feature extraction module are received by decoding module . Decoding module comprises conventional decoder or module and background decoder or module . Conventional decoder and background decoder can be separate decoders or modules of the same decoder as desired.

At step conventional decoder generates decoding result based at least on the stream of feature vectors and CFG . Decoding result generally comprises sequences of linguistic units e.g. word sequences where the sequences and number of sequences in decoding result are constrained by CFG . A best word sequence of I words can have the notation W w t . It is noted that the size of the linguistic units in decoding result can be different for different embodiments. For example the linguistic units can be entire words or parts of words such as senones phonemes diphones triphones or syllables.

In most embodiments CFG is constructed using words associated with command and control speech recognition. CFG can be constructed with all legal phrases arranged in parallel. In some embodiments CFG is bilingual in that legal phrases include words or linguistic units in more that one language. For example CFG can be constructed with English command words such as Call and Chinese names having two or three syllables.

Conventional decoder can also access acoustic model and one or more lexicons such as a system lexicon an application lexicon or a user lexicon if any to aid in decoding. In many embodiments acoustic model is a Hidden Markov Model or HMM consisting of a set of hidden states with one state per frame of the input signal. Each state has an associated set of probability distributions that describe the likelihood of an input feature vector matching a particular state. In some embodiments a mixture of probabilities typically 10 Gaussian probabilities is associated with each state. The Hidden Markov Model also includes probabilities for transitioning between two neighboring model states as well as allowed transitions between states for particular words or linguistic units.

A system lexicon consists of a list of linguistic units typically words or syllables that are valid for a particular natural language. Conventional decoder can use a system lexicon to limit its search for possible linguistic units to those that are actually part of the language. A system lexicon typically includes pronunciation information i.e. mappings from each linguistic unit to a sequence of acoustic units used by acoustic model . Optional application lexicon is similar to a system lexicon except an application lexicon contains linguistic units that are added by a particular application while a system lexicon contains linguistic units that were provided with the speech recognition system. An optional user lexicon is also similar to a system lexicon except a user lexicon contains linguistic units that have been added by the user.

At step decomposition module decomposes decoding result to generate decomposed decoding result . The decomposition includes sequences of linguistic units that are consistent with the word or subword unit selected for background model . Thus if background model models syllables or phonemes then decomposition module also decomposes sequences in decoding result into syllables or phonemes respectively.

At step background decoder or module applies one or more background models on the generated sequences of linguistic units to generate a list of qualified competitors or alternative sequences which can be expressed as m m . . . m. Background decoding can function as a word list loop subword loop phoneme loop and so on. Competitors or alternative sequences can have the notation M m t where U is the model sequence length.

It is noted that decoder is illustrated as a dotted line encompassing both conventional decoder and background decoder . Decoder is illustrated to indicate that the decoding process can occur in a single decoder that can access CFG and background model or with two separate decoders or decoding paths.

At step penalty module penalizes competitors because the background model graph or network is generally given less weight than the conventional decoding network. In many embodiments for each arc in the background model graph a penalty is imposed as follows log log penalty 1 4 

At step confidence measure module applies probability scoring algorithm to calculate model based posterior probabilities or MPP of the best path through a lattice constructed from competitors and decomposed decoding result . In many embodiments probability scoring algorithm is a Forward backward algorithm. However other probability scoring algorithms can be used such as a Maximum Aposteriori Probability MAP algorithm a Forward algorithm or a Viterbi algorithm.

At step post processing module comprising optional normalizing module normalizes MPP scores by the total number of J to facilitate a universal threshold for rejection 

At step OOV and misrecognized word rejection module compares MPP scores of one or more highest scoring sequences or paths with a selected threshold value. Sequences or paths having WPP scores that do not meet the threshold value are rejected as possible or probable OOV or misrecognized words.

At step output module receives one or more most likely sequences. Output module can handle overhead associated with transmitting the output sequence to a larger computing environment or one or more applications.

Although the subject matter has been described in language specific to structural features and or methodological acts it is to be understood that the subject matter defined in the appended claims is not necessarily limited to the specific features or acts described above. Rather the specific features and acts described above are disclosed as example forms of implementing the claims.


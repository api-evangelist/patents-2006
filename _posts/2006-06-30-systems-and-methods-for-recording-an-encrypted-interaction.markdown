---

title: Systems and methods for recording an encrypted interaction
abstract: Systems and methods for recording an encrypted contact center interaction.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07881471&OS=07881471&RS=07881471
owner: Verint Systems Inc.
number: 07881471
owner_city: Melville
owner_country: US
publication_date: 20060630
---
This disclosure relates to recording contact center interactions and more particularly to recording encrypted contact center interactions.

Call centers have long been used by companies for communicating with their customers on a wide range of topics including installation sales service cancellation etc. As ways for communicating with customers have evolved from voice interactions call centers have been transformed into contact centers which communicate with customers on a variety of media including electronic mail e mail internet relay chat IRC world wide web voice over internet protocol VoIP text messaging etc. As these media have evolved there has been a need for technology to capture these interactions for many purposes including recordkeeping quality training etc.

However the digital nature of this new media can make it more difficult for developing technology to capture these interactions. In particular encryption technology can inhibit existing recording devices from capturing and or flagging meaningful information.

A system for recording an encrypted data stream associated with a contact center is provided. The system can include a control protocol switch interface an encryption key information buffer a data switch interface and a recording module. The control protocol switch interface provides the system with an interface to a protocol switch and receives an interaction setup signal from the protocol switch. The interaction setup signal can include an exchange of encryption key information associated with an interaction. The encryption key information buffer can be set up to receive the encryption key information and hold the encryption key information. A data switch interface provides the system with an interface to a data switch via which the system receives an encrypted data stream associated with the interaction. The encrypted data stream is encrypted such that devices that do not have an encryption key associated with the encrypted data stream are inhibited from reviewing the interaction data. The recording module operates to record the interaction and the system is operable to decrypt the encrypted data stream using associated encryption key information stored in the encryption key information buffer.

A method for recording encrypted interaction data can include the steps of receiving an interaction setup signal at a recording device the interaction setup signal comprising encryption key information associated with interaction data storing the encryption key information in a key storage the key storage being configured to store encryption key information for retrieval receiving encrypted data stream at the recording device the encrypted data stream representing an encrypted form of interaction data the encryption being configured to inhibit review of the interaction data without an encryption key storing the interaction data in a system data store and wherein the encrypted interaction data is operable to be decrypted using the stored encryption key information.

The details of one or more embodiments of the disclosure are set forth in the accompanying drawings and the description below. Other features objects and advantages of the disclosure will be apparent from the description and drawings and from the claims.

Voice interaction typically occurs via one or more workstations at which a contact center agents could operate. The workstations facilitate communication between an agent and a contact via an external network and internal network infrastructure . It should be understood that the internal network infrastructure used varies based upon the media being supported. For example an analog telephone call the hardware can include an automatic call distributor ACD . More complex voice interaction hardware can include an interface to a public switched telephone network PSTN such as private branch exchange s a voice over internet protocol VoIP switch es a data switch es automatic call distributor s softphone bank etc.

It should also be understood that in various examples the workstation can include a network interface operable to send and retrieve data from a contact center database via the internal network infrastructure . The data can include for example customer data account data service data preferences application data among many others. Such data can be useful in managing and or routing contact interactions.

Interactions between contact center agents and contacts can be recorded via a recording system . The recording system can capture a contact center interaction in any of a number of ways each of which are known to those skilled in the art and are intended to be included within the scope of this disclosure. For example in some contact centers a VoIP switch is used to handle control protocol for the network SIP SCCP while a data switch handles the voice traffic real time transfer protocol RTP . The data switch can be configured to provide a network tap internet protocol IP switch port analyzer SPAN . The interaction data is extracted via the network tap and provided to the recording system .

Alternatively the recording device can participate in the call as a silent participant and obtain direct access to the interaction data in real time. In products available from Avaya Inc. of Basking Ridge N.J. this type of participation is known as single step conferencing SSC . However it should also be understood that other solutions are available for receiving VoIP data such as for example duplicate media streaming DMS as described below and available from Nortel Networks of Brampton Ontario Canada or Cisco Systems Inc. of San Jose Calif. among others.

In further alternatives the recording system can include a soft phone bank and thereby controls a plurality of soft phones which receive emulated IP phone traffic from a VoIP switch or a data switch. It should be understood that the recording system can provide a selective recording system whereby only interactions that satisfy predetermined rules are recorded. The predetermined rules can specify recording of data upon the occurrence of certain events such as for example a specific word being spotted a voice amplitude outside of a normal threshold being detected a talk over condition being detected etc. Moreover the predetermined rules can include business rules which determine when or whether to record based upon any business reasons. It should also be understood that in some examples of this disclosure the recording system can be a bulk recording system such that all interactions are recorded. Other example recording systems of this disclosure can be both bulk and selective recording systems such that all interactions are recorded at certain times while less than all interactions or pieces of interactions can be recorded at other times.

Web interaction can occur via web server . As should be understood the web server could include connection to a database which includes a number of web pages. The stored web pages in some examples of this disclosure can provide a self service customer interface. The web server can provide the stored web pages to a contact via one or more data switches and the network . In some examples the web pages are also provided via a gateway and or firewall.

It should be understood that some or all instances of web interactions may be recorded using the recording system . Recording web self service interactions can be used for example to help the contact center to improve the web self service interface identify problem areas record transactions etc. The recording system could be operable to store whole or partial web pages or merely store universal resource locators URLs associated with the session. The recorded web pages or URLs are recorded with timing information and machine identification. This information can be used to distinguish among sessions and to rebuild sessions for later replay.

Application server can be used to provide interaction between a contact center and a contact through applications such as a chat application an instant messaging application a customer service application etc. Interactions can be routed between the application server and the contact via a data switch included among the internal network infrastructure . Moreover the application server can interact with a database . The database in various examples can provide customer information account information application information etc. to facilitate interaction with the application server.

It should be understood that some or all of these application interactions can be recorded via the recording system . The internal network infrastructure in various examples can be configured to provide a network tap or duplicate media stream to the recording system . Alternatively the recording system could receive a media stream associated with the interaction directly to the application server . The recording system in some examples can thereafter determine whether to record the interaction based upon whether the interaction or some other circumstance associated with the interaction satisfies a predefined rule. In yet other examples the recording system can be configured to record all interactions captured via the internal network infrastructure .

An interactive voice response IVR server can be configured to provide interactions with contacts via an IVR system . As should be understood an IVR unit provides a voice based menu type system to a contact such as a caller. The contact can navigate the interactive voice menu by pressing numbers on a telephone to produce a DTMF tone signal which is sent back to the IVR server via the internal call center network infrastructure . The IVR server interprets the DTMF tone and determines the contact s instructions based on the tone. Alternatively the IVR server may include voice recognition software such that it can receive voice commands from the contact and interpret the voice commands based on the voice recognition software. The next menu is then played to the contact via the internal network infrastructure and the external network which can be the PSTN advanced intelligent network AIN or a VoIP network which connects to the customer.

Interactions between the contact and the IVR server can be captured and recorded by a recording system . The recording system for example can use a network tap as described above with a data switch in the internal network infrastructure to capture the interaction. In other examples the recording system could capture the interaction by receiving a duplicate media stream from a data switch or data device as if the recording system were a party to the conversation. It should also be recognized that in some examples the recording system could receive a media stream directly from the IVR server . Once the recording system receives the interaction in some examples it can determine whether to record the interaction based upon whether the interaction or some other circumstance associated with the interaction satisfies a predefined rule. In yet other examples the recording system can be configured to record all interactions captured via the internal network infrastructure .

As is known in the art encryption can be made available in digital systems to secure the data against misuse by third parties not intended to receive the information encapsulated in the encrypted data. For security communications can be similarly encrypted. Some contact centers choose to encrypt all data being transmitted via the internal network s thereby protecting the data against interception. It should be noted though that encrypting network data including any interactions can impose an impediment to the recording system . Decrypting encrypted data without an encryption key can be difficult. While cracking an encryption key is possible the difficulty to cracking a key can become prohibitive to decryption in a contact center environment. For example recorded interactions may grow at a greater rate than the systems ability to crack the encryption key for each interaction. The recording system of this disclosure interacts with the internal network infrastructure to receive an key for encrypted interactions.

An example of an encryption key being provided by the internal network infrastructure is shown with respect to . generally shows a voice interaction system wherein voice interactions are encrypted within the contact center network and the encrypted interaction data is captured via an IP span between a data switch and a recording system . It should be recognized that communications external to the contact center network including the external network such as the PSTN and contact phone may also be encrypted in accordance with this disclosure. Encryption key exchange for these interactions occurs during call setup. A VoIP switch receives the call control protocol for example SIP SCCP etc. from the network gateway and determines that the call is to be encrypted. The VoIP switch then distributes encryption key information to the IP phone via a data switch and to the network gateway . The VoIP switch also distributes encryption key information to the recording system such that the recording system can decrypt an encrypted voice interaction captured from a data switch in accordance with the present disclosure.

In some examples of this disclosure the encryption key information is distributed to the recorder in an encrypted format so as to protected the encryption key information from interception. Related to the example shown in the VoIP switch providing the encryption key information encrypts the encryption key information using a public key associated with the recording device . The recording system can thereafter decrypt the encryption key information using its private key. It should be understood that the encryption key information can be stored in encrypted format so as to protect both the encryption key information and the encrypted interaction against theft.

In other examples of this disclosure the encrypted interaction data can be stored in encrypted format such that it is protected against hacking. Such a system could store the encryption key for later decryption of the encrypted interaction data such as for example upon a request to retrieve the interaction data for replay to a user. In some examples the encryption key is stored in volatile memory associated with the recording system . In such examples the encrypted interaction data can be decrypted prior to storing the interaction data to a system data store associated with the recording system . In other examples the encryption key is stored in non volatile memory until the encrypted interaction data is to be decrypted. The encrypted interaction data can be decrypted upon receiving a retrieval and playback request from a user. Alternatively the encrypted interaction data can be decrypted during a period of low processor usage.

In an alternative example the data could be decrypted using the encryption key information received from the VoIP switch and re encrypted using a different encryption key and or technique. In some examples unencrypted interaction data can be encrypted using an encryption engine better suited for long term storage archival and or retrieval. It should be recognized that in some embodiments of this disclosure both the encrypted interaction data and the encryption key information are stored in encrypted format so as to secure the encryption key information and the encrypted interaction data is stored in encrypted format. It should be noted that it is not required by this disclosure that either are encrypted upon storage to disk. However if the interaction data is unencrypted the encryption key could be discarded so as to lessen the chances of an intruder cracking the encryption using an old encryption key.

In some examples the encryption key information comprises an encryption key. In other examples of this disclosure the encryption key information may be a session identification such that the recording system can request an encryption key associated with the session identification from the VoIP switch . It should be understood that in such examples the VoIP switch could have internal memory enabling it to access a stored encryption key associated with the session identification provided by the recording system . In yet further examples the encryption key information could be a key identifier which could refer to a particular encryption key used by the VoIP switch . In this example the VoIP switch could use an encryption key and associate that key with a key identifier. The VoIP switch could later retrieve the encryption key based upon the key identifier.

After the call has been setup the data switch provides the recording system with directed VoIP traffic. Once the recording system receives the encrypted interaction data stream it can decrypt the encrypted interaction data using the encryption key information received from the VoIP switch . In various examples the encrypted interaction data stream can be decrypted in real time. In this example the encryption key information can be stored in volatile or non volatile memory. Where the encrypted interaction data is decrypted in real time predefined rules in various embodiments of this disclosure can be applied to the data to determine whether the data should be recorded to a system data store.

The recording system can also be set in some examples up to encrypt any unencrypted data before storing data to the system data store. Interaction data that is re encrypted can be encrypted using a different key than was used for encrypting the data between the IP phone and the gateway . It should also be recognized that the same key that was used to encrypt the data between the IP phone and the gateway could be used for re encrypting the data. Alternatively the recording system could use a different encryption algorithm to encrypt the data prior to storing the data in the system data store.

After encrypting the data the recording system can leave the data encrypted until it is requested to be decrypted. In some examples the decryption request can result from a request to replay the data received from a user. In other examples the encrypted interaction data may be decrypted in order to search the interaction data. Alternatively the system can extract some data e.g. contact identification account number subject timestamps agent identification etc. from the interaction and store extracted data in unencrypted format such that searches can be perforated on the extracted data thereby providing a rudimentary search of associated encrypted data. Similarly it could be

It should also be recognized that in some examples of the present disclosure the recording system can store the encryption key information in a key data store. The encrypted interaction data stream can then be stored directly to the system data store. The recording system can thereafter decrypt the data during idle times or times of low processor activity. Alternatively the interaction data can be stored indefinitely in encrypted format. In such situations the encryption key information would be stored for decrypting the encrypted interaction data upon direction from the recording system . The recording system may be directed to decrypt data upon request from a user for replay of the voice interaction session or upon a request to search from among the interaction data.

It should also be noted that in some examples of this disclosure the encryption key information includes the encryption key itself. In other examples the encryption key information includes a session identifier. The session identifier can be transmitted to the VoIP switch subsequent to capturing the data in order to receive a copy of the encryption key from the VoIP switch . The VoIP switch of this example would include memory operable to store session identifiers and associate them with encryption keys used by the VoIP switch . In yet further examples of this disclosure the encryption key information can include a key identification. The key identification can be transmitted to the VoIP switch in order to retrieve the encryption key. The VoIP switch would therefore have the ability to associate an identifier with a particular key used by the VoIP switch .

In the example where single step conferencing SSC is used to communicate directed VoIP traffic to the recording system the recording system and agent IP phone are automatically conferenced in to the voice interaction. Such conferencing typically occurs during call setup. The VoIP switch is configured to send call initiation signals to both the agent IP phone and to the recording system . Upon establishing a conference between the contact phone the recording system and the agent IP phone the VoIP switch can handoff the voice interaction to the data switch for communication of interaction data among the various parties to the voice interaction.

It should be understood that in such examples the data switch sends directed traffic to the agent IP phone as a party to the voice interaction and to the recording system as a party to the voice interaction. However it should also be understood that the recording system typically does not participate in the interaction but rather receives the voice interaction data and can record the voice interaction data.

The voice interaction can also be encrypted in various examples of single step conferencing. In some examples the contact center can specify encryption of the voice interaction data. For example some contact centers may encrypt all data being transmitted on their internal network. Alternatively encryption of the voice interaction data may be requested for example by the contact by the agent or by various traits associated with the interaction data itself among many others. Thus it should be understood that the decision to encrypt may be made based upon many different factors and that each of these factors is intended to be included within the present disclosure.

Upon making the determination that the voice interaction traffic is to be encrypted the VoIP switch is programmed to distribute encryption key information to the parties between which traffic is intended to be encrypted. As should be understood any number of encryption algorithms can be used to encrypt the information and each such encryption algorithm is intended to be included within the scope of this disclosure. Encryption key information can enable the parties receiving encryption keys or encryption key information to encrypt and decrypt the voice interaction data received as part of the voice interaction. In some examples the receipt of an encryption key is an indication to the device receiving the encryption key to encrypt the voice interaction data transmitted by the device and to decrypt the voice interaction data received at the device using the encryption key. Alternatively the VoIP switch can affirmatively alert the devices that the voice interaction is to be encrypted.

In the example of SSC described above a recording system that is conferenced in to the voice interaction can receive the encryption key or an identifier associated with the encryption key and decrypt the data in substantial concurrence with the voice interaction and save the voice interaction to storage. Alternatively the encryption key or identifier and the voice interaction data can be stored to disk and the encryption key information can be used to decrypt the encrypted voice interaction anytime subsequent to the voice interaction.

It should also be understood that in various examples the recording system can be programmed selectively record voice interaction data. Such selective recording could enable the recording system to more efficiently utilize storage space as well as bandwidth. As an example of selective recording in accordance with this disclosure the recording system could be programmed to record the encrypted information on the basis of a schedule. In such an example the recorder may be programmed to record encrypted voice interactions at certain times of the day or at peak periods or on a periodic basis.

Alternatively the recording system could selectively record data based upon a set of rules. In some examples the rules may call for recording data where specific events are detected such as for example anger in the voice interaction specific words being used or periods of high call volume among many others. Other examples of rules can include determining whether an encrypted call is to be recorded based upon computer telephony integration CTI information or events such as identification of the calling party identification of the agent a call being put on hold a call being transferred a call being conferenced among many others each of which is intended to be included within the scope of this disclosure.

In yet further examples recording of a voice interaction may be triggered by an agent s request to record the voice interaction. In such an example the agent could send a request to the recording system using a workstation interface to the recording system via a network. However it should be understood that there are many systems which could be used to communicate an agent s request to record the voice interaction to the recording system and that each such system is intended to be included within the scope of this disclosure.

In various examples of the present disclosure the VoIP switch operates functionally as a private branch exchange. It should be noted that the recording system in some instances such as where the recording system is conferenced may be late connecting to the voice interaction. This can cause the recording system to be excluded from recording a portion of the voice interaction data occurring before the recording system is able to connect to the voice interaction. In such instances the VoIP switch a private branch exchange may be programmed to delay the connection to the agent IP phone until the recording system has completed its connection to the voice interaction. As such the recording system is operable to monitor the entire voice interaction without being excluded from a portion of the voice interaction based upon being belatedly connected to the voice interaction.

In further instances a delay could also be used to provide the recording system with a period of time in which a selective recording decision may be made. However it should be recognized that in other examples the recording system could include a buffer thereby enabling the recording system to temporarily store a discrete amount of data. A recording system with a buffer could make the determination without delaying the voice interaction connection.

It should be understood that where appropriate the recording system of can include any of the functionality outlined above with respect to any of the other embodiments of this disclosure as described herein.

It should be understood that the recording system of can include any of the functionality outlined above with respect to any of the other embodiments of this disclosure as described herein.

Once the call has been routed to the agent IP phone the agent IP phone starts interacting with the contact via an exchange of media streams with the contact. The VoIP switch first makes a recording call to a bridge on the agent IP phone to request the agent s voice stream. The VoIP switch also makes a recording call to a bridge of the agent s IP phone to request the contact s voice stream. After the connection has been established for each of the agent s voice and contact s voice the voice streams can be redirected to the recording system .

It should be understood that where the interaction is encrypted the IP phone could supply either decrypted interaction streams to the recorder or encrypted interaction streams to the recorder. Where the decrypted interaction streams are provided to the recorder the recorder can store the data directly to disk. Alternatively the recorder can use an encryption engine to encrypt the data prior to recording the interaction data to disk.

In the example where the agent IP phone provides encrypted streams to the recorder the VoIP switch can provide the encryption key to the recorder during setup of the recording call for the duplicate media stream between the agent IP phone and the recorder . The recorder is thereby enabled to decrypt the data substantially in real time or anytime thereafter. Moreover the recorder can be configured to use an encryption engine to encrypt the interaction data substantially in real time to receiving the data or anytime thereafter. Furthermore any of the features described herein with respect to recording systems can be applied with respect to the recording system of .

The interaction is controlled via switching . Switching can provide control protocol for setup and teardown of the communication path. Switching can also provide for key exchange between the contact and the workstation or server in case of an encrypted interaction session. The switching in the event of encrypted interactions can also provide encryption key information to the recording system . As described above the encryption key information can include the encryption key itself or can include another mechanism through which the encryption key can be later derived. Alternatively it should be noted that the switching in some examples may contain a decryption engine. The decryption engine can enable the switching to perform decryption of the interaction when the decryption engine is provided with the encrypted interaction stream by the recording system . As such the encryption key remains secret and the recording system is able to store the interaction data. Moreover if security of the interaction is a concern the switching can re encrypt the decrypted interaction data using a public key received from the recording system . The re encrypted interaction data can then be securely transmitted to the recording system where it can be decrypted using a private key known only to the recording system .

It should be understood that the block diagram of can be used to record a variety of types of encrypted interaction data including among many others chat data screen data application data instant messaging data web self service data etc. Further any of the features described herein with respect to recording systems can be applied with respect to the recording system of

An example operational scenario depicting a process for a recording system of the present disclosure is depicted in . The recording process begins at step whereby the operational scenario determines that a interaction has been initiated. Upon initiation of the interaction the operational scenario determines whether the interaction is an encrypted interaction in step . If the interaction is not encrypted the operational scenario proceeds to a storage process as noted by block .

If the interaction is determined to have been encrypted the operational scenario continues to step wherein the encryption key information is obtained. After obtaining the encryption key information the operational scenario determines whether real time decryption is to be performed on the encrypted interaction data. This determination can be made for example among many others by default according to system setup based on available system resources or any reason that could affect system performance. As should be understood the encrypted interaction data is being captured in parallel with operational scenario . Where the encrypted interaction data is supposed to be decrypted in real time the operational scenario uses the obtained encryption key information to decrypt the encrypted interaction data as shown in step . The operational scenario then proceeds to a storage process as noted by block .

Returning to decision block if it is determined that the data is not to be decrypted in real time the operational scenario stores the encrypted interaction data to disk in the encrypted format in which the interaction data was received as depicted by step . Further the operational scenario could maintain the encryption key information in accordance with step . The encrypted key information could be stored in encrypted format or unencrypted format in accordance with this disclosure. At step the operational scenario determines whether the interaction should be decrypted on disk after the interaction is complete. In such circumstances the operational scenario may wait and decrypt the encrypted interaction when the system resources are at low usage thereby enabling a contact center to achieve similar results with lower system requirements. If the data is not to be decrypted post interaction the system maintains the interaction in encrypted format indefinitely as shown in step .

If the data is to be decrypted post interaction the operational scenario decrypts the encrypted interaction data and stores the decrypted interaction on to a system data store after the interaction is complete as shown by step . The operational scenario then proceeds to a storage process as noted by block .

An example of a storage process as implicated by step of is shown in . The storage process of begins at step whereby operational scenario determines whether the recording system should encrypt the interaction data in real time prior to storing the unencrypted interaction data to a system data store. If the data is to be encrypted prior to storage to disk the operational scenario proceeds to step whereby the unencrypted interaction data is encrypted prior to storage to a system data store. The operational scenario then stores the encrypted interaction data to the system data store as shown by step . The operational scenario then terminates at block .

If the operational scenario determines that the unencrypted interaction data is not to be encrypted prior to storage to a system data store the operational scenario proceed to step where the unencrypted interaction data is stored to a system data store. The data can subsequently be encrypted as shown by step . The operational scenario then terminates at block .

A number of embodiments of this disclosure have been described. Nevertheless it will be understood that various modifications may be made without departing from the scope of the disclosure. For example some systems may include the ability to discriminate between encrypted and unencrypted data others may include keeping the interaction data encrypted for security while yet others may include abstracting upon the encryption key and or cooperating with a switch to decrypt the encrypted interaction. Accordingly many embodiments are within the scope of the following claims.


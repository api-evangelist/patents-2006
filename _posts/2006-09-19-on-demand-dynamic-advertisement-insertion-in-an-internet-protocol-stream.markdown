---

title: On demand dynamic advertisement insertion in an internet protocol stream
abstract: A computer implemented method, computer program product, and data processing system for managing advertisements in an Internet Protocol (IP) streaming environment by defining a viewership threshold, monitoring the Internet Protocol streaming environment, and responsive to reaching the viewership threshold, programming alternate advertisements.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08112774&OS=08112774&RS=08112774
owner: International Business Machines Corporation
number: 08112774
owner_city: Armonk
owner_country: US
publication_date: 20060919
---
The present invention relates to data processing systems and in particular to Internet Protocol IP streaming technologies. More particularly the present invention relates to an on demand dynamic advertisement insertion in an Internet Protocol stream.

Advertising timeslots are traditionally purchased based on historic trends in broadcast viewership. Polls such as the Nielsen ratings attempt to inform media outlets and advertisers as to the worth of an advertising time slot. Nielsen Media Research headquarters are located in New York N.Y. Sweeps is a period typically a week each fall winter and spring when television ratings are accrued studied and advertising rates are reset.

Television content delivery has undergone an evolution with the advent of the Internet Protocol based media presentation. Instead of passively receiving television and radio signals the viewers may contact providers and request media such as subscription television services pay for view and streaming video. Media providers may provide both multicast groups and unicast streams to the viewer based on viewer requests. A multicast is the delivery of information to a group of destinations simultaneously. A unicast is the delivery of media in the form of information packets to a single destination. Internet Protocol streaming television content or an Internet Protocol streaming telecast as used herein is the image sound or content of a combined audio and video presentation independent of the device in which the content is received. As such an Internet Protocol streaming telecast may be viewed on a traditional television set as well as a personal computer telephone PDA or any device in which combined audio and video may be received. An Internet Protocol streaming telecast may be received via a multicast or unicast signal.

Current television sets can receive an Internet Protocol streamed telecast by using a two way digital broadcast signal. The signal may be sent through a switched telephone or cable network by way of a broadband connection and a set top box programmed with software that can handle viewer requests to access many available media sources. The viewer s television set may connect to a set top box that decodes the Internet Protocol video and converts it into standard television signals. The viewer can access different telecasts by using the television remote to send control commands to the switched video service. The unit processes the request and displays the requested media type.

SIP the Session Initiation Protocol is a signaling protocol for Internet conferencing telephony presence events notification and instant messaging. SIP is a text based protocol similar to HTTP and SMTP for initiating interactive communication sessions between users. Such sessions include voice video chat interactive games and virtual reality. SIP was developed within the IETF MMUSIC Multiparty Multimedia Session Control working group.

The illustrative embodiments provide a computer implemented method computer program product and data processing system for managing advertisements in an Internet Protocol IP streaming environment by defining a viewership threshold monitoring the Internet Protocol streaming environment and responsive to reaching the viewership threshold programming alternate advertisements.

With reference now to the figures and in particular with reference to exemplary diagrams of data processing environments are provided in which illustrative embodiments may be implemented. It should be appreciated that are only exemplary and are not intended to assert or imply any limitation with regard to the environments in which different embodiments may be implemented. Many modifications to the depicted environments may be made.

With reference now to the figures depicts a representation of a network of data processing systems in which illustrative embodiments may be implemented. Network data processing system is a network of computers in which embodiments may be implemented. Network data processing system contains network which is the medium used to provide communications links between various devices and computers connected together within network data processing system . Network may include connections such as wire wireless communication links or fiber optic cables.

In the depicted example server and server connect to network along with storage unit . These servers could represent VoD Middleware or Ad servers. In addition clients and connect to network . These clients and may be for example personal computers or network computers. In the depicted example server provides data such as boot files operating system images and applications to clients and . Clients and are clients to server in this example. Network data processing system may include additional servers clients and other devices not shown.

In the depicted example network data processing system is the Internet with network representing a worldwide collection of networks and gateways that use the Transmission Control Protocol Internet Protocol TCP IP suite of protocols to communicate with one another. At the heart of the Internet is a backbone of high speed data communication lines between major nodes or host computers consisting of thousands of commercial governmental educational and other computer systems that route data and messages. Of course network data processing system also may be implemented as a number of different types of networks such as for example an intranet a local area network LAN or a wide area network WAN . is intended as an example and not as an architectural limitation for different embodiments.

With reference now to a block diagram of a data processing system is shown in which illustrative embodiments may be implemented. Data processing system is an example of a computer such as server or client in in which computer usable code or instructions implementing the processes may be located for the illustrative embodiments.

In the depicted example data processing system employs a hub architecture including a north bridge and memory controller hub MCH and a south bridge and input output I O controller hub ICH . Processor main memory and graphics processor are coupled to north bridge and memory controller hub . Graphics processor may be coupled to the MCH through an accelerated graphics port AGP for example.

In the depicted example local area network LAN adapter is coupled to south bridge and I O controller hub and audio adapter keyboard and mouse adapter modem read only memory ROM universal serial bus USB ports and other communications ports and PCI PCIe devices are coupled to south bridge and I O controller hub through bus and hard disk drive HDD and CD ROM drive are coupled to south bridge and I O controller hub through bus . PCI PCIe devices may include for example Ethernet adapters add in cards and PC cards for notebook computers. PCI uses a card bus controller while PCIe does not. ROM may be for example a flash binary input output system BIOS . Hard disk drive and CD ROM drive may use for example an integrated drive electronics IDE or serial advanced technology attachment SATA interface. A super I O SIO device may be coupled to south bridge and I O controller hub .

An operating system runs on processor and coordinates and provides control of various components within data processing system in . The operating system may be a commercially available operating system such as Microsoft Windows XP Microsoft and Windows are trademarks of Microsoft Corporation in the United States other countries or both . An object oriented programming system such as the Java programming language may run in conjunction with the operating system and provides calls to the operating system from Java programs or applications executing on data processing system Java and all Java based trademarks are trademarks of Sun Microsystems Inc. in the United States other countries or both .

Instructions for the operating system the object oriented programming system and applications or programs are located on storage devices such as hard disk drive and may be loaded into main memory for execution by processor . The processes of the illustrative embodiments may be performed by processor using computer implemented instructions which may be located in a memory such as for example main memory read only memory or in one or more peripheral devices.

The hardware in may vary depending on the implementation. Other internal hardware or peripheral devices such as flash memory equivalent non volatile memory or optical disk drives and the like may be used in addition to or in place of the hardware depicted in . Also the processes of the illustrative embodiments may be applied to a multiprocessor data processing system.

In some illustrative examples data processing system may be a personal digital assistant PDA which is generally configured with flash memory to provide non volatile memory for storing operating system files and or user generated data. A bus system may be comprised of one or more buses such as a system bus an I O bus and a PCI bus. Of course the bus system may be implemented using any type of communications fabric or architecture that provides for a transfer of data between different components or devices attached to the fabric or architecture. A communications unit may include one or more devices used to transmit and receive data such as a modem or a network adapter. A memory may be for example main memory or a cache such as found in north bridge and memory controller hub . A processing unit may include one or more processors or CPUs. The depicted examples in and above described examples are not meant to imply architectural limitations. For example data processing system also may be a tablet computer laptop computer or telephone device in addition to taking the form of a PDA.

The Internet is a global network of computers and networks joined together by means of gateways that handle data transfer and the conversion of messages from a protocol of the sending network to a protocol used by the receiving network. On the Internet any computer may communicate with any other computer with information traveling over the Internet through a variety of languages also referred to as protocols. The set of protocols used on the Internet is called Transmission Control Protocol Internet Protocol TCP IP . With respect to transferring data over the Internet the World Wide Web environment is used. This environment is also referred to simply as the Web . The Web is a mechanism used to access information over the Internet.

In the Web environment servers and clients may effect data transactions using the hypertext transfer protocol HTTP a known protocol for handling the transfer of various data files such as text files graphic images animation files audio files and video files. On the Web the information in various data files is formatted for presentation to a user by a standard page description language the hypertext markup language HTML . Documents using HTML are also referred to as Web pages. Web pages are connected to each other through links or hyperlinks. These links allow for a connection or link to other Web resources identified by a universal resource identifier URI such as a uniform resource locator URL .

An Application Programming Interface API is the interface that a computer system library or application provides in order to allow requests for services to be made of it by other computer programs and or to allow data to be exchanged between them.

SIP the Session Initiation Protocol is a typical signaling protocol for Internet conferencing telephony presence events notification and instant messaging. Such sessions include voice video chat interactive games and virtual reality. As a text based request response protocol SIP is similar to HTTP and SMTP however SIP is peer to peer. SIP is a signaling protocol for creating modifying and destroying dialogs between multiple endpoints. SIP headers are similar to HTTP header fields in both syntax and semantics. The following request messages are defined by the core SIP protocol INVITE which invites a participant to a session BYE which ends a client s participation in a session CANCEL which terminates a transaction ACK which is acceptance and REGISTER which informs a SIP server about the location of a user and OPTIONS which queries a participant about their media capabilities.

Network layer also is referred to as the internet layer and handles the movement of packets of data around the network. For example network layer handles the routing of various packets of data that are transferred over the network. Network layer in the TCP IP suite is comprised of several protocols including Internet Protocol IP Internet Control Message Protocol ICMP and Internet Group Management Protocol IGMP .

Next transport layer provides an interface between network layer and application layer that facilitates the transfer of data between two host computers. Transport layer is concerned with things such as for example dividing the data passed to it from the application into appropriately sized chunks for the network layer below acknowledging received packets and setting timeouts to make certain the other end acknowledges packets that are sent. In the TCP IP protocol suite two distinctly different transport protocols are present TCP and User Datagram Protocol UDP . TCP provides reliability services to ensure that data is properly transmitted between two hosts including dropout detection and retransmission services.

Conversely UDP provides a much simpler service to the application layer by merely sending packets of data called datagrams from one host to the other without providing any mechanism for guaranteeing that the data is properly transferred. When using UDP the application layer must perform the reliability functionality.

Application layer handles the details of the particular application. Many common TCP IP applications are present for almost every implementation including a Telnet for remote login a file transfer protocol FTP a simple mail transfer protocol SMTP for electronic mail and a simple network management protocol SNMP .

SIP enabled video on demand VoD server such as server of is indicated in the left portion of the figure. Proxy server another example of a server such as server of is indicated in the center of the figure and subscriber workstation is indicated in the right portion of the figure. Workstation is an example of client of . Steps to establish a SIP based subscription are indicated by the arrows. Subscriber workstation initiates the call to the Video on Demand server step . This request is captured by proxy server . Video on Demand server sends the corresponding Session Description Protocol SDP information step . Session Description Protocol is a format for describing streaming media initialization parameters. Session Description Protocol is intended for describing multimedia sessions for the purposes of session announcement session invitation and other forms of multimedia session initiation. Step is also captured by proxy server .

Through proxy server the Internet Protocol sampler such as Internet Protocol sampler illustrated in has access to the Session Description Protocol record. Contained within the Session Description Protocol record is connection information that may be used to identify the subscription and session time information that may identify when the session started and when the session terminated. Subscriber workstation sends an acknowledgment back through proxy server to Video on Demand VoD server step . The media session Session Description Protocol response as well as the bye and the bye acknowledgement are as shown in steps .

The illustrative embodiments provide an Advertisement Management system hereinafter AM system in an Internet Protocol streaming environment that allows for automatically updating advertising programming based upon viewer utilization data. An Internet Protocol streaming environment is an environment in which an IP provider streams audio video or audio and video to a user. The illustrative embodiments may be implemented on an Internet Protocol network such as network in . An advertisement as used herein is a paid announcement or a public notice inserted into the Internet Protocol streaming environment. The AM system may require access to the real time or near real time network statistics captured by the Internet Protocol middleware software or the Operational Support System software that connects to the network management system. The TCP IP package header may provide information relating to the consumer and the content selected. The information may also be provided through an Internet Protocol service provider system of click awareness. Click awareness is a method of determining and recording user selections.

Consider an example case of Internet Protocol service provider Alpha. Alpha provides streaming video telecasts to customers using several routes of delivery. A telecast as used herein is audio and or video content streamed over an Internet Protocol environment. The routes include multicast video via a set top box or web cast technologies and unicast services such as video on demand VoD . Video on Demand may also be a multicast delivery. Viewers using Alpha s services may watch the streaming video telecast live or record the streaming video telecast to watch later. Alpha provides a variety of streaming video content. In this example a single streaming video channel 1 will be used to illustrate the embodiments. If the same content is telecast over several channels those several channels may be treated as one channel for the purposes of these illustrative embodiments. Those of ordinary skill in the art will appreciate that an Internet Protocol service provider may choose to manage all advertising content by implementing the illustrative embodiments.

Advertiser A is willing to pay premium rates for an advertising timeslot on channel 1 but only if channel 1 has enough viewers. Advertiser B will only pay the lower rate for advertising on channel 1. In this example the AM system will manage Alpha s advertising content by running Advertiser A commercials during high volume times and Advertiser B commercials during standard or low volume times. The AM system may also mix the Advertisers ads in a single play list.

Alpha using a configuration subsystem provided by the AM system sets a utilization threshold to be used by the system. In this case the threshold is defined as a utilization threshold. However in other examples the threshold may be defined in a wide variety of ways such as the number of days with a high temperature over eighty degrees so that a sunscreen advertisement may be inserted. Those of ordinary skill in the art may appreciate that such parameters may be candidates for use as a threshold. In this case the utilization threshold is the criterion that determines a change in advertising content. Additionally in this example utilization is the number of all viewers accessing the streaming video telecast. The utilization threshold may be configured differently for each channel and or each timeslot. In this case exceeding the utilization threshold triggers a change in the advertisement playlist as well as the advertising rates. The utilization threshold may be configured by the user. In another illustrative embodiment the utilization threshold may be defined as the number of viewers that meet a particular profile such as the number of viewers in an adult only household or the number of Spanish speaking viewers.

Advertiser A sends streaming video ads A A and A and Advertiser B sends streaming video ads B B and B to Alpha. Alpha stores the ad content and information about the ads called meta data in a content library database associated with the Internet Protocol provider content management system. The AM system accesses the Internet Protocol provider content library and creates an advertisement meta data list. The user may configure which data is collected and stored in the advertisement meta data list.

The AM system contains a playlist manager. Play lists are the sequences of ads that are played together. The playlist manager checks to see if the current channel utilization exceeds the threshold utilization defined for the particular timeslot. If the playlist manager determines that the threshold utilization has not been exceeded then the scheduled playlist will be passed to the playlist inserter subsystem. The playlist may be a list of pointers that indicate the advertisements to be played and the location of the advertisements contained in the meta data library.

In this example the play list manager creates a playlist A consisting of A A and A and a playlist B consisting of B B and B. The playlist manager schedules playlist B for the channel 1 timeslot. In this example a lower than threshold channel utilization is expected and therefore playlist B is the default or scheduled playlist.

Prior to the scheduled time the AM system samples the Internet Protocol stream to determine the utilization of channel 1. If the utilization threshold is not exceeded indicating that viewership is low playlist B is played as scheduled. However if the utilization threshold is exceeded the AM system inserts playlist A instead of playlist B. The AM system detects the advertisement interrupt records the billing rate and advertiser and passes this information to the Internet Protocol provider s accounting system. Once determined the playlist is passed to an advertisement playing module within the Internet Protocol provider to be played.

The Internet Protocol provider interfaces to network manager . Internet Protocol sampler gathers the information through the Internet Protocol provider interface to the network manager to enable sampling of the multicast datagrams that are sent. A datagram is an independent self contained message sent over a network.

Utilization analyzer calculates both the baseline utilizations for each channel and the current utilization for each channel. Utilization analyzer takes the SIP header invite and termination information and translates these into utilization statistics per channel. The illustrative embodiments may reside in a network that is SIP enabled to generate the SIP call information. A SIP call establishes sessions for features such as audio videoconferencing interactive gaming and call forwarding to be deployed over Internet Protocol networks.

Utilization analyzer operates over a database that stores analytic data used at the time the utilization per channel is calculated. The illustrative embodiments provide for a scalable either horizontal or vertical processor such as processing unit of to manage the in memory functions of utilization analyzer and the coupling to Internet Protocol Sampler . The SIP interface operates at level 4 of the Internet Protocol Stack in the application layer such as application layer of therefore this invention is primarily a level 4 application using the network services at the lower levels only for delivery.

Threshold manager determines whether a utilization threshold has been exceeded. Threshold manager receives input from the user through configuration manager . In another embodiment a threshold may not be associated with a utilization threshold but may be associated with an alert such as a weather emergency. The user may configure AM system to insert an advertisement concerning storm shelters or weather band radios. In this example however threshold manager receives current utilization information from utilization analyzer . Threshold manager compares the current utilization information with the threshold utilization as input through configuration manager . Threshold manager changes the advertising playlist based on whether the utilization threshold is exceeded.

Internet Protocol sampler accesses network manager to obtain viewer utilization data. Internet Protocol sampler passes the information to utilization analyzer . Meta data advertisement list interconnects with Internet Protocol provider content library to get meta data for the advertisements. Meta data advertisement list is an advertisement meta data store of all of the advertisements that will be scheduled to play whether in a scheduled playlist or a dynamic playlist. Content library may also be contained in a relational database as well as a file system to store raw advertisement streams.

Configuration manager supplies and manages the data and algorithms that are user configurable in the AM system modules. Configuration manger may implement graphical user interfaces GUIs for user data input into meta data advertisement list playlist manager and threshold manager . In the initial setup process for the AM system the user in order to create the advertisement selection criteria enters configuration data. Selection may be time based for example an advertisement may play only twice in a one hour period. Alternatively selections may be demand based for example the advertisement will play when viewership is greater than 20 of total possible subscribers. In other words when the current utilization of a channel exceeds a 20 threshold utilization.

Playlist manager works with content library to identify playlist items that are scheduled. Playlist manager makes the determination whether or not to override the scheduled playlist with a dynamic intelligent playlist. Playlist manager makes this decision using the utilization by channel information from utilization analyzer .

If the threshold utilization is exceeded the playlist manager may pass a preselected dynamic intelligent playlist from the content library to Playlist inserter . Alternatively playlist manager may use information from metadata advertisement list to create a dynamic intelligent play list. A dynamic intelligent playlist is a playlist that overrides the playlist scheduled for a particular timeslot. In the case of Internet Protocol provider Alpha playlist A is a dynamic intelligent playlist that overrides playlist B the scheduled playlist. If the current utilization does not exceed the threshold utilization playlist manager passes the scheduled playlist to playlist inserter .

Playlist manger may create a dynamic intelligent playlist at any time. For instance a dynamic intelligent playlist may be created by the playlist manager months days or just before the playlist is inserted into the Internet Protocol stream telecast. Once playlist manager has selected the playlist whether scheduled or dynamic playlist manager passes the playlist to playlist inserter . Playlist inserter interfaces with Internet Protocol middleware to enable the playlist to be inserted into the Internet Protocol streaming telecast. The actual advertising playlist insertion into the Internet Protocol streaming telecast is done from within Internet Protocol provider Internet Protocol middleware . In addition playlist manager sends information to billing interface so that the advertiser may be billed at the correct billing rate for the advertisements that are inserted. Billing interface interfaces to the Internet Protocol provider s accounting system . Billing interface is a backend interface for billing and rating. Billing interface provides access into systems such as a general ledger system for capture of accounting information.

A Quality of Service QoS measure may be used to determine the numbers of users that are actually active. The Internet Protocol sampler such as Internet Protocol sampler of may use a form of Click awareness for the users channel selection. Viewers may also store preferences for the types of programming that they view. This data may provide another dimension to the selection algorithm used in the playlist manager such as playlist manager in for the selection of advertisements. The Quality of Service software may be used to determine the user actions and provide the data back to user profiles. This data may be accessed by the configuration module to provide further algorithms to more accurately target playlist selections.

The utilization analyzer determines the baseline utilization for each channel by obtaining the subscribers channel selection step and calculating the percentage of active subscribers for a channel step . The next step is to define threshold periods step . The utilization analyzer obtains historic statistics from the network to determine usage and utilization when making decisions on the creation of the periods. Defining threshold periods may be done by the user using the configuration module or the definitions may be created by an algorithm that automatically segments the day.

The utilization analyzer then establishes the baseline utilization numbers by channel for each defined threshold period step . Once a baseline of service has been established the data will be stored in a baseline database. This baseline may be used to compare utilization once the setup is complete and the AM system is in operation. Baseline data includes but is not limited to channel utilization availability pricing per segment and rating profile. The baseline may be revisited periodically to be updated or refined based on a new channel introduction or changes to the Internet Protocol provider s business model.

The utilization analyzer uses the same methodology to calculate the current utilization by channel when an interrupt signal is received by the AM system signaling the utilization analyzer step . The utilization analyzer calculates and then stores the percent utilization per channel for a defined threshold period step thus ending the process.

The meta data table contains the name of the advertisement product being advertised type of advertisement rating of the advertisement utilization threshold time and date of the last scheduled run of the advertisement time and date of the last actual run of the advertisement and number of times the advertisement has been run to date . Those of ordinary skill in the art will appreciate that many more types of meta data may be stored in the meta data table in accordance with the illustrative embodiments.

First record lists advertisement AD. AD is a musical advertisement for a beverage with a rating for general audiences. AD has a utilization threshold of 10 . AD may be a scheduled advertisement it was last scheduled to run during timeslot 2 on September 15. However AD may also be a dynamic advertisement. If a channel achieves a utilization exceeding 10 of the subscribing viewership AD may be added to a dynamic intelligent playlist and inserted into the Internet Protocol stream telecast. AD was last run during timeslot 2 on September 17. AD has run one thousand three hundred twenty four times. The meta data advertisement list may be configured to break out the number of times an advertisement has run by whether the advertisement was in a scheduled or dynamic intelligent playlist.

Second record list meta data for advertisement AD an insurance advertisement. The utilization threshold is set higher than AD at 50 of the subscribing audience. Both the last scheduled and the last run date times are timeslot 17 September 1 indicating that the AD has not been run since it was last scheduled. Those of ordinary skill in the art can appreciate that each advertisement may have a different utilization threshold per channel.

Third record is for AD which is an advertisement that only runs during scheduled times. Fourth record AD is a musical advertisement that is not scheduled but runs only when the channel utilization exceeds 20 of the subscription audience. Many more meta data types may be added to meta data table .

If there are additional advertisements that can be played within the timeslot and according to the play rules these will be added to the playlist. If there are no additional advertisements meeting the demand criteria programmed content will be retrieved and played during the scheduled advertisement segment.

If the current utilization does exceed the threshold utilization a yes output to step the playlist manager will pass a dynamic intelligent playlist to the Internet Protocol inserter step . First the playlist manager will determine if a playlist library a database within the playlist manager has an available playlist step . If there are no available playlists in the playlist library a no output to step the playlist manager will create the playlist by accessing the meta data advertisement list step . The playlist manager then selects the appropriate advertisement based on the meta data of the advertisement step . The Internet Protocol inserter interface confirms that the playlist time to play is compatible with the amount of time in the timeslot step . The playlist manager then passes the playlist to the playlist insertion subsystem step with the process terminating thereafter.

Returning now to step if there is an available playlist in the playlist library a yes output to step the playlist manager will determine if there are any overflow playlists available before selecting a non overflow playlist step . An overflow playlist contains at least one overflow advertisement. An overflow advertisement is one that had been queued to be played previously but was not played. If there are no overflow playlists available a no output to step the playlist manager will designate a non overflow playlist from the playlist library step . The Internet Protocol inserter interface confirms that the playlist time to play is compatible with the amount of time in the timeslot step . The playlist manager then passes the playlist to the playlist insertion subsystem step with the process terminating thereafter.

Returning now to step if there is an overflow playlist available a yes output to step the playlist manager will the make the determination whether the playlist is current step . If the playlist is current a yes output to step the playlist is passed to the Internet Protocol inserter which confirms that the playlist time to play is compatible with the amount of time in the timeslot step . The playlist manager then passes the playlist to the playlist insertion subsystem step with the process terminating thereafter. Returning to step if the playlist is not current a no output to step the playlist is updated step before it is passed to the Internet Protocol inserter which confirms that the playlist time to play is compatible with the amount of time in the timeslot step . The playlist manager then passes the playlist to the playlist insertion subsystem step with the process terminating thereafter.

Returning to step if the threshold utilization is not exceeded a no output to step the playlist manager gets the scheduled playlist step from the playlist library which may be stored within the playlist manager module. The Internet Protocol inserter interface confirms that the playlist time to play is compatible with the amount of time in the timeslot step . The playlist manager then passes the playlist to the playlist insertion subsystem step with the process terminating thereafter.

The utilization module performs the current utilization calculations step . The playlist manager then selects the playlist step and passes the playlist to the Internet Protocol inserter step . The play list may be a virtual memory heap that will be retrieved at runtime to run the advertisements within a timeslot. The playlist may contain both on demand inserted and program inserted advertisements. Simplistically the playlist may be a large array of content pointers that is edited during the insertion process.

The Internet Protocol inserter such as playlist inserter in interfaces with Internet Protocol middleware which actually plays the playlist step with the process terminating thereafter. When the Internet Protocol inserter passes the playlist at step the Internet Protocol inserter generates an advertisement interrupt step which signals the billing interface such as billing interface in to generate the Advertiser billing data to pass to the accounting module step with the process terminating thereafter.

The illustrative embodiments enable an organization to monitor Internet Protocol traffic and to insert advertising based on thresholds that would be configured at definition time. The illustrative embodiments may be entirely passive to the consumer as they only sample the telecommunications network. Statistics are collected and analyzed in near real time removing the need for the consumer to actively participate in surveys. The illustrative embodiments use analysis of SIP Header Invite for a Multicast Group utilization and Unicast Stream subscription to determine the usage thresholds that are being achieved by a particular channel. This information may be obtained from the SIP Invite using a modified subject line as input. The negotiation of this information is the responsibility of the network manager and is performed by the Internet Protocol Sampler or in another embodiment a form of packet sniffer. A sniffer is a program and or device that monitors data traveling over a network. The network manager provides input to the advertisement management system. An Internet Protocol Sampler may be required to pass SIP Header Invite and Bye or Close messages. This may allow for the creation of a pair record for a subscription.

The invention can take the form of an entirely hardware embodiment an entirely software embodiment or an embodiment containing both hardware and software elements. In a preferred embodiment the invention is implemented in software which includes but is not limited to firmware resident software microcode etc.

Furthermore the invention can take the form of a computer program product accessible from a computer usable or computer readable medium providing program code for use by or in connection with a computer or any instruction execution system. For the purposes of this description a computer usable or computer readable medium can be any tangible apparatus that can contain store communicate propagate or transport the program for use by or in connection with the instruction execution system apparatus or device.

The medium can be an electronic magnetic optical electromagnetic infrared or semiconductor system or apparatus or device or a propagation medium. Examples of a computer readable medium include a semiconductor or solid state memory magnetic tape a removable computer diskette a random access memory RAM a read only memory ROM a rigid magnetic disk and an optical disk. Current examples of optical disks include compact disk read only memory CD ROM compact disk read write CD R W and DVD.

A data processing system suitable for storing and or executing program code will include at least one processor coupled directly or indirectly to memory elements through a system bus. The memory elements can include local memory employed during actual execution of the program code bulk storage and cache memories which provide temporary storage of at least some program code in order to reduce the number of times code must be retrieved from bulk storage during execution.

Input output or I O devices including but not limited to keyboards displays pointing devices etc. can be coupled to the system either directly or through intervening I O controllers.

Network adapters may also be coupled to the system to enable the data processing system to become coupled to other data processing systems or remote printers or storage devices through intervening private or public networks. Modems cable modem and Ethernet cards are just a few of the currently available types of network adapters.

The description of the present invention has been presented for purposes of illustration and description and is not intended to be exhaustive or limited to the invention in the form disclosed. Many modifications and variations will be apparent to those of ordinary skill in the art. The embodiment was chosen and described in order to best explain the principles of the invention the practical application and to enable others of ordinary skill in the art to understand the invention for various embodiments with various modifications as are suited to the particular use contemplated.


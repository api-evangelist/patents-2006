---

title: Systems and methods for assured communications with quality of service
abstract: Embodiments of the present invention provide systems and methods for facilitating communication of data. A method includes communicating data including prioritizing a block of data, setting an indicator in a header of the block of data, transmitting the block of data, and retransmitting the block of data. The indicator indicates that reliable delivery of the block of data is desired. The indicator is set based at least in part on a rule. The indicator is set on a per-message basis. The block of data is retransmitted when a predetermined time has elapsed and when an acknowledgement of delivery of the block of data has not been received.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08300653&OS=08300653&RS=08300653
owner: Harris Corporation
number: 08300653
owner_city: Melbourne
owner_country: US
publication_date: 20060731
---
The presently described technology generally relates to communications networks. More particularly the presently described technology relates to systems and methods for assured communications with Quality of Service.

Communications networks are utilized in a variety of environments. Communications networks typically include two or more nodes connected by one or more links. Generally a communications network is used to support communication between two or more participant nodes over the links and intermediate nodes in the communications network. There may be many kinds of nodes in the network. For example a network may include nodes such as clients servers workstations switches and or routers. Links may be for example modem connections over phone lines wires Ethernet links Asynchronous Transfer Mode ATM circuits satellite links and or fiber optic cables.

A communications network may actually be composed of one or more smaller communications networks. For example the Internet is often described as network of interconnected computer networks. Each network may utilize a different architecture and or topology. For example one network may be a switched Ethernet network with a star topology and another network may be a Fiber Distributed Data Interface FDDI ring.

Communications networks may carry a wide variety of data. For example a network may carry bulk file transfers alongside data for interactive real time conversations. The data sent on a network is often sent in packets cells or frames. Alternatively data may be sent as a stream. In some instances a stream or flow of data may actually be a sequence of packets. Networks such as the Internet provide general purpose data paths between a range of nodes and carrying a vast array of data with different requirements.

Communication over a network typically involves multiple levels of communication protocols. A protocol stack also referred to as a networking stack or protocol suite refers to a collection of protocols used for communication. Each protocol may be focused on a particular type of capability or form of communication. For example one protocol may be concerned with the electrical signals needed to communicate with devices connected by a copper wire. Other protocols may address ordering and reliable transmission between two nodes separated by many intermediate nodes for example.

Protocols in a protocol stack typically exist in a hierarchy. Often protocols are classified into layers. One reference model for protocol layers is the Open Systems Interconnection OSI model. The OSI reference model includes seven layers a physical layer data link layer network layer transport layer session layer presentation layer and application layer. The physical layer is the lowest layer while the application layer is the highest layer. Two well known transport layer protocols are the Transmission Control Protocol TCP and User Datagram Protocol UDP . A well known network layer protocol is the Internet Protocol IP .

At the transmitting node data to be transmitted is passed down the layers of the protocol stack from highest to lowest. Conversely at the receiving node the data is passed up the layers from lowest to highest. At each layer the data may be manipulated by the protocol handling communication at that layer. For example a transport layer protocol may add a header to the data that allows for ordering of packets upon arrival at a destination node. Depending on the application some layers may not be used or even present and data may just be passed through.

One kind of communications network is a tactical data network. A tactical data network may also be referred to as a tactical communications network. A tactical data network may be utilized by units within an organization such as a military e.g. army navy and or air force . Nodes within a tactical data network may include for example individual soldiers aircraft command units satellites and or radios. A tactical data network may be used for communicating data such as voice position telemetry sensor data and or real time video.

An example of how a tactical data network may be employed is as follows. A logistics convoy may be in route to provide supplies for a combat unit in the field. Both the convoy and the combat unit may be providing position telemetry to a command post over satellite radio links. An unmanned aerial vehicle UAV may be patrolling along the road the convoy is taking and transmitting real time video data to the command post over a satellite radio link also. At the command post an analyst may be examining the video data while a controller is tasking the UAV to provide video for a specific section of road. The analyst may then spot an improvised explosive device IED that the convoy is approaching and send out an order over a direct radio link to the convoy for it to halt and alerting the convoy to the presence of the IED.

The various networks that may exist within a tactical data network may have many different architectures and characteristics. For example a network in a command unit may include a gigabit Ethernet local area network LAN along with radio links to satellites and field units that operate with much lower throughput and higher latency. Field units may communicate both via satellite and via direct path radio frequency RF . Data may be sent point to point multicast or broadcast depending on the nature of the data and or the specific physical characteristics of the network. A network may include radios for example set up to relay data. In addition a network may include a high frequency HF network which allows long rang communication. A microwave network may also be used for example. Due to the diversity of the types of links and nodes among other reasons tactical networks often have overly complex network addressing schemes and routing tables. In addition some networks such as radio based networks may operate using bursts. That is rather than continuously transmitting data they send periodic bursts of data. This is useful because the radios are broadcasting on a particular channel that must be shared by all participants and only one radio may transmit at a time.

Tactical data networks are generally bandwidth constrained. That is there is typically more data to be communicated than bandwidth available at any given point in time. These constraints may be due to either the demand for bandwidth exceeding the supply and or the available communications technology not supplying enough bandwidth to meet the user s needs for example. For example between some nodes bandwidth may be on the order of kilobits sec. In bandwidth constrained tactical data networks less important data can clog the network preventing more important data from getting through in a timely fashion or even arriving at a receiving node at all. In addition portions of the networks may include internal buffering to compensate for unreliable links. This may cause additional delays. Further when the buffers get full data may be dropped.

In many instances the bandwidth available to a network cannot be increased. For example the bandwidth available over a satellite communications link may be fixed and cannot effectively be increased without deploying another satellite. In these situations bandwidth must be managed rather than simply expanded to handle demand. In large systems network bandwidth is a critical resource. It is desirable for applications to utilize bandwidth as efficiently as possible. In addition it is desirable that applications avoid clogging the pipe that is overwhelming links with data when bandwidth is limited. When bandwidth allocation changes applications should preferably react. Bandwidth can change dynamically due to for example quality of service jamming signal obstruction priority reallocation and line of sight. Networks can be highly volatile and available bandwidth can change dramatically and without notice.

In addition to bandwidth constraints tactical data networks may experience high latency. For example a network involving communication over a satellite link may incur latency on the order of half a second or more. For some communications this may not be a problem but for others such as real time interactive communication e.g. voice communications it is highly desirable to minimize latency as much as possible.

Another characteristic common to many tactical data networks is data loss. Data may be lost due to a variety of reasons. For example a node with data to send may be damaged or destroyed. As another example a destination node may temporarily drop off of the network. This may occur because for example the node has moved out of range the communication s link is obstructed and or the node is being jammed. Data may be lost because the destination node is not able to receive it and intermediate nodes lack sufficient capacity to buffer the data until the destination node becomes available. Additionally intermediate nodes may not buffer the data at all instead leaving it to the sending node to determine if the data ever actually arrived at the destination.

Often applications in a tactical data network are unaware of and or do not account for the particular characteristics of the network. For example an application may simply assume it has as much bandwidth available to it as it needs. As another example an application may assume that data will not be lost in the network. Applications which do not take into consideration the specific characteristics of the underlying communications network may behave in ways that actually exacerbate problems. For example an application may continuously send a stream of data that could just as effectively be sent less frequently in larger bundles. The continuous stream may incur much greater overhead in for example a broadcast radio network that effectively starves other nodes from communicating whereas less frequent bursts would allow the shared bandwidth to be used more effectively.

Certain protocols do not work well over tactical data networks. For example a protocol such as TCP may not function well over a radio based tactical network because of the high loss rates and latency such a network may encounter. TCP requires several forms of handshaking and acknowledgments to occur in order to send data. High latency and loss may result in TCP hitting time outs and not being able to send much if any meaningful data over such a network.

Information communicated with a tactical data network often has various levels of priority with respect to other data in the network. For example threat warning receivers in an aircraft may have higher priority than position telemetry information for troops on the ground miles away. As another example orders from headquarters regarding engagement may have higher priority than logistical communications behind friendly lines. The priority level may depend on the particular situation of the sender and or receiver. For example position telemetry data may be of much higher priority when a unit is actively engaged in combat as compared to when the unit is merely following a standard patrol route. Similarly real time video data from an UAV may have higher priority when it is over the target area as opposed to when it is merely in route.

There are several approaches to delivering data over a network. One approach used by many communications networks is a best effort approach. That is data being communicated will be handled as well as the network can given other demands with regard to capacity latency reliability ordering and errors. Thus the network provides no guarantees that any given piece of data will reach its destination in a timely manner or at all. Additionally no guarantees are made that data will arrive in the order sent or even without transmission errors changing one or more bits in the data.

Another approach is Quality of Service QoS . QoS refers to one or more capabilities of a network to provide various forms of guarantees with regard to data that is carried. For example a network supporting QoS may guarantee a certain amount of bandwidth to a data stream. As another example a network may guarantee that packets between two particular nodes have some maximum latency. Such a guarantee may be useful in the case of a voice communication where the two nodes are two people having a conversation over the network. Delays in data delivery in such a case may result in irritating gaps in communication and or dead silence for example.

QoS may be viewed as the capability of a network to provide better service to selected network traffic. The primary goal of QoS is to provide priority including dedicated bandwidth controlled jitter and latency required by some real time and interactive traffic and improved loss characteristics. Another important goal is making sure that providing priority for one flow does not make other flows fail. That is guarantees made for subsequent flows must not break the guarantees made to existing flows.

Current approaches to QoS often require every node in a network to support QoS or at the very least for every node in the network involved in a particular communication to support QoS. For example in current systems in order to provide a latency guarantee between two nodes every node carrying the traffic between those two nodes must be aware of and agree to honor and be capable of honoring the guarantee.

There are several approaches to providing QoS. One approach is Integrated Services or IntServ. IntServ provides a QoS system wherein every node in the network supports the services and those services are reserved when a connection is set up. IntServ does not scale well because of the large amount of state information that must be maintained at every node and the overhead associated with setting up such connections.

Another approach to providing QoS is Differentiated Services or DiffServ. DiffServ is a class of service model that enhances the best effort services of a network such as the Internet. DiffServ differentiates traffic by user service requirements and other criteria. Then DiffServ marks packets so that network nodes can provide different levels of service via priority queuing or bandwidth allocation or by choosing dedicated routes for specific traffic flows. Typically a node has a variety of queues for each class of service. The node then selects the next packet to send from those queues based on the class categories.

Existing QoS solutions are often network specific and each network type or architecture may require a different QoS configuration. Due to the mechanisms existing QoS solutions utilize messages that look the same to current QoS systems may actually have different priorities based on message content. However data consumers may require access to high priority data without being flooded by lower priority data. Existing QoS systems cannot provide QoS based on message content at the transport layer.

As mentioned existing QoS solutions require at least the nodes involved in a particular communication to support QoS. However the nodes at the edge of network may be adapted to provide some improvement in QoS even if they are incapable of making total guarantees. Nodes are considered to be at the edge of the network if they are the participating nodes in a communication i.e. the transmitting and or receiving nodes and or if they are located at chokepoints in the network. A chokepoint is a section of the network where all traffic must pass to another portion. For example a router or gateway from a LAN to a satellite link would be a choke point since all traffic from the LAN to any nodes not on the LAN must pass through the gateway to the satellite link.

As mentioned above tactical data networks may have high latency and or data loss rates. As a result applications may exhibit undesirable behavior when communicating with nodes over tactical data networks. Protocols like TCP that provide services such as reliable delivery may not function properly when used over such networks. For example an application communicating with a node over a tactical data network with low bandwidth high latency and or a high data loss rate may not function correctly or at all due to timeouts and missing data that prevent a protocol such as TCP from operating correctly. Thus it is highly desirable to be able to reliably communicate messages over a tactical data network.

The senders of messages on a tactical data network may desire guaranteed delivery for particular messages. For example position telemetry data from a unit in the field may not require assured delivery because the data is frequently updated and transmitted and thus even if some messages are dropped enough will get through the tactical data network to be effective. In contrast messages such as orders are generally desired to have assured delivery. An order that is not received is akin to no order at all. For example a commander in one field unit may order a cooperating field unit to a particular map location or to hold position. If the cooperating field unit does not receive the order the units may mistake each other for enemy units because each is not where the other expects it to be. Thus it is highly desirable to be able to reliably communicate specific messages over a tactical data network.

Thus there is a need for systems and methods providing QoS in a tactical data network. There is a need for systems and methods for providing QoS on the edge of a tactical data network. Additionally there is a need for systems and methods for assured communications with QoS.

Embodiments of the present invention provide systems and methods for facilitating communication of data. A method includes communicating data including prioritizing a block of data setting an indicator in a header of the block of data transmitting the block of data and retransmitting the block of data. The indicator indicates that reliable delivery of the block of data is desired. The indicator is set based at least in part on a rule. The indicator is set on a per message basis. The block of data is retransmitted when a predetermined time has elapsed and when an acknowledgement of delivery of the block of data has not been received.

Certain embodiments provide a data communication system for providing content based quality of service in a network including a communication component a prioritization component and a reliability component. The communication component is adapted to receive a block of data. The communication component is adapted to transmit the block of data. The prioritization component is adapted to prioritize the block of data based at least in part on the content of the block of data and a prioritization rule selected from a set of available prioritization rules. The reliability component is adapted to set an indicator in the block of data based at least in part on a reliability rule selected from a set of available reliability rules. The reliability component is adapted to send an acknowledgement message based at least in part on a reliability indicator in a received block of data.

Certain embodiments provide a computer readable medium including a set of instructions for execution on a computer the set of instructions including a communication routine a prioritization routine and a reliability routine. The communication routine is configured to receive data. The communication routine is configured to transmit the data. The prioritization routine is configured to prioritize the data based at least in part on the content of the data. The reliability routine is configured to set an indicator in the data based at least in part on a reliability rule selected from a set of available reliability rules. The reliability routine is configured to send an acknowledgement message based at least in part on a reliability indicator in a received block of data.

The foregoing summary as well as the following detailed description of certain embodiments of the present invention will be better understood when read in conjunction with the appended drawings. For the purpose of illustrating the invention certain embodiments are shown in the drawings. It should be understood however that the present invention is not limited to the arrangements and instrumentality shown in the attached drawings.

Communication nodes may be and or include radios transmitters satellites receivers workstations servers and or other computing or processing devices for example.

Network s may be hardware and or software for transmitting data between nodes for example. Network s may include one or more nodes for example.

Link s may be wired and or wireless connections to allow transmissions between nodes and or network s .

The communications system may include software firmware and or hardware used to facilitate data transmission among the nodes networks and links for example. As illustrated in communications system may be implemented with respect to the nodes network s and or links . In certain embodiments every node includes a communications system . In certain embodiments one or more nodes include a communications system . In certain embodiments one or more nodes may not include a communications system .

The communication system provides dynamic management of data to help assure communications on a tactical communications network such as the network environment . As shown in in certain embodiments the system operates as part of and or at the top of the transport layer in the OSI seven layer protocol model. The system may give precedence to higher priority data in the tactical network passed to the transport layer for example. The system may be used to facilitate communications in a single network such as a local area network LAN or wide area network WAN or across multiple networks. An example of a multiple network system is shown in . The system may be used to manage available bandwidth rather than add additional bandwidth to the network for example.

In certain embodiments the system is a software system although the system may include both hardware and software components in various embodiments. The system may be network hardware independent for example. That is the system may be adapted to function on a variety of hardware and software platforms. In certain embodiments the system operates on the edge of the network rather than on nodes in the interior of the network. However the system may operate in the interior of the network as well such as at choke points in the network.

The system may use rules and modes or profiles to perform throughput management functions such as optimizing available bandwidth setting information priority and managing data links in the network. By optimizing bandwidth it is meant that the presently described technology can be employed to increase an efficiency of bandwidth use to communicate data in one or more networks. Optimizing bandwidth usage may include removing functionally redundant messages message stream management or sequencing and message compression for example. Setting information priority may include differentiating message types at a finer granularity than Internet Protocol IP based techniques and sequencing messages onto a data stream via a selected rule based sequencing algorithm for example. Data link management may include rule based analysis of network measurements to affect changes in rules modes and or data transports for example. A mode or profile may include a set of rules related to the operational needs for a particular network state of health or condition. The system provides dynamic on the fly reconfiguration of modes including defining and switching to new modes on the fly.

The communication system may be configured to accommodate changing priorities and grades of service for example in a volatile bandwidth limited network. The system may be configured to manage information for improved data flow to help increase response capabilities in the network and reduce communications latency. Additionally the system may provide interoperability via a flexible architecture that is upgradeable and scalable to improve availability survivability and reliability of communications. The system supports a data communications architecture that may be autonomously adaptable to dynamically changing environments while using predefined and predictable system resources and bandwidth for example.

In certain embodiments the system provides throughput management to bandwidth constrained tactical communications networks while remaining transparent to applications using the network. The system provides throughput management across multiple users and environments at reduced complexity to the network. As mentioned above in certain embodiments the system runs on a host node in and or at the top of layer four the transport layer of the OSI seven layer model and does not require specialized network hardware. The system may operate transparently to the layer four interface. That is an application may utilize a standard interface for the transport layer and be unaware of the operation of the system . For example when an application opens a socket the system may filter data at this point in the protocol stack. The system achieves transparency by allowing applications to use for example the TCP IP socket interface that is provided by an operating system at a communication device on the network rather than an interface specific to the system . System rules may be written in extensible markup language XML and or provided via custom dynamic link libraries DLLs for example.

In certain embodiments the system provides quality of service QoS on the edge of the network. The system s QoS capability offers content based rule based data prioritization on the edge of the network for example. Prioritization may include differentiation and or sequencing for example. The system may differentiate messages into queues based on user configurable differentiation rules for example. The messages are sequenced into a data stream in an order dictated by the user configured sequencing rule e.g. starvation round robin relative frequency etc. . Using QoS on the edge data messages that are indistinguishable by traditional QoS approaches may be differentiated based on message content for example. Rules may be implemented in XML for example. In certain embodiments to accommodate capabilities beyond XML and or to support extremely low latency requirements the system allows dynamic link libraries to be provided with custom code for example.

Inbound and or outbound data on the network may be customized via the system . Prioritization protects client applications from high volume low priority data for example. The system helps to ensure that applications receive data to support a particular operational scenario or constraint.

In certain embodiments when a host is connected to a LAN that includes a router as an interface to a bandwidth constrained tactical network the system may operate in a configuration known as QoS by proxy. In this configuration packets that are bound for the local LAN bypass the system and immediately go to the LAN. The system applies QoS on the edge of the network to packets bound for the bandwidth constrained tactical link.

In certain embodiments the system offers dynamic support for multiple operational scenarios and or network environments via commanded profile switching. A profile may include a name or other identifier that allows the user or system to change to the named profile. A profile may also include one or more identifiers such as a functional redundancy rule identifier a differentiation rule identifier an archival interface identifier a sequencing rule identifier a pre transmit interface identifier a post transmit interface identifier a transport identifier and or other identifier for example. A functional redundancy rule identifier specifies a rule that detects functional redundancy such as from stale data or substantially similar data for example. A differentiation rule identifier specifies a rule that differentiates messages into queues for processing for example. An archival interface identifier specifies an interface to an archival system for example. A sequencing rule identifier identifies a sequencing algorithm that controls samples of queue fronts and therefore the sequencing of the data on the data stream. A pre transmit interface identifier specifies the interface for pre transmit processing which provides for special processing such as encryption and compression for example. A post transmit interface identifier identifies an interface for post transmit processing which provides for processing such as de encryption and decompression for example. A transport identifier specifies a network interface for the selected transport.

A profile may also include other information such as queue sizing information for example. Queue sizing information identifiers a number of queues and amount of memory and secondary storage dedicated to each queue for example.

In certain embodiments the system provides a rules based approach for optimizing bandwidth. For example the system may employ queue selection rules to differentiate messages into message queues so that messages may be assigned a priority and an appropriate relative frequency on the data stream. The system may use functional redundancy rules to manage functionally redundant messages. A message is functionally redundant if it is not different enough as defined by the rule from a previous message that has not yet been sent on the network for example. That is if a new message is provided that is not sufficiently different from an older message that has already been scheduled to be sent but has not yet been sent the newer message may be dropped since the older message will carry functionally equivalent information and is further ahead in the queue. In addition functional redundancy many include actual duplicate messages and newer messages that arrive before an older message has been sent. For example a node may receive identical copies of a particular message due to characteristics of the underlying network such as a message that was sent by two different paths for fault tolerance reasons. As another example a new message may contain data that supersedes an older message that has not yet been sent. In this situation the system may drop the older message and send only the new message. The system may also include priority sequencing rules to determine a priority based message sequence of the data stream. Additionally the system may include transmission processing rules to provide pre transmission and post transmission special processing such as compression and or encryption.

In certain embodiments the system provides fault tolerance capability to help protect data integrity and reliability. For example the system may use user defined queue selection rules to differentiate messages into queues. The queues are sized according to a user defined configuration for example. The configuration specifies a maximum amount of memory a queue may consume for example. Additionally the configuration may allow the user to specify a location and amount of secondary storage that may be used for queue overflow. After the memory in the queues is filled messages may be queued in secondary storage. When the secondary storage is also full the system may remove the oldest message in the queue logs an error message and queues the newest message. If archiving is enabled for the operational anode then the de queued message may be archived with an indicator that the message was not sent on the network.

Memory and secondary storage for queues in the system may be configured on a per link basis for a specific application for example. A longer time between periods of network availability may correspond to more memory and secondary storage to support network outages. The system may be integrated with network modeling and simulation applications for example to help identify sizing to help ensure that queues are sized appropriately and time between outages is sufficient to help achieve steady state and help avoid eventual queue overflow.

Furthermore in certain embodiments the system offers the capability to meter inbound shaping and outbound policing data. Policing and shaping capabilities help address mismatches in timing in the network. Shaping helps to prevent network buffers form flooding with high priority data queued up behind lower priority data. Policing helps to prevent application data consumers from being overrun by low priority data. Policing and shaping are governed by two parameters effective link speed and link proportion. The system may form a data stream that is no more than the effective link speed multiplied by the link proportion for example. The parameters may be modified dynamically as the network changes. The system may also provide access to detected link speed to support application level decisions on data metering. Information provided by the system may be combined with other network operations information to help decide what link speed is appropriate for a given network scenario.

The source node is in communication with the destination node . The source node may communicate with the destination node over a link for example. The link may be part of a tactical data network for example. The source node may communicate with the destination node over more than one link and or intermediate node for example.

The source data communication system is in communication with the destination data communication system . The source data communication system may communicate with the destination data communication system over a link for example. The link may be part of a tactical data network for example. The source data communication system may communicate with the destination data communication system over more than one link and or intermediate node for example.

The source node is in communication with the source data communication system . In certain embodiments the source data communication system runs on the source node . In certain embodiments the source data communication system runs on a different node from the source node and communicates with the source data communication system over a link.

The destination node is in communication with the destination data communication system . In certain embodiments the destination data communication system runs on the destination node . In certain embodiments the destination data communication system runs on a different node from the destination node and communicates with the destination node over a link.

The source node may communicate with the destination node through the source data communication system and the destination data communication system .

The source data communication system may be similar to the data communication system described above for example. The destination data communication system may be similar to the data communication system described above for example. The source data communication system may be similar to the destination data communication system for example.

In operation the source node provides and or generates at least in part data to be communicated to the destination node using the source data communication system . The source node may include for example an application radio satellite or network. The source node may communicate with the source data communication system over a link as discussed above. Alternatively the source node may be an application running on the same computing system as the source data communication system and may communicate with the source data communication system using inter process communication or using an application programming interface API such as sockets for example. From the perspective of the application the application may be unaware data is being passed to the source data communication system via the interface. Thus in certain embodiments the source data communication system may act as and or be viewed by the source node as a driver of the computing system for example. The source node may generate a continuous stream of data or may burst data for example.

The source data communication system is adapted to receive data. For example the source data communication system may receive data from the source node . The data may be received by a communication component.

In certain embodiments the source data communication system is adapted to prioritize data. For example the source data communication system may include one or more queues for storing organizing and or prioritizing the data. Alternatively other data structures may be used for storing organizing and or prioritizing the data. For example a table tree or linked list may be used. The queues or other data structures may be provided by a prioritization component for example.

The source data communication system is adapted to provide reliability on a per message basis. That is for data from a particular source such as source node each message communicated by the source data communication system may be reliably delivered by the source data communication system . The reliability may be provided by a reliability component for example. Whether a message or block of data is to be reliably delivered may be determined by a reliability rule. A reliability rule may be based on a source address source port destination address destination port and or the content of the message for example. For example a reliability rule may determine that reliable delivery of a particular message is desired based on the destination IP address of the message. A reliability rule may determine whether reliable delivery of a particular message is desired based on the content of the message. For example a message including an identifier that it contains orders may be determined to require reliable delivery. In contrast a message including position telemetry values may not need reliable delivery. Thus whether reliable delivery is desired may be determined on a per message basis. In certain embodiments a reliability rule may be defined at least in part by a user.

Reliable delivery of a message may be provided by the source data communication system by setting an indicator in the data to be communicated. The indicator may be a flag option parameter or value for example. The indicator may be a Boolean flag in the header of the data for example. In certain embodiments the indicator is set based at least in part on a reliability rule selected from a set of available reliability rules. In certain embodiments a header is prepended to the data to be communicated to provide the indicator. In certain embodiments the header may include an error detection and or correction value that may be utilized by a recipient of the data to determine whether the data may have been corrupted.

The source data communication system may keep a copy of the data after it has been transmitted. The copy of the data may be kept until delivery of the data has been acknowledged for example. The delivery of the data may be acknowledged by an acknowledgement message for example. The acknowledgement message may be communicated from the destination data communication system for example. If delivery of the data is not acknowledged within in a predetermined period of time the source data communication system may retransmit the data. The data may be retransmitted based at least in part on the copy of the data. The source data communication system may retransmit the message on the assumption that the originally transmitted data was lost for example. If an acknowledgement is not received for the original data or the copy of the data that has been retransmitted the copy may again be retransmitted until the data is successfully received and acknowledged.

In certain embodiments the source data communication system is adapted to communicate data to the destination node . Communicating data to the destination node may include communicating data to the destination data communication system . The data may be communicated by a communication component similar to the communication component discussed above for example. The communicated data may be and or include the data received from the source node by the communication component for example. The communicated data may be the data prioritized by the prioritization component for example. In certain embodiments the data is communicated at least in part over a tactical data network. For example the data may be communicated from the source data communication node over a satellite radio link.

The destination data communication system is adapted to receive data. The destination data communication system receives at least in part the data communicated from the source data communication system . The data may be received by a communication component for example.

The destination data communication system is adapted to support reliable delivery of data communicated from the source data communication system . When the destination data communication system receives the data if an indicator is set indicating that reliable delivery of the data is desired the destination data communication system acknowledges receipt of the data. The indicator may be in a header in the data for example. Receipt of the data may be acknowledged by an acknowledgement message for example. The destination data communication system may send an acknowledgement message to the source node and or the source data communication system indicating receipt of the data. In certain embodiments the data may include an error detection and or correction value. The error detection and or correction value may be utilized to determine whether the data may have been corrupted during communication. If the data has been corrupted the destination data communication system may not send an acknowledgement of receipt of the data.

When data is received and an acknowledgement is sent it is possible the acknowledgement may not reach the source data communication system . For example the acknowledgement message may get lost and or dropped by an intermediate link or node. In this situation the source data communication system may retransmit the data believing the data to have not been successfully delivered. Thus the destination data communication system may receive a duplicate copy of the data. In certain embodiments the destination data communication system is adapted to detect such a duplicate copy of the data. The destination data communication system may drop a duplicate copy of the data. The destination data communication system may acknowledge one or both of the original data and or the copy of the data so that the source data communication system is notified of receipt of the data.

In certain embodiments the destination data communication system is adapted to prioritize data. For example the destination data communication system may include one or more queues for storing organizing and or prioritizing the data. Alternatively other data structures may be used for storing organizing and or prioritizing the data. For example a table tree or linked list may be used. The queues or other data structures may be provided by a prioritization component for example. The data may be prioritized for delivery to the destination node for example.

The destination data communication system is adapted to communicate data to the destination node . The destination data communication system may transmit the data to the destination node for example. The destination data communication system may communicate the data over a link. For example the destination data communication system may transmit the data over a tactical data network. Alternatively the destination data communication system may transmit the data to an application running on the same computing system as the destination data communication system . The destination data communication system may communicate with the application using inter process communication or using an API such as sockets for example. From the perspective of the application the application may be unaware data is being received from the destination data communication system via the interface. Thus in certain embodiments the destination data communication system may act as and or be viewed by the application as a driver of the computing system for example.

The destination node receives at least in part data handled by the destination data communication system . The destination node may include for example an application radio satellite or network. The destination node may communicate with the destination data communication system over a link as discussed above. Alternatively the destination node may be an application running on the same computing system as the destination data communication system and may communicate with the destination data communication system using inter process communication or using an API such as sockets for example. From the perspective of the application the application may be unaware data is being passed from the destination data communication system via the interface. Thus in certain embodiments the destination data communication system may act as and or be viewed by the destination node as a driver of the computing system for example.

The data received stored prioritized processed communicated and or transmitted by the source data communication system the destination data communication system the source node and or the destination node may include a block of data. The block of data may be for example a packet cell frame and or stream. For example the destination data communication system may receive packets of data from the source data communication system . As another example the source data communication system may process a stream of data from the source node .

As discussed above the components elements and or functionality of the source data communication system and or the destination data communication system may be implemented alone or in combination in various forms in hardware firmware and or as a set of instructions in software for example. Certain embodiments may be provided as a set of instructions residing on a computer readable medium such as a memory hard disk DVD or CD for execution on a general purpose computer or other processing device.

The data communication system may be similar to the data communication system discussed above for example. The data communication system may be similar to the source data communication system discussed above for example. The data communication system may be similar to the destination data communication system discussed above for example.

In operation the communication component is adapted to receive data. The communication component may receive data from the source node . The communication component may receive data from the destination node . The communication component may receive data from another data communication component such as the source data communication system and or the destination data communication system . The communication component may receive the data over a link for example. Alternatively the communication component may receive the data from an application running on the same computing system as the communication component . The communication component may communicate with the application using inter process communication or using an API such as sockets for example. From the perspective of the application the application may be unaware data is being passed to the communication component via the interface. Thus in certain embodiments the communication component may act as and or be viewed by the application as a driver of the computing system for example.

The communication component is adapted to transmit data. The communication component may transmit the data to the source node and or the destination node for example. As another example the communication component may transmit the data to source data communication system and or the destination data communication component . The communication component may transmit the data over a link. For example the communication component may transmit the data over a tactical data network. Alternatively the communication component may transmit the data to an application running on the same computing system as the communication component . The communication component may communicate with the application using inter process communication or using an API such as sockets for example. From the perspective of the application the application may be unaware data is being received from the communication component via the interface. Thus in certain embodiments the communication component may act as and or be viewed by the application as a driver of the computing system for example.

The prioritization component is adapted to organize and or prioritize data. The data to be prioritized may be the data received by the communication component . In certain embodiments the prioritization component may determine a priority for a block of data. For example when a block of data is received by the communication component the prioritization component may determine a priority for that block of data. As another example a block of data may be stored in a queue in the prioritization component and the prioritization component may extract the block of data from the queue based on a determined priority for the block of data and or for the queue.

The prioritization of the data by the prioritization component may be used to provide and or support QoS for example. For example the prioritization component may determine a priority for data received over a tactical data network. The priority may be based on the content of the data for example. For example data from a general with orders for units in the field may be given higher priority than a chat session between two soldiers not on patrol. The priority may be used to determine which of a plurality of queues the data should be placed into for subsequent communication by the communication system . For example higher priority data may be placed in a queue intended to hold higher priority data and in turn the prioritization component in determining what data to next communicate may look first to the higher priority queue.

In certain embodiments the prioritization component is adapted to prioritize the data may based at least in part on one or more prioritization rules. As discussed above the prioritization rules may be user defined. In certain embodiments rules may be written in XML and or provided via custom DLLs for example. A rule may specify for example that data received from one application or node be favored over data from another application or node.

The reliability component is adapted to indicate that reliable delivery of data is desired. The reliability component is adapted to provide reliability on a per message basis. That is for data from a particular source such as source node each message communicated by the data communication system may be reliably delivered by the data communication system . The reliability component may use one or more reliability rules to determine whether the data is to be reliably delivered. A reliability rule may be based on a source address source port destination address destination port and or the content of the message for example. For example the reliability component may use a reliability rule to determine that reliable delivery of a particular message is desired based on the destination IP address of the message. The reliability component may use a reliability rule to determine whether reliable delivery of a particular message is desired based on the content of the message. For example a message including an identifier that it contains orders may be determined to require reliable delivery. In contrast a message including position telemetry values may not need reliable delivery. In certain embodiments a reliability rule may be defined at least in part by a user.

The reliability component may set an indicator in the data to be communicated to indicate that reliable delivery of the data is desired. The indicator may be a flag option parameter or value for example. The indicator may be a Boolean flag in the header of the data for example. In certain embodiments the reliability component is adapted to set the indicator based at least in part on a reliability rule selected from a set of available reliability rules. In certain embodiments a header is prepended to the data to be communicated to provide the indicator. In certain embodiments the header may include an error detection and or correction value that may be utilized by a recipient of the data to determine whether the data may have been corrupted.

The reliability component may keep a copy of the data if reliable delivery is desired. The copy of the data may be kept until delivery of the data has been acknowledged for example. The delivery of the data may be acknowledged by an acknowledgement message for example. The acknowledgement message may be communicated from a reliability component of the destination data communication system for example. If delivery of the data is not acknowledged within in a predetermined period of time the reliability component may cause the data to be retransmitted. The data may be retransmitted by the communication component for example. The data may be retransmitted based at least in part on the copy of the data. The data may be retransmitted on the assumption that the originally transmitted data was lost for example. If an acknowledgement is not received for the original data or the copy of the data that has been retransmitted the copy may again be retransmitted until the data is successfully received and acknowledged.

The reliability component is adapted to support reliable delivery of data communicated from a data communication system such as the source data communication system . When the communication component receives the data if an indicator is set indicating that reliable delivery of the data is desired the reliability component acknowledges receipt of the data. The indicator may be in a header in the data for example. The reliability component may acknowledge receipt of the data by an acknowledgement message for example. The reliability component may cause an acknowledgement message to be sent the source node and or the source data communication system indicating receipt of the data for example. In certain embodiments the data may include an error detection and or correction value. The error detection and or correction value may be utilized by the reliability component to determine whether the data may have been corrupted during communication. If the data has been corrupted the reliability component may not send an acknowledgement of receipt of the data.

When data is received and an acknowledgement is sent it is possible the acknowledgement may not reach the sender that requested reliable delivery such as the source data communication system . For example the acknowledgement message may get lost and or dropped by an intermediate link or node. In this situation the sender may retransmit the data believing the data to have not been successfully delivered. Thus the data communication system may receive a duplicate copy of the data. In certain embodiments the reliability component is adapted to detect such a duplicate copy of the data. The reliability component may drop or delete a duplicate copy of the data. In certain embodiments the reliability component may process the duplicate copy based at least in part on functional redundancy rules similar to the functional redundancy rules discussed above. The reliability component may acknowledge one or both of the original data and or the copy of the data so that the sender is notified of receipt of the data.

In certain embodiments the data communication system includes a mode or profile indicator. The mode indicator may represent the current mode or state of the data communication system for example. As discussed above the data communications system may use rules such as prioritization rules and reliability rules and modes or profiles to perform throughput management functions such as optimizing available bandwidth setting information priority and managing data links in the network. The different modes may affecting changes in rules and or modes for example. A mode or profile may include a set of rules related to the operational needs for a particular network state of health or condition. The data communication system may provide dynamic reconfiguration of modes including defining and switching to new modes on the fly for example.

In certain embodiments the data communication system is transparent to other applications. For example the processing organizing and or prioritization performed by the source data communication system may be transparent to the source node or other applications or data sources. For example an application running on the same system as data communication system or on a node connected to the data communication system may be unaware of the prioritization of data performed by the data communication system .

In certain embodiments the data communication system and or components of the data communication system may not receive all of the data. For example some of the data may be stored in a buffer and the data communication system may receive only header information and a pointer to the buffer. For example the data communication system may be hooked into the protocol stack of an operating system and when an application passes data to the operating system through a transport layer interface e.g. sockets the operating system may then provide access to the data to the data communication system .

As discussed above the components elements and or functionality of the data communication system may be implemented alone or in combination in various forms in hardware firmware and or as a set of instructions in software for example. Certain embodiments may be provided as a set of instructions residing on a computer readable medium such as a memory hard disk DVD or CD for execution on a general purpose computer or other processing device.

In one embodiment for example a tank platoon leader includes a radio to communicate with other elements of the platoon over a tactical data network. The radio is interfaced to a data communication system. The data communication system may be similar to the data communication system described above for example. The leader transmits position telemetry data to the other elements every second. In addition the leader periodically transmits orders to the other elements of the platoon. The data communication system provides reliability for the orders to insure that they are received by the other elements. The orders to be sent with reliability have an indicator set so that the receiving units will acknowledge receipt. In the event that an order is lost the data communication system will resend the order after a predetermined period of time until an acknowledgement is received. In contrast no reliability is required for the position telemetry data as it is lower priority and is communicated more frequently.

At step data is prioritized. The data may be received from a node or application for example. For example the data may be received from the source node . As another example the data may be received from an application running on the same computing system as a data communication system . The data may be prioritized and or organized by data communication system the source data communication system and or the destination data communication system for example. The data may be prioritized by a prioritization component for example. The prioritization component may be similar to the prioritization component for example. In certain embodiments the data communication system may determine a priority for a block of data. For example when a block of data is received by the data communication system the prioritization component of the data communication system may determine a priority for that block of data. As another example a block of data may be stored in a queue in the data communication system and the prioritization component may extract the block of data from the queue based on a priority determined for the block of data and or for the queue.

The prioritization of the data may be used to provide and or support QoS for example. For example the data communication system may determine a priority for a data received over a tactical data network. The priority may be based on the content of the data for example. For example data from a general with orders for units in the field may be given higher priority than a chat session between two soldiers not on patrol. The priority may be used to determine which of a plurality of queues the data should be placed into for subsequent communication by the data communication system . For example higher priority data may be placed in a queue intended to hold higher priority data and in turn the data communication system in determining what data to next communicate may look first to the higher priority queue.

The data may be prioritized based at least in part on one or more priority rules. As discussed above the priority rules may be user defined and or programmed based on system and or operational constraints for example. In certain embodiments rules may be written in XML and or provided via custom DLLs for example. A priority rule may specify for example that data received from one application or node be favored over data from another application or node.

In certain embodiments the data to be prioritized is not dropped. That is although data may be low priority it is not dropped by the data communication system . Rather the data may be delayed for a period of time potentially dependent on the amount of higher priority data that is received.

At step an indicator is set. The indicator may be set in the data prioritized at step for example. The indicator may be set to indicate that reliable delivery of the data is desired for example. The indicator may be a flag option parameter or value for example. The indicator may be a Boolean flag in the header of the data for example. In certain embodiments a header is prepended to the data to be communicated to provide the indicator. In certain embodiments the indicator is set based at least in part on a reliability rule selected from a set of available reliability rules. The indicator may be set by a data communication system similar to the source data communication system for example. The indicator may be set by a reliability component such as reliability component .

The indicator may be set on a per message basis. The indicator may be set based at least in part on one or more reliability rules. A reliability rule may be based on a source address source port destination address destination port and or the content of the message for example. For example the indicator may be set when a reliability rule determines that reliable delivery of a particular message is desired based on the destination IP address of the message. The indicator may be set based on a reliability rule determining whether reliable delivery of a particular message is desired based on the content of the message. For example a message including an identifier that it contains orders may be determined to require reliable delivery and thus the indicator may be set. In contrast a message including position telemetry values may not need reliable delivery and thus the indicator may not be set. In certain embodiments a reliability rule may be defined at least in part by a user.

At step data is transmitted. The data may be transmitted by the source data communication system the destination data communication system and or the data communication system for example. The data may be transmitted by a communication component for example. The communication component may be similar to the communication component for example. The data communicated may be the data prioritized at step for example. The data communicated may include the indicator set at step for example.

Data may be communicated from the data communication system for example. The data may be communicated to the destination node and or the destination data communication component for example. The data may be communicated over one or more links for example. For example the data may be communicated by the data communication system over a tactical data network. As another example data may be provided by the destination data communication system to an application running on the same system by an inter process communication mechanism and or an API such as sockets.

At step an acknowledgement may be received. The acknowledgement may be an acknowledgement message for example. The acknowledgement may indicate receipt of the data transmitted at step for example. The acknowledgement message may be communicated from the destination data communication system for example. The destination data communication system may send an acknowledgement message to the source node and or the source data communication system indicating receipt of the data for example. In certain embodiments the data may include an error detection and or correction value. The error detection and or correction value may be utilized to determine whether the data may have been corrupted during communication. If the data has been corrupted the destination data communication system may not send an acknowledgement of receipt of the data.

At step data is retransmitted. Data may be retransmitted when a predetermined period of time has elapsed and an acknowledgement of delivery has not been received at step for example. The data to be retransmitted may be at least in part a copy of the data transmitted at step for example. The data may be retransmitted by the source data communication component for example. As another example the data may be retransmitted by the reliability component .

The data may be retransmitted on the assumption that the originally transmitted data was lost for example. If an acknowledgement is not received for the original data or the copy of the data that has been retransmitted the copy may again be retransmitted until the data is successfully received and acknowledged.

In certain embodiments data is received. Data may be received at the data communication system for example. The data may be received by a communication component for example. The communication component may be similar to the communication component for example. The data may be received over one or more links for example. The data may be provided and or generated by the source node for example. For example data may be received at the source data communication system from a workstation in a command center over a high speed LAN. As another example data may be provided to the data communication system by an application running on the same system by an inter process communication mechanism. As discussed above the data may be a block of data for example. In certain embodiments the data is received over a tactical data network. For example the data may be received over a satellite radio from a unit in the field.

In certain embodiments the data communication system may not receive all of the data. For example some of the data may be stored in a buffer and the data communication system may receive only header information and a pointer to the buffer. For example the data communication system may be hooked into the protocol stack of an operating system and when an application passes data to the operating system through a transport layer interface e.g. sockets the operating system may then provide access to the data to the data communication system .

In certain embodiments a mode or profile indicator may represent the current mode or state of the data communication system for example. As discussed above the rules such as prioritization rules and or reliability rules and modes or profiles may be used to perform throughput management functions such as optimizing available bandwidth setting information priority and managing data links in the network. The different modes may affecting changes in rules and or modes for example. A mode or profile may include a set of rules related to the operational needs for a particular network state of health or condition. The data communication system may provide dynamic reconfiguration of modes including defining and switching to new modes on the fly for example.

In certain embodiments the data communication system is transparent to other applications. For example the processing organizing and or prioritization performed by the source data communication system may be transparent to the source node or other applications or data sources. For example an application running on the same system as data communication system or on a node connected to the data communication system may be unaware of the prioritization of data performed by the data communication system .

One or more of the steps of the method may be implemented alone or in combination in hardware firmware and or as a set of instructions in software for example. Certain embodiments may be provided as a set of instructions residing on a computer readable medium such as a memory hard disk DVD or CD for execution on a general purpose computer or other processing device.

Certain embodiments of the present invention may omit one or more of these steps and or perform the steps in a different order than the order listed. For example some steps may not be performed in certain embodiments of the present invention. As a further example certain steps may be performed in a different temporal order including simultaneously than listed above.

Thus certain embodiments of the present invention provide systems and methods for assured communications with QoS. Certain embodiments provide a technical effect of a assured communications with QoS.

While the invention has been described with reference to certain embodiments it will be understood by those skilled in the art that various changes may be made and equivalents may be substituted without departing from the scope of the invention. In addition many modifications may be made to adapt a particular situation or material to the teachings of the invention without departing from its scope. Therefore it is intended that the invention not be limited to the particular embodiment disclosed but that the invention will include all embodiments falling within the scope of the appended claims.


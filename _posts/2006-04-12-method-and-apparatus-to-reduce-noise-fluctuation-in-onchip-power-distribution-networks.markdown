---

title: Method and apparatus to reduce noise fluctuation in on-chip power distribution networks
abstract: A system-on-chip or other circuit has an on-chip noise-free ground which is added to divert ground noise from the sensitive nodes. An on-chip decoupling capacitor, tuned in resonance with the parasitic inductance of the interconnects, can be provided to add an additional low impedance ground path.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07595679&OS=07595679&RS=07595679
owner: University of Rochester
number: 07595679
owner_city: Rochester
owner_country: US
publication_date: 20060412
---
The present application claims the benefit of U.S. Provisional Patent Application No. 60 670 253 filed Apr. 12 2005 whose disclosure is hereby incorporated by reference in its entirety into the present disclosure.

The work leading to the present invention was supported in part by the National Science Foundation under Contract No. CCR 0304574 and by the Fulbright Program under Grant No. 87481764. The government has certain rights in the invention.

The present invention is directed to on chip power distribution networks and more particularly to such networks incorporating an on chip noise free ground for diverting ground noise from the noise sensitive circuit elements.

Future generations of integrated circuit IC technologies are trending toward higher speeds and densities. The total capacitive load associated with the internal circuitry has been increasing for several generations of very large scale integration VLSI circuits. As the operating frequencies increase the average on chip current required to charge and discharge these capacitances also increases while the switching time decreases. As a result a large change in the total on chip current occurs within a brief period of time.

Due to the large slew rates of the currents flowing through the bonding wires package pins and on chip interconnects the ground and supply voltage can fluctuate or bounce due to the parasitic impedances associated with the package to chip and on chip interconnects. These voltage fluctuations on the supply and ground rails called ground bounce I noise or simultaneous switching noise SSN are further increased since a large number of the input output I O drivers and internal logic circuitry switch close in time to the clock edges. SSN generates glitches on the ground and power supply wires decreasing the effective current drive of the circuits producing output signal distortion thereby reducing the noise margins of a system. As a result the performance and functionality of the system can be severely compromised.

Traditionally in an SoC such as the SoC of noisy digital circuits share the power supply voltage and the ground with noise sensitive analog circuits . If a number of digital blocks switch simultaneously the current Idrawn from the power distribution network can be significant. This large current passes through the parasitic resistance Rand inductance Lof the package producing voltage fluctuations on the ground terminal point A . As a result ground bounce or voltage fluctuations appears at the ground terminal of the noise sensitive circuits.

In the past research on SSN has concentrated on transient power noise caused by current flowing through the inductive bonding wires at the I O buffers. However SSN originating from the internal circuitry has become an important issue in the design of very deep submicrometer VDSM high performance ICs such as systems on chip SoC mixed signal circuits and microprocessors. This increased importance is due to fast clock rates large on chip switching activities and currents and increased on chip inductance all of which are increasingly common characteristics of VDSM synchronous ICs.

Most of the work in this area falls into one of two categories. The first category includes analytic models that predict the behavior of the SSN while the second category describes techniques to reduce ground bounce. A number of techniques have been proposed to reduce SSN. In one a voltage controlled output buffer is described to control the slew rate. Ground bounce reduction is achieved by lowering the inductance in the power and ground P G paths by utilizing substrate conduction. Other techniques include an algorithm based on integer linear programming to skew the switching of the drivers to minimize ground bounce an architectural approach for reducing inductive noise caused by clock gating through gradual activation deactivation units and a routing method to distribute the ground bounce among the pads under a constraint of constant routing area.

The total P G noise of the system however is not reduced. Decoupling capacitors are often added to maintain the voltage on the P G rails within specification providing charge for the switching transients. Recently the reduction of ground bounce by bounce pre generator circuits and supply current shaping and clock frequency modulation has been reported.

To achieve the above and other objects the present invention is directed to a circuit having an on chip noise free ground which is added to divert ground noise from the sensitive nodes. An on chip decoupling capacitor tuned in resonance with the parasitic inductance of the interconnects can be provided to add an additional low impedance ground path. The noise reduction is shown to depend linearly on the physical separation between the noisy and noise sensitive blocks.

The present invention exhibits a strong tolerance to capacitance variations. The efficiency of the noise reduction technique drops by several percent for a 10 variation in the magnitude of the decoupling capacitor. The present invention is shown to be effective for both single frequency and random voltage fluctuations on the ground terminal.

The present invention provides a way to reduce ground bounce in SoC and mixed signal ICs. An additional on chip ground is provided to divert ground noise from the sensitive analog circuits. The decoupling capacitor noted above makes the technique frequency dependent. The reduction in ground bounce is however almost independent of capacitance variations. Noise reductions of 68 and 22 are demonstrated for a single frequency and random ground noise respectively. The noise reduction efficiency can be further enhanced by simultaneously lowering the impedance of the additional noise free ground and increasing the impedance of the ground path between the digital noisy and analog noise sensitive circuits.

The following publication describes the invention and is hereby incorporated by reference M. Popovich E. G. Friedman R. Secareanu and O. L. Hartin On Chip Power Noise Reduction Techniques in High Performance SoC Based Integrated Circuits pp. 309 312 September 2005.

A preferred embodiment will be set forth in detail with reference to the drawings in which like reference numerals refer to like embodiments throughout.

To reduce voltage fluctuations at the ground terminal of the noise sensitive blocks an on chip low noise ground is added as shown in . The equivalent circuit of is shown as divided into package circuits and on chip circuits . The present approach is based on a voltage divider formed by the impedance between the noisy ground terminal and the quiet ground terminal and the impedance of the path from the quiet ground terminal to the off chip ground . The voltage divider protects the noise sensitive analog circuitry from the noisy digital circuitry .

An effective series resistance ESR and effective series inductance ESL of a decoupling capacitor Care modeled by Rand L respectively. Rand Lrepresent the physical separation between the noisy and noise sensitive blocks. The impedance of an on chip additional ground is modeled by Rand L respectively.

The value of the capacitor is chosen to cancel the parasitic inductance of the additional low noise ground i.e. the ESL of the capacitor Land the on chip and package parasitic inductances of the dedicated low noise ground Land L respectively. Alternatively the capacitor is tuned in resonance with the parasitic inductances at a frequency that produces the greatest noise reduction efficiency. The impedance of the additional ground path therefore becomes purely resistive and reaches a minimum.

The same technique can be used to reduce voltage fluctuations on the power supply. Based on the nature of the power supply noise an additional ground path or power supply path can be provided. For instance in the case of a voltage drop below the power supply level an on chip path to the power supply should be added. In the case of an overshoot an additional ground path should be provided.

To determine the efficiency of the ground bounce reduction a simplified circuit of the preferred embodiment is used as shown in . Ground bounce due to simultaneously switching the digital circuits is modeled by a voltage source of voltage V. The Noisy Gnd denotes an on chip ground for the simultaneously switching digital circuits. The Quiet Gnd denotes a noise free ground for the noise sensitive circuits. In the simplified circuit of the voltage divider separates the quiet ground from the voltage source and the noisy ground .

The ground bounce caused by simultaneously switching within the digital circuitry is modeled as a voltage source . A sinusoidal voltage source with an amplitude of 100 mV is used to determine the reduction in ground bounce at a single frequency. A triangular voltage source with an amplitude of 100 mV and 50 ps rise and 200 ps fall times is utilized to model the reduction in ground noise.

To determine the dependence of the noise reduction technique on the physical separation between the noise source and noise receiver the impedance of the ground path between the noisy and quiet terminals is modeled as a series RL. Given the parasitic resistance and inductance per unit length the RL impedance is varied for different unit lengths. The peak voltage at the quiet ground is evaluated using SPICE where the distance between the digital and analog circuits is varied from one to ten unit lengths. The reduction in ground bounce as seen from the ground terminal of the noise sensitive circuit for sinusoidal and triangular noise sources is listed in Table I.

Note that the reduction in ground noise increases linearly as the physical separation between the noisy and noise sensitive circuits becomes greater. A reduction in ground bounce of about 52 for a single frequency noise source and about 16 for a random noise source is achieved for the ground line of ten unit lengths between the digital and analog blocks. Enhanced results can be achieved if the impedance of the additional ground is much smaller than the impedance of the interconnect between the noisy and noise sensitive modules. From a circuits perspective the digital and analog circuits should be placed far from each other and the additional low noise ground should be composed of many parallel lines. Moreover the additional ground should be placed close to the multiple ground pins.

Note that since the preferred embodiment utilizes a capacitor tuned in resonance with the parasitic inductance of an additional ground path this approach is frequency dependent and produces the best results for a single frequency noise source. In the case of a random noise source the frequency harmonic with the highest magnitude will be significantly lower in magnitude thereby achieving the greatest reduction in noise. For example based on a discrete Fourier transform DFT the second harmonic is selected in the case of a triangular noise source.

To determine the sensitivity of the ground bounce reduction technique on frequency and capacitance variations the frequency is varied by 50 from the resonant frequency and the capacitor is varied by 10 from the target value. The range of capacitance variation is chosen based on typical process variations for a CMOS technology.

The efficiency of the reduction in ground bounce for a sinusoidal noise source versus frequency and capacitance variations is illustrated in respectively. shows ground bounce reduction as a function of noise frequency. The ground noise is modeled as a sinusoidal voltage source. shows the efficiency of the reduction in ground bounce as a function of capacitance variations. The ground bounce is modeled as a sinusoidal voltage source.

Note that the noise reduction drops linearly as the noise frequency varies from the target resonant frequency. The noise reduction is slightly greater for higher frequencies. This phenomenon is due to an uncompensated parasitic inductance of the ground connecting the digital circuits to the analog circuits. As a result at higher frequencies the impedance of the ground path of a power delivery network increases enhancing the noise reduction efficiency. In general the preferred embodiment results in greater noise reduction efficiency at higher frequencies. As illustrated in the reduction in ground bounce is almost insensitive to capacitance variations. The efficiency of the preferred embodiment drops by about 4 as the capacitance is varied by 10 .

As described above the preferred embodiment for reducing ground bounce utilizes a voltage divider formed by the ground of an on chip power distribution system and an additional low noise ground. To increase the efficiency of the preferred embodiment the voltage transfer function of the voltage divider should be lowered permitting a greater portion of the noise voltage to be diverted from the die through the additional ground. Placing noisy and noise sensitive blocks distant from each other lowers the ground bounce at the ground terminal of the analog circuits. The ground noise can also be reduced by lowering the impedance of the low noise ground. The parasitic inductance of the additional ground is canceled by the capacitor tuned in resonance to the specific frequency. The impedance of the additional ground is therefore purely resistive at the resonant frequency. The noise reduction efficiency for different values of the parasitic resistance of the low noise ground is listed in Table II.

Note from Table II that by reducing the parasitic resistance of an on chip low noise ground the ground bounce can be significantly lowered. Noise reductions of about 68 and 22 are demonstrated for sinusoidal and triangular noise sources respectively. The results listed in Table II are determined for an average resistance and inductance of the on chip power distribution ground of five unit lengths see Table I . Thus the ground bounce can be further reduced if the analog and digital circuits are placed at a greater distance from each other. Even better results can be achieved if the parasitic resistance of the package pins Rand decoupling capacitor Rare lowered. From a circuits perspective the on chip low noise ground should be composed of many narrow lines connected in parallel in to lower the parasitic resistance and inductance. A number of package pins in should be dedicated to the noise free ground to lower the package resistance. Finally a decoupling capacitor with a low parasitic resistance ESR should be used.

While a preferred embodiment of the present invention has been set forth in detail above those skilled in the art who have reviewed the present disclosure will readily appreciate that other embodiments can be realized within the scope of the invention. For example numerical values are illustrative rather than limiting. Therefore the present invention should be construed as limited only by the appended claims.


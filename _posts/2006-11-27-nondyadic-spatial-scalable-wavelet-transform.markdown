---

title: Non-dyadic spatial scalable wavelet transform
abstract: A non-dyadic spatial scalable wavelet transform may scale an original digital video frame or digital image at a non-dyadic ratio. The digital video frame or digital image is quantized to create a set of data representing the digital video frame or digital image. The set of data is then input to the non-dyadic spatial scalable wavelet transform. The non-dyadic spatial scalable wavelet transform may then transform the data associated with a first pixel to a high-pass coefficient and use the high-pass coefficient to transform the data associated with a second and third pixel to low-pass coefficients. The low-pass coefficients may then be converted to a digital image for viewing.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08244071&OS=08244071&RS=08244071
owner: Microsoft Corporation
number: 08244071
owner_city: Redmond
owner_country: US
publication_date: 20061127
---
A producer of digital multimedia content such as digital video or images may seek to distribute content over a network such as the Internet. A network may have a finite amount of bandwidth available to serve the digital multimedia to a large number of clients. Since the transmission bandwidth is finite a producer of the digital multimedia content may seek to compress the amount of data associated with the digital multimedia content. By compressing the amount of data associated with the digital multimedia content a producer may serve a larger number of requests over the fixed amount of bandwidth.

Current digital video and digital image compression techniques focus on reducing the amount of information required to accurately reproduce an original frame of digital video or digital still image. An original digital video or image may be compressed and decompressed using a computer software module known as a codec or compressor decompressor. The data associated with a digital video or image may be both compressed and decompressed using the same codec.

There are currently many types of clients capable of displaying digital video or images. For example a typical personal computer PC portable telephones personal digital assistants PDAs portable music and video players television set top boxes video game consoles and the like. Each of these devices may display digital video or images at a different resolution for example a portable telephone may have a much smaller screen and corresponding resolution than a high definition television connected to a set top box.

It is therefore desirable for an application intended to display compressed digital video or image signal to include spatial scalability functionality. Spatial scalability may be referred to as a function of a digital video or image codec to resize a digital video or image to different size or resolution. That is the codec may extract or filter a subset of the compressed digital video or image signal such that an accurate representation of the digital video or image may be viewed at a different size or different resolution.

For example an original digital video may be produced at a resolution of 640 pixels by 480 pixels which would typically be viewed on a personal computer monitor. A display application making use of a codec on the personal computer may therefore decompress and display the digital video at the original resolution of 640 pixels by 480 pixels. However should the digital video be sent to a portable telephone with a resolution of 320 pixels by 240 pixels a display application may make use of a codec to extract or filter a subset of the original digital video to produce an accurate representation of the original digital video at the lower resolution.

Presently spatial scalability functionality is focused on dyadic spatial scaling schemes. A current codec may implement a dyadic spatial scaling scheme that halves the resolution of the compressed digital video or image signal at each resolution reduction step. That is the resolution may be scaled at a ratio of 2 1. For example a user may view a digital video of 640 pixels by 480 pixels using a multimedia application on a personal computer. The user may resize the application window to a smaller size. However due to the dyadic spatial scalability of the codec the resolution of the digital video will first shrink to 320 pixels by 240 pixels. If the user continues to shrink the application window the resolution will be halved again to 160 pixels by 120 pixels.

Current spatial scalability schemes are focused on dyadic spatial scalability schemes due to the properties of the lifting wavelet algorithms used to extract the lower resolution subset of the compressed digital video or image. In particular current digital video and image codecs may employ computer executable implementations of lifting scheme wavelet algorithms. Such lifting wavelet algorithms may be recursive in that the output of a first step of the algorithm becomes the input for a following step of the algorithm. Furthermore each recursive step of the lifting wavelet algorithm halves the previous number of elements in the original data set representing the digital video or image signal.

While such dyadic spatial scalability codecs may effectively reduce the resolution or size of a compressed digital video or image by a factor of two or a ratio of 2 1 current uses of codecs may require resolution reduction by other factors. For example a current high definition television signal of 1080 interlaced 1080i may have a resolution of 1920 pixels by 1080 pixels. A current high definition signal of 720 progressive 720p may have a resolution of 1280 pixels by 720 pixels. A set top box may be connected to a television set that only supports display of a 720 progressive image and not a 1080 interlaced image. It may be desirable for the set top box to scale the 1080 interlaced image to a 720 progressive image a ratio of 3 2.

However if the set top box executes a codec that implements a dyadic spatial scalability algorithm the set top box can only reduce the 1080 interlaced resolution by half to 960 pixels by 540 pixels. Therefore the codec may not produce a properly spatially scaled digital video at the 720 progressive resolution. That is the codec is not capable of scaling the 1080 interlaced image at a ratio of 3 2.

The following presents a simplified summary of the disclosure in order to provide a basic understanding to the reader. This summary is not an extensive overview of the disclosure and this summary does not identify key critical elements of the invention or delineate the scope of the invention. The purpose of this summary is to present some concepts disclosed herein in a simplified form as a prelude to the more detailed description that is presented later.

The present example provides mechanisms and techniques for a non dyadic spatial scalable wavelet transform system. A digital video frame or digital image may be quantized to create a data set representing pixel data in the digital video frame or digital image. The pixels included in the data set may then be passed to a non dyadic lifting wavelet transform.

Such a non dyadic lifting wavelet transform may be accomplished by transforming data associated with a first pixel at a first position to a high pass coefficient. Data associated with a second pixel at a second position adjacent to the first position and data associated with a third pixel at a third position adjacent to the second position may be transformed to low pass coefficients using the high pass coefficient. The non dyadic lifting wavelet transform may be repeated for all pixel data in the data set. Once the non dyadic lifting wavelet transform has completed the low pass coefficients may then be converted to a format suitable for display on a display device.

In addition a set of predetermined parameters is selected for the high pass transform using a first set of criteria. A set of predetermined parameters is also selected for the low pass transform using a second set of criteria.

Many of the attendant features will be more readily appreciated as the same becomes better understood by reference to the following detailed description considered in connection with the accompanying drawings.

The detailed description provided below in connection with the appended drawings is intended as a description of the present examples and is not intended to represent the only forms in which the present examples may be constructed or utilized. The description sets forth the functions of the examples and the sequence of steps for constructing and operating the examples. However the same or equivalent functions and sequences may be accomplished by different examples.

Although the present examples are described and illustrated herein as being implemented in a non dyadic spatial scalable wavelet transform system the system described is provided as an example and not a limitation. As those skilled in the art will appreciate the present examples are suitable for application in a variety of different types of non dyadic spatial scalable wavelet transform systems.

The present examples are based on the wavelet lifting scheme as disclosed by I. Daubechies and W. Sweldens Factoring wavelet transforms into lifting steps J. Fourier Anal. Appl. vol. 4 pp. 247 269 1998 which is hereby incorporated by reference.

Although not required embodiments of the invention will be described in the general context of computer readable instructions being executed by one or more computing devices. Computer readable instructions may be distributed via computer readable media discussed below . Computer readable instructions may be implemented as program modules such as functions objects Application Programming Interfaces APIs data structures and the like that perform particular tasks or implement particular abstract data types. Typically the functionality of the computer readable instructions may be combined or distributed as desired in various environments.

In other embodiments the computing device may include additional features and or functionality. For example the computing device may also include additional storage e.g. removable and or non removable including but not limited to magnetic storage optical storage and the like. Such additional storage is illustrated in by storage . In one embodiment computer readable instructions to implement embodiments of the invention may be stored in storage . The storage may also store other computer readable instructions to implement an operating system an application program and the like.

The term computer readable media as used herein includes computer storage media. Computer storage media includes volatile and nonvolatile removable and non removable media implemented in any method or technology for storage of information such as computer readable instructions or other data. The memory and storage are examples of computer storage media. Computer storage media includes but is not limited to RAM ROM EEPROM flash memory or other memory technology CD ROM Digital Versatile Disks DVDs or other optical storage magnetic cassettes magnetic tape magnetic disk storage or other magnetic storage devices or any other medium which can be used to store the desired information and which can be accessed by the computing device . Any such computer storage media may be part of the computing device .

The computing device may also include communication connection s that allow the computing device to communicate with other devices. The communication connection s may include but is not limited to a modem a Network Interface Card NIC or other interfaces for connecting the computing device to other computing devices. The communication connection s may include a wired connection or a wireless connection. The communication connection s may transmit and or receive communication media.

Communication media typically embodies computer readable instructions or other data in a modulated data signal such as a carrier wave or other transport mechanism and includes any information delivery media. The term computer readable media may include communication media. The term modulated data signal means a signal that has one or more of its characteristics set or changed in such a manner as to encode information in the signal. By way of example and not limitation communication media includes wired media such as a wired network or direct wired connection and wireless media such as acoustic radio frequency infrared and other wireless media.

The computing device may include input device s such as a keyboard mouse pen voice input device touch input device infra red cameras video input devices and or any other input device. The output device s such as one or more displays speakers printers and or any other output device may also be included in the computing device . The input device s and output device s may be connected to the computing device via a wired connection wireless connection or any combination thereof. In one embodiment a input device or a output device from another computing device may be used as a input device s or output device s for the computing device .

The components of the computing device may be connected by various interconnects such as a bus. Such interconnects may include a Peripheral Component Interconnect PCI such as PCI Express a Universal Serial Bus USB firewire IEEE 1394 an optical bus structure and the like. In another embodiment components of the computing device may be interconnected by a network. For example the memory may be comprised of multiple physical memory units located in different physical locations interconnected by a network.

Those skilled in the art will realize that storage devices utilized to store computer readable instructions may be distributed across a network. For example a computing device accessible via a network may store computer readable instructions to implement an example non dyadic spatial scalable codec . The example non dyadic spatial scalable codec may further implement an example non dyadic spatial scaling method . The computing device may access the computing device and download a part or all of the computer readable instructions for execution. Alternatively the computing device may download pieces of the computer readable instructions as needed or some instructions may be executed at the computing device and some at the computing device . Those skilled in the art will also realize that all or a portion of the computer readable instructions may be carried out by a dedicated circuit such as a Digital Signal Processor DSP programmable logic array and the like.

The computing device may implement an example non dyadic spatial scalable codec such that a digital video file which may include a series of digital video frames or a single digital image may be presented for viewing on a variable scaling ratio display . The variable scaling ratio display may be connected to the computing device via the output device s . In this example implementation such an output device s may be a video graphics adapter and such a variable scaling ratio display may be a computer monitor a portable telephone screen a portable computer screen and the like.

The example non dyadic spatial scalable codec is shown as included within the memory however the example non dyadic spatial scalable codec may be executed from any suitable location as already discussed. Furthermore the digital video file is shown as being processed by the processing unit and the memory however the digital video file may be processed by any combination of elements within the computing device .

The example non dyadic spatial scalable codec may perform several functions including decompressing and or decoding the compressed or encoded portions of the digital video file and performing a reverse quantization to create an image data set. Furthermore the example non dyadic spatial scaling method may recursively reduce the resolution of the decompressed and or decoded digital video file by a ratio of N M where N is a factor of the scaled resolution and M is a factor of the original resolution. For example a ratio of 3 2 may represent a scaled resolution two thirds of the original resolution.

An example non dyadic spatial scalable codec may implement a non dyadic lifting wavelet transform algorithm. Such a non dyadic lifting wavelet transform algorithm may take a quantized digital video signal as input. The non dyadic lifting wavelet transform splits a first portion of the elements of the quantized digital video signal to a first set of pixel data. The non dyadic lifting wavelet transform splits a second portion of the elements to a second set of pixel data.

The non dyadic lifting wavelet transform inputs the first set of pixel data to a predict process. Such a predict process may be used to approximate the elements of the first set of pixel data. The first set of pixel data is linearly combined with the output of the predict process. The result of the predict process is used as input to the update process. The update process may filter a portion of the linear combination of the first set of pixel data and the results of the predict process. The result of the update process may then be linearly combined with the second process to produce a scaled version of the quantized video.

An example non dyadic lifting wavelet transform algorithm may be implemented as part of a non dyadic spatial scaling method .

Block may refer to an operation in which a previously compressed or encoded digital video or digital image may be either decoded or decompressed to produce an image data set representing a frame or frames of the original digital video or the digital image. Such decoding or decompression may include a reverse quantization operation. Such decoding or decompression techniques are known and will not be discussed here.

Block refers to an operation in which the image data set produced at block is scaled to a ratio of the original size of the image data set using a non dyadic wavelet transform. Such an operation will be discussed more fully in the discussion of . More particularly the letters A and B correspond to the letters A and B in and indicate that block flows to the arrow represented by the letter A in . And flow continues on to block from the arrow represented by the letter B in .

Block refers to an operation in which the scaled image data set produced at block is passed to a compatible display device such that the scaled image data set may be rendered and displayed on the display device. Such an operation may be performed using any method to convert a set of image data to a rendered image.

Block refers to an operation in which a first portion of a set of data x n representing pixels corresponding to a frame of digital video or a digital image is transformed to a set of high pass coefficients. Such an operation may be known as the prediction operation. Such an operation may also transform a pixel at a first position to a high pass coefficient.

For example the pixels at positions n 3k where k may be a number identifying the current pixel included in x n being processed may be transformed to a high pass coefficient h k . Such a high pass transformation may be accomplished by implementing the following mathematical function in computer executable software h x x x x x where and represent predetermined parameters intended to control the transformation to high pass coefficients. Such predetermined parameters may be chosen before the method is run and may be chosen using any process. For example the predetermined parameters may be chosen to form an accurate prediction for pixels x 3k .

Block may refer to an operation in which a second portion of the set of data x n is transformed to a set of low pass coefficients. Such an operation may be known as the update operation. Such an operation may transform a pixel at a second position adjacent to the first position and a pixel at a third position adjacent to the second position to low pass coefficients.

For example the pixels at positions n 3k 1 and n 3k 2 are transformed to low pass coefficients land l. Such a low pass transformation may make use of the high pass coefficients that may have been calculated at block and may further calculate a high pass coefficient for h. Such a low pass transformation may be accomplished by implementing the following mathematical functions in computer executable software and 

l x h h where and also represent predetermined parameters intended to control the transformation to low pass coefficients. Such predetermined parameters may be chosen before the method is run and may be chosen using any process. For example the predetermined parameters may be chosen such that the average of the processed low pass coefficients may have the same average of the original set of data x n . The predetermined parameters may also be selected such that the low pass transform has one vanishing moment which may also be known as an approximation order.

Block may refer to an operation to determine whether or not more pixels remain in the original set of data x n to be processed. In response to a positive determination flow continues back to block . In response to a negative determination flow continues back to block of .


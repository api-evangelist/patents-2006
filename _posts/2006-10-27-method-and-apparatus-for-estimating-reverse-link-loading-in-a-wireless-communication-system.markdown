---

title: Method and apparatus for estimating reverse link loading in a wireless communication system
abstract: Method and apparatus for estimating reverse link loading in a wireless communication system. The reverse link interference is measured and reverse link receiver noise is measured. The reverse link interference is compared to the reverse link receiver noise, for example, by dividing the interference power by the receiver noise power. The reverse link receiver noise can be measured in an orthogonal frequency division multiple access (OFDMA) system by nulling transmission from access terminals within the cell and nearby during a null time and frequency interval. Power measure in the null time and frequency interval is receiver noise power. The reverse link interference can be measure by several means. For example, local null time and frequency intervals can be designated. The access terminals within the cell null their transmissions during the local time and frequency intervals. Access terminals outside the cell continue to transmit during the local time and frequency intervals. Power measured in the local time and frequency interval is interference power. As another example, interference power can be measured by subtracting pairs of pilot symbols that are contiguous to each other in time or frequency.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08929908&OS=08929908&RS=08929908
owner: QUALCOMM Incorporated
number: 08929908
owner_city: San Diego
owner_country: US
publication_date: 20061027
---
This application claims priority to U.S. Provisional Patent Application Nos. 60 731 132 filed on Oct. 27 2005 entitled METHOD AND APPARATUS FOR ESTIMATING REVERSE LINK LOADING IN A WIRELESS COMMUNICATION SYSTEM and 60 731 013 filed on Oct. 27 2005 entitled MOBILE BROADBAND WIRELESS ACCESS SYSTEMS AND METHODS which are incorporated by reference herein.

This application relates to U.S. Pat. No. 6 397 070 issued May 28 2002 and to U.S. Patent Application entitled ROBUST ERASURE DETECTION AND ERASURE RATE BASED CLOSED LOOP POWER CONTROL having Ser. No 10 890 717 which are assigned to the assignee of this application and specifically incorporated by reference herein.

Aspects of the invention relate to wireless communications. More particularly the aspects of the invention relate to estimating reverse link loading in a wireless communication system.

If a minimum acceptable signal quality is specified an upper bound on the number of simultaneous users which can communicate through a base station can be calculated. This upper bound is commonly referred to as the pole capacity of a system. The ratio of the actual number of users to the pole capacity is defined as the loading of the system. As the number of actual users approaches the pole capacity loading approaches unity. A loading close to unity implies potentially unstable behavior of the system. Unstable behavior can lead to degraded performance in terms of voice quality high error rates failed handoffs and dropped calls. In addition as loading approaches unity the size of the coverage area of the base station shrinks so that users on the outer edge of the no load coverage area are no longer able to transmit sufficient power to communicate with the base station at an acceptable signal quality.

For these reasons it is advantageous to limit the number of users that access the system so that loading does not exceed a specified percentage of the pole capacity. One way to limit the loading of the system is to deny access to the system once the loading of the system has reached a predetermined level. For example if the loading increases above 70 of the pole capacity it is advantageous to deny requests for additional connection originations and to refrain from accepting hand off of existing connections.

In order to limit the loading on the reverse link to a specified level it is necessary to measure the reverse link loading. Reverse link loading of a base station is not solely a function of the number of remote units that are operating within the coverage area of the base station. Reverse link loading is also a function of interference from other sources. The front end noise of the base station itself is a significant source of interference. In addition other remote units operating on the same frequency within the coverage area of nearby base stations may contribute significant interference.

One means by which the reverse link loading can be measured is by averaging the measured signal to interference operation point of all active connections within the coverage area. This approach has several drawbacks. The signal to interference operation statistics of the active connections provide an indication of system performance. However they do not provide any information concerning the amount of interference from remote units located in the coverage area of other base stations. In addition when a remote unit is in soft hand off between two or more base stations it is likely that the actual signal to interference ratio at which the reverse link signal is received at any one base station is significantly beneath the signal to interference ratio set point determined by the system thus falsely indicating an extremely high loading level. For these reasons measuring the average signal to interference operation point of all active connections within a base station does not provide an accurate measure of reverse link loading.

A second and simple means of determining reverse link loading is to simply count the number of active users in the base station. However because the level of interference from other sources significantly affects loading it should be clear that the number of users is not necessarily a good indication of reverse link loading. In addition the effects of soft hand off greatly decrease the correlation between the number of active users and the actual loading at the base station.

A third means of estimating the reverse link loading is to attempt to derive the reverse link loading based upon an estimate of the forward link loading. However in a typical system the forward and reverse links do not operate at the same frequencies. Consequently the interference from the coverage areas of adjacent base stations can be different on the forward link than on the reverse link. In addition the effects of fading are independent as between the forward and reverse links. Furthermore loading is a function of a data rate of a particular user. Therefore the forward link performance is not perfectly correlated with reverse link performance.

If one of these inaccurate methods of estimating the reverse link loading is used the system cannot accurately determine whether connection blockage is necessary. If calls are blocked unnecessarily the capacity of the system is unnecessarily decreased. On the other hand if the loading is permitted to approach the pole capacity the probability of dropping a significant number of active connections increases. For this reason it is important to have an accurate estimation of the reverse link loading.

In his book entitled CDMA Principles of Spread Spectrum Communication Addison Wesley Wireless Communications 1995 Dr. Andrew J. Viterbi defines reverse link loading as a function of the total received power perceived at the base station receiver. The reverse link loading X is directly related to the total power received by the base station according to the following formula 

Given the relationship shown in Equation 1 current base station loading X can be determined based upon a known no load power level and an actual measurement of the total power received at the base station. Note that the actual power measurement should be filtered with an appropriate time constant in view of the time constant at which the power control operation varies the transmit power of the remote unit. In addition if the reverse link operates at variable data rates resulting in gated transmissions from the remote units the actual power measurement should be filtered to average the effects of the gated transmissions on the instantaneous power measurement.

The dynamic range of the relative power measurement P P is not large in a typical system. For example as the loading X increases from 0 to 90 of the pole capacity the ratio of P P increases from 0 to 10 decibels dB . Typically base station loading X is limited to about 60 75 of the pole capacity. As X increases from 0.6 to 0.75 the ratio of P P increases from about 4 to about 6 dB. Therefore to accurately limit the loading of the reverse link the ratio of P P should be measured with less than 1 dB of error in order to avoid over or under estimation of the loading.

While this approach appears to be straightforward in reality it is difficult to achieve consistently required accuracy of the relative power measurements. For example accurately measuring the noise floor e.g. Pn of a base station in an operating environment is difficult. In addition even if an accurate measurement of the noise floor could be made at one time the noise floor is sensitive to gain and noise figure variations due to temperature aging and other phenomena and hence the noise floor power level changes as a function of time. Without a means of accurate measurement any admission control algorithm based upon Equation 2 will likely block connections when no blocking is necessary or admit connections resulting in potentially unsteady system behavior.

In addition to the no load power measurement the actual power received at the base station must also be measured. The measurement of the absolute power level using power meters or automatic gain control circuits is extremely difficult within an accuracy of a few dB. In order to achieve this sort of accuracy in an absolute power measurement the cost and size of the measurement apparatus becomes prohibitive.

In another improved method for determining cell loading a system enters a period of silence. During the period of silence a remote test unit generates a reverse link signal. A base station demodulates the reverse link signal and generates a series of closed loop power control commands for the remote unit. The remote unit responds to the power control commands by adjusting the level at which it transmits the reverse link signal. As the system operating point changes in response to the new operating conditions the series of commands are accumulated to determine a transmit gain adjustment value corresponding to the period of silence TGA 0 . Once normal system operation is resumed the base station demodulates the reverse link signal from the remote test unit and generates a series of power control commands for the remote unit. As the system operating point changes in response to the normal operating conditions once again the series of power control commands are accumulated to determine a transmit gain adjustment value for the current system loading TGA t . Using TGA 0 and TGA t the system loading is determined. This method for determining cell loading is described in detail in copending U.S. patent application Ser. No. 09 204 616 entitled METHOD AND APPARATUS FOR LOADING ESTIMATION assigned to the assignee of the present invention and incorporated by reference herein.

The use of code division multiple access CDMA modulation techniques is one of several techniques for facilitating communications in which a large number of system users are present. Other multiple access communication system techniques such as time division multiple access TDMA and frequency division multiple access FDMA are known in the art. The use of CDMA techniques in a multiple access communication system is disclosed in U.S. Pat. No. 4 901 307 entitled SPREAD SPECTRUM MULTIPLE ACCESS COMMUNICATION SYSTEM USING SATELLITE OR TERRESTRIAL REPEATERS assigned to the assignee of the present invention of which the disclosure thereof is incorporated by reference herein. The use of CDMA techniques in a multiple access communication system is further disclosed in U.S. Pat. No. 5 103 459 entitled SYSTEM AND METHOD FOR GENERATING SIGNAL WAVEFORMS IN A CDMA CELLULAR TELEPHONE SYSTEM assigned to the assignee of the present invention of which the disclosure thereof is incorporated by reference herein.

There has been an increasing demand for wireless communications systems to be able to transmit digital information at high rates. One method for sending high rate digital data from a remote station to a central base station is to allow the remote station to send the data using spread spectrum techniques of CDMA. One method that is proposed is to allow the remote station to transmit its information using a small set of orthogonal channels this method is described in detail in U.S. Pat. No. 6 396 804 entitled HIGH DATA RATE CDMA WIRELESS COMMUNICATION SYSTEM issued May 28 2002 assigned to the assignee of the present invention and incorporated by reference herein.

A method of calculating a reverse link loading in a wireless communication system is described. The method includes estimating interference from at least one access terminal not being served by an access point measuring a receiver noise and comparing the interference to the receiver noise. The method may be further characterized in that the estimating interference includes measuring a received power in a null time and frequency interval. Further the measuring may include measuring a first received power outside a null time and frequency interval. The null time and frequency interval may be a guard band.

The estimating interference may include measuring a second received power in the null time and frequency interval. The method may be used to control a transmission power. In that case the transmission power is increased responsive to the comparing. The method may also be used to respond to an admission request. In that case the admission request is denied responsive to the comparing. In another case a data rate may be decreased responsive to the comparing. The wireless communication system may be an orthogonal frequency division multiple access OFDMA wireless communication system and the null time and frequency interval may be a tone of the OFDMA wireless communication system.

The comparing may include dividing the interference by the receiver noise. The estimating interference from at least one access terminal not being served by an access point may include detecting a first pilot signal detecting a second pilot signal and subtracting the first pilot signal from the second pilot signal.

A wireless communication device is described the device including a processor configured to estimate interference from at least one access terminal not being served by the wireless communication device measure a receiver noise and compare the interference to the receiver noise and a transmitter coupled to the processor and configured to transmit wireless communication signals to a plurality of wireless communication access terminals. The processor may be configured to measure a received power in a null time and frequency interval and measure a first received power outside a null time and frequency interval. The null time and frequency interval may be a guard band.

The processor may also be configured to measure a second received power in the null time and frequency interval and increase the transmission power responsive to the comparing. The processor may be configured to deny the admission request responsive to the comparing or decrease the data rate responsive to the comparing. The wireless communication device may be an orthogonal frequency division multiple access OFDMA wireless communication device and the null time and frequency interval may be a tone of a OFDMA wireless communication system. The processor may be configured to divide the interference by the receiver noise.

A machine readable medium having stored thereon instructions which when executed cause a machine to estimate interference from at least one access terminal not being served by an access point measure a receiver noise and compare the interference to the receiver noise. The instructions may also include any of the functions described above with respect to the method described above.

A method for assisting a calculation of a reverse link loading in a wireless orthogonal frequency division multiple access communication system is also described. The method includes identifying a null time and frequency interval and nulling a wireless transmission during the null time and frequency interval. The nulling may include nulling out a tone of a fast fourier transform filter.

A mobile wireless communication device is also described which includes a processor configured to identify a null time and frequency interval null a wireless transmission during the null time and frequency interval and a transmitter coupled to the process the transmitter configured to transmit the wireless transmission.

Methods and apparatuses for estimating reverse link loading in a wireless communication system are described. The reverse link interference is measured and reverse link receiver noise is measured. The reverse link interference is compared to the reverse link receiver noise for example by dividing the interference power by the receiver noise power. The reverse link receiver noise can be measured in an orthogonal frequency division multiple access OFDMA system by nulling transmission from access terminals within the cell and nearby during a null time and frequency interval. Power measured in the null time and frequency interval is receiver noise power. The reverse link interference can be measure by several means. For example local null time and frequency intervals can be designated. The access terminals within the cell or sector null their transmissions during the local time and frequency intervals. Access terminals outside the cell continue to transmit during the local time and frequency intervals. Power measured in the local time and frequency interval is interference power. As another example interference power can be measured by subtracting pairs of pilot symbols that are contiguous to each other in time or frequency.

In block an in band energy IO is calculated. In the preferred embodiment the in band energy is measured by computing the sum of the squares of the in band digital samples. This measurement can also be performed by examining the scaling operation of the automatic gain control element of receiver in the base station. However in cell wilting conditions in which the base station injects noise into the received signal the inband energy measurement must be performed in a manner that removes the effects of the injected noise prior to using the automatic gain control scaling as an indication of in band energy. Cell wilting is an operation in which a cell that has exceeded its loading thresholds modifies its operation to make the base station appear further away from remote stations in its coverage area. Cell wilting is well known in the art and is described in detail in U.S. Pat. No. 5 548 812 entitled METHOD AND APPARATUS FOR BALANCING THE FORWARD LINK HANDOFF BOUNDARY TO THE REVERSE LINK HANDOFF BOUNDARY IN A CELLULAR COMMUNICATION SYSTEM assigned to the assignee of the present invention and incorporated by reference herein.

In block a ratio of the in band energy to the noise floor IO N0 is compared to a threshold T. In the present invention the ratio of the noise energy with the mobile stations transmitting to the noise energy at the base station without any mobile stations transmitting is used to determine the loading condition.

If the ratio is greater than the threshold a reverse link loading capacity limit is declared in block . An appropriate responsive measure is taken in block . In a first exemplary embodiment in response to the cell loading declaration base station transmits a signal indicating that it has reached a reverse link loading limit on forward link signals . In response to this signal the remote stations in the coverage area of base station adjust the transmission of reverse link signals . The adjustment may be in the form of a data rate reduction or in the transmission energy of the signals or both. Alternatively the remote stations in the coverage area of base station will inhibit the transmission of reverse link signals when receiving the signal indicating that reverse link capacity limit has been reached.

An additional response measure that may be taken in response to the determination that base station has reached a reverse link capacity limit is that the base station performs a wilting operation which makes it appear further from mobile stations in its coverage area than it actually is. This wilting operation entails reducing energy of its forward link transmissions and injecting noise into its reverse link receiver path as described in detail in the aforementioned U.S. Pat. No. 5 548 812.

If the ratio is less than the threshold a reverse link loading capacity excess is declared in block . In this condition the base station can provide service to additional mobile station. An appropriate responsive measure is taken in block . In a first exemplary embodiment in response to the determination that the cell has excess capacity base station transmits a signal indicating that it has additional reverse link capacity on forward link signals . In response to this signal the remote stations in the coverage area of base station adjust the transmission of reverse link signals . The adjustment may be in the form of a data rate increase or a transmission energy increase or both.

An additional measure that may be taken in response to the determination that base station has reached a reverse link capacity limit is that the cell performs a cell blossoming operation. The blossoming operation is essentially the removal of the cell from a wilting operation mode.

In the exemplary embodiment complex PN spreader spreads the signals in accordance with two distinct PN sequences PNI and PNQ. Complex PN spreading is well known in the art and is described in U.S. Pat. No. 6 396 804 entitled HIGH DATA RATE CDMA WIRELESS COMMUNICATION SYSTEM issued May 28 2002 which is assigned to the assignee of the present invention and incorporated by reference herein. The in phase component I and quadrature component Q of complex PN spread signals are provided to corresponding notch filters NF and . As described above the notch filters are provided so that remote stations do not transmit energy into a portion of the spectrum used for the transmission of reverse link signals . Energy in these notches provide the estimate of the unloaded energy of base station . illustrates an exemplary frequency response for notch filters and . In a preferred embodiment the positions of the notches are provided at RC 4 in the baseband which will be upconverted to fC RC 4 where fC is a carrier frequency and RC is a chip rate. The particular location for the notches is preferred because it can be implemented with minimal computational complexity. It will be understood by one skilled in the art that the locations of the notches can be arbitrarily selected without departing from the scope of embodiments of the invention.

Controller controls the frequency response characteristics of notch filters and . In a first embodiment controller provides no variation in the frequency response of notch filters and . The first embodiment has the benefit of simplicity but suffers form the defect that the energy over the band may not be uniform and as such may provide a poor estimate of the unloaded in band energy. In a second embodiment controller sweep the location of the notch over the transmission band of reverse link signals . In a third embodiment controller hops the location of the notch of filters and . One of ordinary skills in the art will understand that the enumerated possibilities are by no means exhaustive and are provided merely as examples of methods of providing samples of the inband unloaded noise energy across the transmission band to base station .

The notch filtered I and Q components are then provided to a pulse shaping filters FIR and . Pulse shaping filters and are provided to reduce out of band emissions. In the preferred embodiment the notch filtering operation is performed at baseband prior to filtering in FIR filters and . The reason for notch filtering prior to the pulse shaping is that in the current systems the pulse shaping filters require a sampling rate higher than the baseband chip rate in order to reduce the out of band emissions of reverse link signals to specified limits. It will be understood by one skilled in the art that notch filters and can be provided subsequent to pulse shaping filters and and can even be performed at the RF frequencies subsequent to up conversion in transmitter . depicts the frequency characteristics of the signal output by pulse shaping filters and with notches at frequencies fC RC 4.

Transmitter up converts amplifies and filters the signals in accordance with a chosen modulation format and provides the processed signals to an antenna for transmission over reverse link . In the exemplary embodiment transmitter upconverts the signals for transmission in accordance with a quaternary phase shift keyed modulation QPSK . The present invention is equally applicable to other modulation schemes such as BPSK and QAM modulation. depicts an exemplary embodiment of the invention in which two different sets of users notch two different portions of the spectrum used for transmission of reverse link signals. In such embodiment the bandwidth of the filters and BBandpass must be wide enough to include bandwidths of the notches BNotch and BNotch of the users. One ordinarily skilled in the art can recognize that uses two different sets of users only for the purpose of explanation and can be extended to different number of users without departing from the spirit of the invention. Likewise the linear sweep of frequency with time is not meant to limit the scope of the invention to this particular embodiment.

The demodulator processes the I and Q components for its information value in accordance with applicable protocol.

The characteristics of the notch filters and are controlled by a controller . The control signals of controller mirrors the control signals of controller . Consequently the characteristics of the notch filters and are aligned with the characteristics of the band pass filters and . Thus the output of band pass filters and are portions of reverse link signals that are filtered out by notch filters and . The frequency response of bandpass filters and are illustrated in . It can be seen that the purpose of the bandpass filters is to direct the portion of the reverse link spectrum that was notched by filter to energy calculator .

The outputs of the band pass filters and are provided to energy calculator . In the exemplary embodiment the filtered digital samples from band pass filters and are squared and then summed to provide an estimate of the energy in the notched frequency band portions of the reverse link transmissions from remote stations .

The sum of the squares are provided to filter . In the exemplary embodiment filter is a moving average filter that can be implemented in a variety of ways such as using a finite impulse response filter. The output of filter is provided to a control processor as an estimate of the noise energy in the frequencies notched out of the reverse link transmissions from remote stations .

In the computation of the in band energy the digitized samples from receivers are provided to energy calculator . Energy calculator estimates the total in band energy IO by summing the squares of the digitized samples and providing those values to filter . As described with respect to filter in the exemplary embodiment filter is a moving average filter. The filtered energy samples are provided to control processor as an estimate of the total in band energy IO.

The control processor is further provided with an information about the bandwidth of the NF and BPF and a chip rate. Based on the bandwidth of reverse link transmissions and the bandwidth of the notches of filters and the control processor then calculates an estimate of the reverse link loading RLL in accordance with a general equation 

This equation shall be utilized in an embodiment when different sets of users will notch different portions of the spectrum used for transmission of reverse link signals. In such embodiment the bandwidth of the filters and must be wide enough to include bandwidths of the notches of all the users. In a different embodiment where Bequals B i.e. when all the users notch the same portion of the spectrum used for transmission of reverse link signals the equation reduces to a form 

The reverse loading is then compared to a threshold T . The control processor then takes a responsive measure based on the result of the comparison.

If the reverse loading is greater than the threshold a reverse link loading capacity limit is declared. In one embodiment of the invention the control processor responds by wilting the cell. A control command to decrease transmission power of forward link signals is sent to forward link transmission subsystem . In response to this signal the power amplifier not shown in the forward link transmission subsystem reduces the gain of the transmissions. In addition a corresponding signal to increase a noise floor of the receiver is sent to the receiver . In response to this signal noise is injected into the received reverse link signals. The result is that the base station appears to be further from mobile stations than it actually is which forces the mobile stations to move into a handoff to adjacent cells which have additional capacity.

If the reverse loading is less than the threshold a reverse link loading capacity excess is declared. In one embodiment of the invention the control processor responds by blossoming the cell. A control command to increase transmission power is sent to forward link transmission subsystem and corresponding signal to decrease a noise floor of the receiver is sent to the receiver .

In another embodiment the result of the comparison is sent to a RL Busy Bit Generator . The RL Busy Bit Generator generates a RL Busy Bit with a first value if the reverse loading is greater than the threshhold and a RL Busy Bit with a second value if the reverse loading is less than the threshold. The base station can then take an appropriate action. In one embodiment the base station can decrease the allowable number of users if the reverse link loading has been exceeded and increase the allowable number of users if the reverse link loading is below allowable limit. In another embodiment the base station can decrease the allowable data rate for at least one user if the reverse link loading has been exceeded and increase the allowable data rate for at least one user if the reverse link loading is below allowable limit.

A terminal may be fixed or mobile and may also be called a mobile station a wireless device a user equipment or some other terminology. Each terminal may communicate with zero one or multiple base stations at any given moment.

The interference control techniques described herein may be used for a system with sectorized cells and a system with un sectorized cells. In the following description the term sector refers to 1 a conventional BTS and or its coverage area for a system with sectorized cells and 2 a conventional base station and or its coverage area for a system with un sectorized cells. The terms terminal and user are used interchangeably and the terms sector and base station are also used interchangeably. A serving base station sector is a base station sector with which a terminal communicates. A neighbor base station sector is a base station sector with which the terminal is not in communication.

The interference control techniques may also be used for various multiple access communication systems. For example these techniques may be used for a code division multiple access CDMA system a frequency division multiple access FDMA system a time division multiple access TDMA system an orthogonal frequency division multiple access OFDMA system an interleaved IFDMA system a localized FDMA LFDMA system a spatial division multiple access SDMA system a quasi orthogonal multiple access system and so on. IFDMA is also called distributed FDMA and LFDMA is also called narrowband FDMA or classical FDMA. An OFDMA system utilizes orthogonal frequency division multiplexing OFDM . OFDM IFDMA and LFDMA effectively partition the overall system bandwidth into multiple K orthogonal frequency subbands. These subbands may also be called tones subcarriers bins and so on. OFDM transmits modulation symbols in the frequency domain on all or a subset of the K subbands. IFDMA transmits modulation symbols in the time domain on subbands that are uniformly distributed across the K subbands. LFDMA transmits modulation symbols in the time domain and typically on adjacent subbands.

As shown in each sector may receive desired transmissions from terminals within the sector as well as interfering transmissions from terminals in other sectors. The total interference observed at each sector is composed of 1 intra sector interference from terminals within the same sector and 2 inter sector interference from terminals in other sectors. The inter sector interference which is also called other sector interference OSI results from the transmissions in each sector not being orthogonal to the transmissions in the other sectors. The inter sector interference and intra sector interference have a large impact on performance and may be mitigated as described below.

Inter sector interference may be controlled using various mechanisms such as user based interference control and network based interference control. For user based interference control the terminals are informed of the inter sector interference observed by the neighbor sectors and adjust their transmit powers accordingly so that the inter sector interference is maintained within acceptable levels. For network based interference control each sector is informed of the inter sector interference observed by the neighbor sectors and regulates data transmissions for its terminals such that the inter sector interference is maintained within acceptable levels. The system may utilize only user based interference control or only network based interference control or both. The interference control mechanisms and their combinations may be implemented in various manners as described below.

At serving base station multiple antennas through receive the reverse link signals from terminal and other terminals. Each antenna provides a received signal to a respective receiver unit RCVR . Each receiver unit conditions e.g. filters amplifies frequency downconverts and digitizes its received signal performs OFDM demodulation if applicable and provides received symbols. An RX spatial processor performs receiver spatial processing on the received symbols from all receiver units and provides data symbol estimates which are estimates of the transmitted data symbols. An RX data processor demaps deinterleaves and decodes the data symbol estimates and provides decoded data for terminal and other terminals currently served by base station

The processing for a forward link transmission may be performed similarly to that described above for the reverse link. The processing for the transmissions on the forward and reverse links is typically specified by the system.

For interference and power control at serving base station RX spatial processor estimates the received SNR for terminal estimates the inter sector interference observed by base station and provides an SNR estimate for terminal and an interference estimate e.g. the measured interference I to a controller . Controller generates TPC commands for terminal based on the SNR estimate for the terminal and the target SNR. Controller may generate an OTA OSI report and or an IS OSI report based on the interference estimate. Controller may also receive IS OSI reports from neighbor sectors via a communication Comm unit . The TPC commands the OTA OSI report for base station and possibly OTA OSI reports for other sectors are processed by a TX data processor and a TX spatial processor conditioned by transmitter units through and transmitted via antennas through . The IS OSI report from base station may be sent to the neighbor sectors via communication unit e.g. via a backhaul or other wired communication link.

At neighbor base station an RX spatial processor estimates the inter sector interference observed by base station and provides an interference estimate to controller . Controller may generate an OTA OSI report and or an IS OSI report based on the interference estimate. The OTA OSI report is processed and broadcast to the terminals in the system. The IS OSI report may be sent to the neighbor sectors via a communication unit

At terminal antenna receives the forward link signals from the serving and neighbor base stations and provides a received signal to a receiver unit . The received signal is conditioned and digitized by receiver unit and further processed by a demodulator Demod and an RX data processor . Processor provides the TPC commands sent by serving base station for terminal and the OTA OSI reports broadcast by the neighbor base stations. A channel estimator within demodulator estimates the channel gain for each base station. Controller detects the received TPC commands and updates the reference power level based on the TPC decisions. Controller also adjusts the transmit power for the traffic channel based on the OTA OSI reports received from the neighbor base stations and the channel gains for the serving and neighbor base stations. Controller provides the transmit power for the traffic channel assigned to terminal . Processor and or modulator scales the data symbols based on the transmit power provided by controller .

Controllers and direct the operations of various processing units at terminal and base station and respectively. These controllers may also perform various functions for interference and power control. Memory units and store data and program codes for controllers and respectively. A scheduler schedules terminals for communication with base station and also assigns traffic channels to the scheduled terminals e.g. based on the IS OSI reports from the neighbor base stations.

Data channels may be assigned to active terminals such that each data channel is used by only one terminal at any given time. To conserve system resources control channels may be shared among multiple terminals using e.g. code division multiplexing. If the data channels are orthogonally multiplexed only in frequency and time and not code then they are less susceptible to loss in orthogonality due to channel conditions and receiver imperfections than the control channels.

The data channels thus have several key characteristics that are pertinent for power control. First intra cell interference on the data channels is minimal because of the orthogonal multiplexing in frequency and time. Second inter cell interference is randomized because nearby sectors use different FH sequences. The amount of inter cell interference caused by a given terminal is determined by 1 the transmit power level used by that terminal and 2 the location of the terminal relative to the neighbor base stations.

For the data channels power control may be performed such that each terminal is allowed to transmit at a power level that is as high as possible while keeping intra cell and inter cell interference to within acceptable levels. A terminal located closer to its serving base station may be allowed to transmit at a higher power level since this terminal will likely cause less interference to neighbor base stations. Conversely a terminal located farther away from its serving base station and toward a sector edge may be allowed to transmit at a lower power level since this terminal may cause more interference to neighbor base stations. Controlling transmit power in this manner can potentially reduce the total interference observed by each base station while allowing qualified terminals to achieve higher SNRs and thus higher data rates.

Power control for the data channels may be performed in various manners to attain the goals noted above. For clarity a specific embodiment of power control is described below. For this embodiment the transmit power for a data channel for a given terminal may be expressed as Eq 1 

The reference power level is the amount of transmit power needed to achieve a target signal quality for a designated transmission e.g. on a control channel . Signal quality denoted as SNR may be quantified by a signal to noise ratio a signal to noise and interference ratio and so on. The reference power level and the target SNR may be adjusted by a power control mechanism to achieve a desired level of performance for the designated transmission as described below. It the reference power level can achieve the target SNR then the received SNR for the data channel may be estimated as . Eq 2 

Equation 2 assumes that the data channel and the control channel have similar interference statistics. This is the case for example if the control and data channels from different sectors may interfere with one another. The reference power level may be determined as described below.

The transmit power for the data channel may be set based on various factors such as 1 the amount of inter sector interference the terminal may be causing to other terminals in neighbor sectors 2 the amount of intra sector interference the terminal may be causing to other terminals in the same sector 3 the maximum power level allowed for the terminal and 4 possibly other factors. Each of these factors is described below.

The amount of inter sector interference each terminal may cause may be determined in various manners. For example the amount of inter sector interference caused by each terminal may be directly estimated by each neighbor base station and sent to the terminal which may then adjust its transmit power accordingly. This individualized interference reporting may require extensive overhead signaling. For simplicity the amount of inter sector interference each terminal may cause may be roughly estimated based on 1 the total interference observed by each neighbor base station 2 the channel gains for the serving and neighbor base stations and 3 the transmit power level used by the terminal. Quantities 1 and 2 are described below.

Each base station can estimate the total or average amount of interference observed by that base station. This may be achieved by estimating the interference power on each subband and computing an average interference power based on the interference power estimates for the individual subbands. The average interference power may be obtained using various averaging techniques such as for example arithmetic averaging geometric averaging SNR based averaging and so on.

The quantities I k n and I n are in linear units in equation 3 but may also be given in decibel dB . With arithmetic averaging a few large interference power estimates can skew the average interference power.

Geometric averaging can suppress large interference power estimates for a few subbands so that the average interference power is lower than with arithmetic averaging.

where Pdenotes a nominal received power assumed for each subband. Equation 5 determines the theoretical capacity of each subband based on the nominal received power computes the average capacity for all N subbands and determines an average interference power that gives the average capacity. SNR based averaging which may also be called capacity based averaging also suppresses large interference power estimates for a few subbands.

Regardless of which averaging technique is used each base station may filter the interference power estimates and or the average interference power over multiple time intervals to improve the quality of the interference measurement. The filtering may be achieved with a finite impulse response FIR filter an infinite impulses response IIR filter or some other types of filter known in the art. The term interference may thus refer to filtered or unfiltered interference in the description herein.

Each base station may broadcast its interference measurements for use by terminals in other sectors. The interference measurements may be broadcast in various manners. In one embodiment the average interference power or the measured interference is quantized to a predetermined number of bits which are then sent via a broadcast channel. In another embodiment the measured interference is broadcast using a single bit that indicates whether the measured interference is greater than or below a nominal interference threshold. In yet another embodiment the measured interference is broadcast using two bits. One bit indicates the measured interference relative to the nominal interference threshold. The other bit may be used as a distress panic bit that indicates whether the measured interference exceeds a high interference threshold. The interference measurements may also be sent in other manners.

For simplicity the following description assumes the use of a single other sector interference OSI bit to provide interference information. Each base station may set its OSI bit OSIB as follows 

Alternatively each base station may obtain a measured interference over thermal IOT which is a ratio of the total interference power observed by the base station to the thermal noise power. The total interference power may be computed as described above. The thermal noise power may be estimated by turning off the transmitter and measuring the noise at the receiver. A specific operating point may be selected for the system and denoted as IOT. A higher operating point allows the terminals to use higher transmit powers on average for the data channels. However a very high operating point may not be desirable since the system can become interference limited which is a situation whereby an increase in transmit power does not translate to an increase in received SNR. Furthermore a very high operating point increases the likelihood of system instability. In any case each base station may set its OSI bit as follows 

Each terminal can estimate the channel gain or propagation path gain for each base station that may receive a reverse link transmission from the terminal. The channel gain for each base station may be estimated by processing a pilot received from the base station via the forward link estimating the received pilot strength power and filtering pilot strength estimates over time e.g. with a filter having a time constant of several hundred milli seconds to remove the effects of fast fading and so on. It all base station transmit their pilots at the same power level then the received pilot strength for each base station is indicative of the channel gain between that base station and the terminal. The terminal may form a channel gain ratio vector as follows . . . Eq 8 

Since distance is inversely related to channel gain the channel gain ratio g n g n may be viewed as a relative distance that is indicative of the distance to a neighbor base station i relative to the distance to the serving base station. In general the channel gain ratio for a neighbor base station r n decreases as the terminal moves toward the sector edge and increases as the terminal moves closer to the serving base station. The channel gain ratio vector may be used for power control as described below.

Although the data channels for each sector are multiplexed such that they are orthogonal to one another some loss in orthogonality may result from inter carrier interference ICI intersymbol interference ISI and so on. This loss of orthogonality causes intra sector interference. To mitigate intra sector interference the transmit power of each terminal may be controlled such that the amount of intra sector interference that this terminal may cause to other terminals in the same sector is maintained within an acceptable level. This may be achieved for example by requiring the received SNR for the data channel for each terminal to be within a predetermined SNR range as follows SNR n SNR SNR Eq 10 

The minimum received SNR ensures that all terminals especially those located near the sector edge can achieve a minimum level of performance. Without such a constraint terminals located near the sector edge may be forced to transmit at an extremely low power level since they often contribute a significant amount of inter sector interference.

If the received SNRs for the data channels for all terminals are constrained to be within the range SNR SNR then the amount of intra sector interference caused by each terminal due to a loss of orthogonality may be assumed to be within the acceptable level. By limiting the received SNRs to be within this SNR range there can still be as much as SNR SNR dB difference in received power spectral density between adjacent subbands assuming that similar amounts of inter sector interference are observed on the subbands which is true e.g. if the control and data channels hop randomly so that the control and data channels from different sectors may collide with one another . A small SNR range improves the robustness of the system in the presence of ICI and ISI. An SNR range of 10 dB has been found to provide good performance in most operating scenarios. Other SNR ranges may also be used.

If the transmit power for the data channel is determined as shown in equation 1 then the received SNR for the data channel may be maintained within the range of SNR SNR by constraining the transmit power delta P n to be within a corresponding range as follows P n P P Eq 11 

In particular P SNR SNRand P SNR SNR. In another embodiment the transmit power P n may be constrained to be within a range that is determined for example based on the received signal power for the data channel. This embodiment may be used for example if interference power is statistically different among the subbands.

The transmit power for the data channel for each terminal may then be adjusted based on the following parameters 

The range of received SNRs allowable for the data channels SNR SNR or equivalently the range of allowable transmit power deltas P P and

The maximum power level P allowed for the terminal which may set by the system or the power amplifier within the terminal.

Parameters 1 and 2 relate to the inter sector interference caused by the terminal. Parameter 3 relates to the intra sector interference caused by the terminal.

In general a terminal located close to a neighbor sector that reports high interference may transmit with a lower transmit power delta so that its received SNR is closer to SNR. Conversely a terminal located close to its serving base station may transmit with a higher transmit power delta so that its received SNR is closer to SNR. A gradation of received SNRs may be observed for the terminals in the system based on their proximity to the serving base stations. A scheduler at each base station can take advantage of the distribution of received SNRs to achieve high throughput while ensuring fairness for the terminals.

The transmit power for the data channel may be adjusted in various manners based on the four parameters noted above. The power control mechanism does not need to maintain equal SNR for all terminals especially in an orthogonal system like an OFDMA system where terminals closer to a base station may transmit at higher power levels without causing much problem to other terminals. For clarity a specific embodiment for adjusting transmit power is described below. For this embodiment each terminal monitors the OSI bits broadcast by neighbor base stations and only responds to the OSI bit of the strongest neighbor base station which has the smallest channel gain ratio in the vector . If the OSI bit of a given base station is set to 1 due to the base station observing higher than nominal inter sector interference then the transmit powers of terminals having this base station as their strongest neighbor base station may be adjusted downward. Conversely if the OSI bit is set to 0 then the transmit powers of terminals having this base station as their strongest neighbor base station may be adjusted upward. For other embodiments each terminal may adjust its transmit power based on one or multiple OSI bits obtained for one or multiple base stations e.g. serving and or neighbor base stations .

The OSI bit thus determines the direction in which to adjust the transmit power. The amount of transmit power adjustment for each terminal may be dependent on 1 the current transmit power level or the current transmit power delta of the terminal and 2 the channel gain ratio for the strongest neighbor base station. Table 1 lists some general rules for adjusting the transmit power based on the transmit power delta and the channel gain ratio for the strongest base station.

The transmit power may be adjusted in a deterministic manner a probabilistic manner or some other manner. For deterministic adjustment the transmit power is adjusted in a pre defined manner based on the pertinent parameters. For probabilistic adjustment the transmit power has a certain probability of being adjusted with the probability being determined by the pertinent parameters. Exemplary deterministic and probabilistic adjustment schemes are described below.

Reverse link loading of an OFDM or OFDMA system can be measured as follows. shows a set of data and control channels used for the exemplary data transmission scheme. The terminal measures the received signal quality of the forward link and transmits a channel quality indicator CQI codeword on the CQI channel. The terminal continually makes measurements of the forward link quality and sends updated CQI codewords on the CQI channel. Thus discarding received CQI codewords deemed to be erased is not detrimental to system performance. However received CQI codewords deemed to be non erased should be of high quality since a forward link transmission may be scheduled based on the information contained in these non erased CQI codewords.

If the terminal is scheduled for forward link transmission then the serving base station processes data packets to obtain coded packets and transmits the coded packets on a forward link data channel to the terminal. For a hybrid automatic retransmission H ARQ scheme each coded packet is partitioned into multiple subblocks and one subblock is transmitted at a time for the coded packet. As each subblock for a given coded packet is received on the forward link data channel the terminal attempts to decode and recover the packet based on all subblocks received thus far for the packet. The terminal is able to recover the packet based on a partial transmission because the subblocks contain redundant information that is useful for decoding when the received signal quality is poor but may not be needed when the received signal quality is good. The terminal then transmits an acknowledgment ACK on an ACK channel if the packet is decoded correctly or a negative acknowledgment NAK otherwise. The forward link transmission continues in this manner until all coded packets are transmitted to the terminal.

The loading in the reverse link of a cellular system is a function of the total interference power seen at the base station and the receiver noise floor when there is no interference at the base station. The source of this interference may be users from within the same sector intra sector interference or users from adjacent sectors inter sector interference .

In a CDMA system that uses matched filter receivers also known as Rake receivers the total interference power is the total received power that comprises the intra sector interference power inter sector interference and the receiver noise power. In a CDMA system that uses interference cancellation techniques the total interference power is less than the total received power. More specifically the total interference power is the total received power minus the cancelled interference power.

In an orthogonal multiple access system such as OFDMA TDMA FDMA the total interference power is less than the total received power. More specifically the total interference power is the total received power minus the power from users in the same sector that are orthogonal to the desired user s signal. So as an example in an OFDMA system the total interference power is the inter sector interference power plus receiver noise power. As suggested the loading is a function of both the total interference power and the receiver noise power. A mechanism is provided for measuring the receiver noise power and the total interference power.

A method as described above for measuring receiver noise power can be used in an OFDM or OFDMA system. A silence interval is specified. Remote terminals do not transmit during this silence interval. The silence interval is an interval in time and frequency. As an example for an OFDMA or FDMA system the silence interval may last from time t to time t and span from frequency f to frequency f. Multiple silence intervals may be used spanning different time frequency blocks to improve the estimation accuracy. The silence frequencies may be generated using a notch filter as explained above or by nulling out certain tones of the IFFt FFT output used for OFDMA or FDMA transmissions.

Another example way of measuring receiver noise is by measuring any signal existing in a guard band. A guard band is any unused tones each unused tone in a guard band is called a guard tone. For example a communication system may include unused tones between an uplink band and a downlink band or between any two communication bands. Receiver noise can be measured in at least one guard tone.

As another example the receiver noise may be measured in disjoint tones. That is the tones used for the receiver noise measurement need not be adjacent to each other.

Several schemes are possible for estimating interference. Any convenient scheme can be used. As an example for an OFDMA or FDMA system each remote terminal transmits some pilots along with the data. In one embodiment the base station or access point takes the difference of pairs of pilot symbols that are contiguous to each other in time or frequency. It then averages the power of the resulting signal.

As another example null transmissions can be used. That is some frequency carriers for a certain duration are not used in the particular sector but are used in adjacent sectors. One such method would be to use some pseudo random mechanism for choosing the carriers and time duration that are left unused in a particular sector. Then the energy on those carriers over that time duration is equal to the total interference power.

The measured loading value can be used for power control as described for example in U.S. patent application Ser. No. 10 897 463 entitled POWER CONTROL FOR A WIRELESS COMMUNICATION SYSTEM UTILIZING ORTHORGONAL MULTIPLEXING filed on Jul. 22 2004 and assigned to the assignee of the present application and which is hereby incorporated by reference herein for admission control rate control or for other diagnostic purposes including as described above.

The terminal does not transmit during the specified silence interval which is a set of time and frequency slots. A notch filter may be used to create the time and frequency slots. Another mechanism is to null out certain tones of FFT IFFT output in an OFDMA FDMA transmitter.

Estimating step may include measuring a second received power in the null time and frequency interval. The transmission power may be increased responsive to the comparing. Alternatively an admission request may be denied responsive to the comparing. As a further alternative a data rate may be decreased responsive to the comparing.

Comparing step may include dividing the interference by the receiver noise. Estimating step may include detecting a first pilot signal detecting a second pilot signal and subtracting the first pilot signal from the second pilot signal.

Alternatively measuring step may include measuring receiver noise in a guard band in any type of communication system.

Estimating module may include measuring a second received power in the null time and frequency interval. The transmission power may be increased responsive to the comparing. Alternatively an admission request may be denied responsive to the comparing. As a further alternative a data rate may be decreased responsive to the comparing.

Comparing module may include dividing the interference by the receiver noise. Estimating module may include detecting a first pilot signal detecting a second pilot signal and subtracting the first pilot signal from the second pilot signal.

Alternatively measuring module may include measuring receiver noise in a guard band in any type of communication system.

The techniques described herein may be implemented by various means. For example these techniques may be implemented in hardware software or a combination thereof. For a hardware implementation the processing units used to perform erasure detection and or power control may be implemented within one or more application specific integrated circuits ASICs digital signal processors DSPs digital signal processing devices DSPDs programmable logic devices PLDs field programmable gate arrays FPGAs processors controllers micro controllers microprocessors other electronic units designed to perform the functions described herein or a combination thereof.

For a software implementation the techniques described herein may be implemented with modules e.g. procedures functions and so on that perform the functions described herein. The software codes may be stored in a memory unit e.g. memory unit in and executed by a processor e.g. controller . The memory unit may be implemented within the processor or external to the processor in which case it can be communicatively coupled to the processor via various means as is known in the art.

The previous description of the preferred embodiments is provided to enable any person skilled in the art to make or use the present invention. The various modifications to these embodiments will be readily apparent to those skilled in the art and the generic principles defined herein may be applied to other embodiments without the use of the inventive faculty. Thus the present invention is not intended to be limited to the embodiments shown herein but is to be accorded the widest scope consistent with the principles and novel features disclosed herein.


---

title: Policy engine in an Internet Protocol multimedia subsystem
abstract: A system includes a policy engine in an Internet Protocol Multimedia Subsystem (IMS). The policy engine may be configured to store a group of policies associated with the IMS, and forward the group of policies to a group of policy components in the IMS.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07975037&OS=07975037&RS=07975037
owner: Verizon Patent and Licensing Inc.
number: 07975037
owner_city: Basking Ridge
owner_country: US
publication_date: 20060728
---
The present application claims priority to U.S. Provisional Patent Application No. 60 703 812 filed Jul. 29 2005 and U.S. Provisional Patent Application No. 60 764 748 filed Feb. 3 2006. The entire contents of both provisional applications are incorporated herein by reference in their entireties.

The Internet Protocol Multimedia Subsystem IMS provides mobile and fixed multimedia services. The aim of IMS is not only to provide new services but all the services current and future that the Internet provides. In this way IMS gives network operators and service providers the ability to control and charge for each service. In addition users are given the ability to execute services from their home networks as well as when the users are roaming.

The following detailed description of implementations consistent with principles of the invention refers to the accompanying drawings. The same reference numbers in different drawings may identify the same or similar elements. Also the following detailed description does not limit the invention. Instead the scope of the invention is defined by the appended claims and their equivalents.

Implementations described herein relate to a policy engine that acts as a central repository for policies within an Internet Protocol IP Multimedia Subsystem IMS . The policy engine may also forward policy updates to the appropriate policy decision points in the IMS so that policy changes can be reflected in real time or near real time.

S CSCF I CSCF and P CSCF may be considered call session control components in system . The call control components may be responsible for parsing a session e.g. a session initiation protocol SIP session and applying logic e.g. business logic service logic operational logic etc. on a per event basis. The outcome of the session control may be to route an event to the appropriate components and or append SIP headers and values.

S CSCF may be viewed as the brain of the IMS core. S CSCF may perform session control registration and service invocation for the users of the IMS core. S CSCF may receive a user profile from HSS and route sessions requested by an IMS user also called an IMS subscriber or subscriber . Additionally S CSCF may perform user authentication based on information from HSS .

In some implementations S CSCF may include a Service Capability Interaction Manager SCIM and Resource Management RM functions. The SCIM may be responsible for orchestrating the offerings of one or more application services across various service enabling technologies and platforms to produce valued services for IMS users. The RM may be responsible for executing business rules and service level agreements SLAs by allocating the appropriate resources. S CSCF may receive session requests from the following sources P CSCF and I CSCF . After service invocation is completed S CSCF may disposition the sessions by routing the session requests to the destinations via for example P CSCF BGCF and or I SBC .

I CSCF may act as the main point of contact for connections to and from a subscriber in the IMS platform. I CSCF may be located at the edge of the IMS core. I CSCF may receive SIP messages and identify the next hops for the SIP messages. To achieve this I CSCF may query HSS for the location e.g. an address of the appropriate S CSCF to which a particular SIP message is to be forwarded.

P CSCF may receive session requests from end points located at both public IP networks and private IP networks. P CSCF may validate requests forward the requests to selected destinations and process and forward the responses. P CSCF may generate chargeable events and send information relating to the chargeable events to CF . Additionally P CSCF may interact with PDF to grant reject or downgrade a session request based on platform resources and quality of service QoS measurements.

HSS may include one or more servers that act as the central repository for user related information. HSS may contain user related subscription information for handling multimedia sessions. Some of the information contained in HSS may include information identifying the location of a particular S CSCF for a particular user. As indicated above the location of a particular S CSCF may be conveyed to I CSCF upon receiving a query from a network element. HSS may also include user profile information that contains service trigger points and information identifying the corresponding resources e.g. applications media services etc. that offer the services. The user profile information may be forwarded to S CSCF for session control and service treatment. Moreover HSS may provide and receive updates directly from application servers .

SLF may include one or more databases that contain subscription location information for subscribers. SLF may receive a query containing identification information for a subscriber from I CSCF and return based on the subscriber identification information information identifying an HSS that serves the subscriber.

System may include various components that bridge the IMS core to external networks such as a public switched telephone network PSTN the Internet etc. These components which may include MGW function MGCF SLG NGW BGCF and BIGCF may perform protocol conversion and event routing to or from the IMS core. In one implementation consistent with principles of the invention SLG and NGW may be replaced with more generic gateways that include MGW and MGCF .

MGW function may connect PSTN networks and the IMS core. In one implementation MGW function may terminate bearer channels from a PSTN network and media steams from the IMS core e.g. real time transport protocol RTP streams in an IP network or Asynchronous transfer mode Adaptation Layer 2 AAL2 ATM connections in an ATM backbone execute the conversion between these terminations and perform transcoding and signal processing. In addition MGW function may provide tones and announcements to circuit switched CS users. In one implementation consistent with principles of the invention MGW function may operate under the control of MGCF .

MGCF may be part of the gateway infrastructure that enables communication between the IMS core and PSTN networks. MGCF may perform protocol conversion between the Integrated Services Digital Network ISDN User Part ISUP or Primary Rate Interface PRI and SIP protocols before forwarding a session to the IMS core. In similar fashion IMS originated sessions directed towards PSTN users may traverse MGCF . MGCF may control media channels in MGW . In addition MGCF may report account information to CF .

SLG may include a set of MGCF and MGW entities. SLG may connect the IMS core to Class 5 networks. In one implementation the interfaces between SLG and the Class 5 networks may include Digital Signal 1 DS1 based Non Facilities Associated Signaling NFAS PRIs.

NGW may include a set of MGCF and MGW entities. NGW may connect the IMS core to Class 3 networks. In one implementation the interfaces between MGCF of NGW and the Class 3 networks may include DS1 based signaling system 7 SS7 interfaces and the interfaces between MGW of NGW and Class 3 networks may include DS1 bearer channels.

BGCF may connect IMS initiated calls to Circuit Switch CS customers e.g. an IMS user calling a telephone number in the PSTN . BGCF may based on a routing policy select an appropriate network in which the connection is to be made or may select the appropriate gateway to the other network.

BIGCF may correspond to an ingress point that handles incoming calls from PSTN gateways e.g. NGW SLG wholesale gateways other IP based carriers e.g. based on Voice over Internet Protocol VoIP peering agreements Intrado Peering Points etc. BIGCF may route calls from and to non IMS subscribers. BIGCF may route calls to the IMS core when the calls are destined for IMS subscribers or when IMS applications are invoked or may bypass the IMS core elements P CSCF I CSCF S CSCF HSS etc. when calls are destined for non IMS subscribers and no IMS applications are invoked by the calling party or called party. BIGCF may route calls to PSTN based termination points to BGCF and route calls to IP based termination points e.g. a wholesale termination point IP based carriers etc. directly to I SBCs associated with the IP based termination points. If calls are either from and or to IMS subscribers or IMS applications or services are invoked BIGCF may route the calls to the IMS core via I CSCF and using S CSCF to invoke calling and or called party features.

The IMS core may provide multimedia services. Examples of multimedia services or applications include playing announcements audio video recording and playback interactive voice response IVR fax reception and transmission automatic speech recognition ASR text to speech conversion TTS multimedia conferencing customized ring back tones push to talk over cellular PoC video messaging etc. MRF may be part of the IMS core and may support services that use multimedia streams.

As illustrated in MRF may include MRFC MRFP and MRB . MRFC and MRFP are the IMS resources that provide support for bearer related services e.g. multi party sessions announcements to a user bearer transcoding etc. . MRFC may provide bearer control related services. MRFP may provide user plane resources that may be requested and instructed by MRFC . MRB may provide a resource management function that is able to allow media resources to become common resources shared among multiple applications.

Application servers may include one or more servers that provide enhanced audio video messaging and data services within the application layer of system . Application servers may be accessible to the users of the IMS core and provide value added multimedia services to those users. Application servers may submit charges to the IMS core for the services that application servers provide to the IMS user community.

Two types of application servers that may be used within system may include micro applications and macro applications or macro application services . Micro applications may be provided on a common services delivery platform through the use of SCE logic . Micro applications may include a wide variety of enhanced multimedia services that need a rapid development and deployment cycle. One example of the Micro applications is the Carrier AS . Macro application services may include Hosted IP CENTREX HIPC Unified Messaging UM Presence and GLMS .

CENTREX may correspond to a type of Private Branch Exchange PBX service in which switching occurs at a local telephone office instead of at the company premises where the traditional PBX is located. In one implementation CENTREX may be replaced by or supplemented with a SIP Voice Features server. Unified messaging may allow users to be able to retrieve and send voice messages from a single interface regardless of the technology e.g. telephone personal computer etc. and may provide other unified messaging services e.g. fax deposit retrieval voice to email etc. . Carrier AS may facilitate tool free call processing.

SCE logic may provide a foundation for rapid development of next generation services. SCE may support Java Specification Request J SR SIP Servlet and a suite of externalized application programming interfaces APIs for developers to gain access to the IMS core. A single SCE may support a number of macro application servers and may support the building of micro applications.

The IMS core may support a number of different services such as GLMS Presence and ENUM server . GLMS may include one or more services that allow for group list creation management and use across multiple applications within the IMS core. GLMS may enforce access and visibility rules. Presence may include one or more services that automate the task of aggregating both presence and availability information. Presence may inform one user about the status of another user s availability and willingness to communicate. Presence servers may use a Presence User Agent PUA to manage the presence of the IMS subscribers and handle presence subscription requests. For example an application or an IMS subscriber may act as a watcher which is an entity that subscribes to presence information provided by Presence Server . ENUM server may provide translation of E.164 to SIP URIs. BIGCF and S CSCF may query ENUM server to determine a next hop for a call. In some implementations consistent with principles of the invention BIGCF may execute ENUM queries for both calling and called number resolution.

The IMS core may include one or more session border controllers SBCs that provide control of the boundary between different service provider networks provide signaling protocol inter working between the SIP based IMS core and other service provider networks control the transport boundary between service provider networks and provide usage metering and Quality of Service QoS measurements for media flows. Two types of SBCs that may be associated with the IMS core are the A SBC and the I SBC . In other implementations A SBC and I SBC may be replaced with border gateway functions.

A SBC may correspond to an ingress point to the IMS core for Customer Premises Equipment CPE traffic. A SBC may provide SIP aware firewall capabilities that support network address translation NAT prevent denial of service DoS attacks and execute other security enforcement features. A SBC may be the first SIP events normalization point prior to the IMS core.

I SBC may serve as a connection point between the IMS core and wholesale gateways and also between the IMS core and IP peering VoIP carriers. I SBC may provide SIP normalization and Topology Hiding and Internetwork Gateway THIG services.

System may include a number of policy components. For example system may as illustrated in include a policy engine a PDF and a RM . Policy engine may include one or more rule based engines that govern subscriber access to the IMS core subscriber access to resources and routing decisions for several different types of event requests made within the IMS core. In one implementation policy engine may provide decision logic to policy components also called policy decision points within the IMS core. Policy engine may manage two general categories of resources 1 network bandwidth resources related to the transport of multimedia content streams and 2 application resources related to the service logic and media processing used to initiate and control multimedia content streams. Policy engine may maintain real time information regarding the state of all resource requests e.g. bandwidth requests media requests etc. being made in system and update the appropriate policy components e.g. PDF and or RM in system based on the real time information. Moreover policy engine may allow for policies to be created modified and or deleted and may update the appropriate policy components e.g. PDF and or RM in real time to reflect the policy changes. Policy engine may interface with PDF and RM using the extensible markup language XML protocol. Policy engine may also interface with one or more external operations support systems OSSs not shown for policy creation modification and or deletion and with one or more network management systems for obtaining resource status updates.

PDF may provide service based local policy control. PDF may make policy decisions based on session and media related information. PDF may exchange this decision information with another IMS element such as A SBC or I SBC to control the flow and characteristics of a communication link. PDF may manage the bandwidth resources. PDF may act as a sub component of the platform border signaling elements P CSCF BIGCF BGCF and SBCs and and enforce policies to ensure that multimedia streams are transported with the proper bandwidth utilization properties and Quality of Service QoS in accordance with subscriber service level agreements SLAs .

RM may be used to execute a policy at the component level. As illustrated in RM may be associated with for example S CSCF BIGCF A SBC and I SBC . In one implementation RM may store and execute the policy decisions that are relevant for the location at which RM is associated.

CF may include a unified system for affecting both offline charging and online charging. Offline charging is a process where charging information for network resource usage is collected concurrently with that resource usage. The charging information may be passed through a chain of CFs . At the end of this process Charging Detail Record CDR files may be generated by the network which are then transferred to the network operator s billing domain for the purpose of subscriber billing.

Online charging is a process where the actual charging for network resource usage occurs in real time concurrently with that resource use. The charges may be debited from an appropriately funded subscriber account. An example of online charging includes pre paid calling card usage.

CDF may compile chargeable events gathered from IMS components into a single Charging Detail Record CDR for offline billing activities. CDF may gather the chargeable events from a Charging Trigger Function CTF that may be associated with components of system and after creating the CDR pass the billing data to the CGF .

CGF may act as a gateway between both the offline charging system the online system and an external post processing system such as a billing domain.

GUP may include a collection of data that is stored and managed by different entities such as the user equipment the home environment the visited network and the value added service providers which affects the way in which an individual user experiences services. CUP may include a number of user profile components and an individual service may make use of a subset of the available user profile components.

Bus may permit communication among the components of policy engine . Processing logic may include any type of processor or microprocessor that interprets and executes instructions. In other implementations processing logic may be implemented as or include an application specific integrated circuit ASIC field programmable gate array FPGA or the like. Memory may include a random access memory RAM or another type of dynamic storage device that stores information and instructions for execution by processing logic a read only memory ROM or another type of static storage device that stores static information and instructions for the processing logic and or some other type of magnetic or optical recording medium and its corresponding drive for storing information and or instructions.

Input device may include a device that permits an operator to input information to policy engine such as a keyboard a keypad a mouse a pen a microphone one or more biometric mechanisms and the like. Output device may include a device that outputs information to the operator such as a display a speaker etc.

Communication interface may include any transceiver like mechanism that enables policy engine to communicate with other devices and or systems. For example communication interface may include mechanisms for communicating with other components within system .

As will be described in detail below policy engine may perform processing associated with maintaining and providing policies in the IMS. Policy engine may perform these and other functions in response to processing logic executing software instructions contained in a computer readable medium such as memory . A computer readable medium may be defined as one or more memory devices and or carrier waves. The software instructions may be read into memory from another computer readable medium or from another device via communication interface . The software instructions contained in memory may cause processing logic to perform processes that will be described later. Alternatively hardwired circuitry may be used in place of or in combination with software instructions to implement processes consistent with the principles of the invention. Thus systems and methods consistent with the principles of the invention are not limited to any specific combination of hardware circuitry and software.

As illustrated database may include a subscriber group field and a policy field . Database may include other fields that facilitate associating policies with individual subscribers and or subscriber groups and or providing policies to policy decision points in system . For example database may include an additional field that associates a subscriber with the subscriber group to which the subscriber belongs.

Subscriber group field may store information that uniquely identifies an IMS subscriber group. A subscriber group may include for example a company a wholesaler retailer etc. Each subscriber group may include one or more IMS subscribers or groups of IMS subscribers.

Policy field may include information identifying one or more policies with which the subscriber group in subscriber group field is associated. The policies may include for example resource policies and or bandwidth and service level agreement policies. The resource policies may define the types of resources and their specifications for various subscriber groups identified in subscriber group field . In some exemplary implementations a resource policy may specify a resource or group of resources as guaranteed or shared. In one exemplary implementation a premium subscriber group may be allocated a guaranteed resource policy which may guarantee that resources will be available while a normal subscriber group may be allocated a shared resource policy which may indicate that there is no guarantee resources will be available. The resource policy may also specify for example the time of day that a resource or group of resources is guaranteed or the day of the week the resource or group of resources is shared. 

In some implementations consistent with principles of the invention the resource policies may be configurable by geographical location. For example a particular resource policy associated with a subscriber in North America may specify resources from North America rather than for example Asia.

The resources identified in the resource policies may include a set of session control signaling and computing resources that are used to provide value added multimedia services to IMS subscribers. For example the resources may include application servers e.g. pre paid applications as well as media processing servers e.g. announcement and IP interactive voice response IVR servers .

The bandwidth and service level agreement policies may define the bandwidth and quality of service to which the corresponding subscriber group is associated. In some implementations a subscriber group may be associated with more than one bandwidth specification and more than one service level agreement.

Policy engine may modify database to reflect the policy update block . For example policy engine may store a new policy in database and or another location associated with policy engine update a policy in database and or another location associated with policy engine delete a policy from database and or another location associated with policy engine etc.

Policy engine may forward the policy update to the appropriate policy component s block . For example policy engine may forward the policy update to the appropriate PDF and or appropriate RM s associated with S CSCF P CSCF BGCF BIGCF A SBC and or I SBC . Policy engine may identify the appropriate policy component s based on a number of factors. For example policy engine may identify the appropriate policy components based on the geographical location of the resource s to which the policy e.g. new updated and or deleted is associated. Policy engine may also or alternatively identify the policy component s based on the policy that is being added updated deleted etc. For example if the policy is a resource policy policy engine may identify RM associated S CSCF as the policy component to which the policy update is to be forwarded. As another example if the policy is a service level agreement policy policy engine may identify one or more PDFs and or RMs associated P CSCF BGCF BIGCF A SBC and or I SBC as the policy component s to which the policy update is to be forwarded.

In one exemplary implementation policy engine may forward the policy update to the appropriate policy component s using the XML protocol. Policy engine may automatically update the appropriate policy components in response to receiving the policy update. In this way policy updates can be reflected in the IMS in real time or near real time.

Policy engine may identify a policy that is associated with the resource or group of resources block . For example policy engine may analyze the policies stored in database to identify the policy and identify the policy or policies that specify the particular resource or group of resources.

Policy engine may update the identified policy based on the resource status update block . For example assume that a subscriber group has a service level agreement policy for a number of conference ports. If the ports are fully occupied then a subsequent request from the subscriber group may be denied. However assume that the subscriber group has a subset of premium subscribers who are guaranteed to always have access to a conference port. In this situation policy engine may modify a policy to reserve a number of the ports dynamically for the premium subscribers.

Policy engine may forward the policy update to the appropriate policy component s block . For example policy engine may forward the policy update to the appropriate PDF and or appropriate RM s associated with S CSCF P CSCF BGCF BIGCF A SBC and or I SBC . Policy engine may identify the appropriate policy component s based on a number of factors. For example policy engine may identify the appropriate policy components based on the geographical location of the resource s to which the policy e.g. new updated and or deleted is associated. Policy engine may also or alternatively identify the policy component s based on the policy that is updated. For example if the policy is a resource policy policy engine may identify RM associated S CSCF as the policy component to which the policy update is to be forwarded. As another example if the policy is a service level agreement policy policy engine may identify one or more PDFs and or RMs associated P CSCF BGCF BIGCF A SBC and or I SBC as the policy component s to which the policy update is to be forwarded.

In one exemplary implementation policy engine may forward the policy update to the appropriate policy component s using the XML protocol. Policy engine may automatically update the appropriate policy components in response to receiving the resource status update. In this way policy updates can be reflected in the IMS in real time.

Implementations described herein provide a centralized policy repository for an IMS. Via the centralized policy repository policy decision points can be updated in real time to reflect changing policies and or current network conditions.

The foregoing description of exemplary implementations provides illustration and description but is not intended to be exhaustive or to limit the invention to the precise form disclosed. Modifications and variations are possible in light of the above teachings or may be acquired from practice of the invention. For example while series of acts have been described with respect to the order of the acts may be varied in other implementations consistent with the invention. Moreover non dependent acts may be implemented in parallel.

It will be apparent to one of ordinary skill in the art that aspects of the invention as described above may be implemented in many different forms of software firmware and hardware in the implementations illustrated in the figures. The actual software code or specialized control hardware used to implement aspects consistent with the principles of the invention is not limiting of the invention. Thus the operation and behavior of the aspects of the invention were described without reference to the specific software code it being understood that one of ordinary skill in the art would be able to design software and control hardware to implement the aspects based on the description herein.

Further certain portions of the invention may be implemented as logic that performs one or more functions. This logic may include hardware such as an application specific integrated circuit a field programmable gate array a processor or a microprocessor software or a combination of hardware and software.

No element act or instruction used in the description of the present application should be construed as critical or essential to the invention unless explicitly described as such. Also as used herein the article a is intended to include one or more items. Where only one item is intended the term one or similar language is used. Further the phrase based on is intended to mean based at least in part on unless explicitly stated otherwise.


---

title: Computer implemented voice markup system and method
abstract: A computer-implemented method and system for processing a service request received from a telephone communication device. The telephony system and method utilizes a call management server and a voice interpreter server. The call management server receives an incoming call from a user, and the voice interpreter server processes the service request contained in the incoming call. Data communication encapsulation is used to communicate data between the call management server and the voice interpreter platform in order to process the service request.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07646855&OS=07646855&RS=07646855
owner: Genesys VG, Inc.
number: 07646855
owner_city: Ottawa, Ontario
owner_country: CA
publication_date: 20060417
---
This application claims priority to United States Application Ser. No. 60 302 156 entitled Computer Implemented Voice Markup System and Method . By this reference the full disclosure including the drawings of United States Application Ser. No. 60 302 156 is incorporated herein.

The present invention is directed to Internet based voice systems. More specifically the present invention is directed to Internet based voice systems that are used within computer server networks.

Telephone users are steadily increasing their demands for services that are accessible through their telephones. Telephone users want access to the ranges and types of services that they are accustomed to accessing over the Internet. Such Internet services include for example content searching as provided by such companies as Yahoo or Infoseek. Other services include address or phone number lookups.

The Internet provides users with visually based interfaces to access the service applications. However telephone users have difficulty in using Internet applications due to their devices not being adept to interacting with the visually based interfaces of the Internet applications. For example cell phone users have relatively small displays within which to view Internet information. Thus telephony systems that can efficiently and effectively provide such services to cell phone users as well as to other telephone users are highly desirable.

The present invention allows such services to be efficiently and effectively provided to the users. The telephony system of the present invention includes a call management server and a voice interpreter server. The call management server receives an incoming call from a user and the voice interpreter server processes the service request contained in the incoming call. Data communication encapsulation is used to communicate data between the call management server and the voice interpreter platform in order to process the service request.

With reference to the telephony server may select to route the call to the person through a PSTN connection and or Internet channel . The telephony server may use a Voice Over IP VoIP product a Voice on the Net VON product or other such similar products to place the call over the Internet telephony channel . An example of a VoIP product is the VoIP product available from VocalTec Communications Ltd. located in Fort Lee N.J. An example of a VON product is the VON product available from Intel located in Austin Tex.

The telephony server examines whether to use a PSTN connection or an Internet connection to route the call . The examination is based upon the location of the person with whom the user wishes to speak and a cost comparison between using an Internet connection to make the call versus a PSTN connection . If the telephony server decides not to use an Internet connection to route the call then the call is routed through the PSTN connection and the user communicates with the desired person through the PSTN connection .

If the telephony server decides to use an Internet connection to route the call then the call is routed through an Internet connection to the remote location where the desired person is located. The telephony server may also further examine whether to route the call for a predetermined distance with the Internet connection and then finish routing the call through a PSTN connection . The decision may be based upon whether the PSTN connection is less expensive to finish routing the call to the desired person and whether the PSTN connection is the only viable channel to complete the routing.

A user may also communicate with the telephony server in order to request one or more services. For example the user may call the telephony server in order to locate a restaurant at which to dine. The incoming call is received by the telephony server and the telephony server asks questions to the user in order to determine the type of service. The telephony server recognizes the words of the user to obtain the parameters of the restaurant search to be conducted. If abnormal conditions are detected by the telephony server during processing then the telephony server sends notification electronic mail messages to the appropriate personnel so that the abnormal conditions can analyzed and remedied if needed.

The telephony server may obtain external web content to assist it in handling the service request. This includes the external web content providing voice applications to interact with the user. The external web content may also perform the searching needed to provide the service. For example the telephony server may send search criteria to a restaurant location web site so that the web site can determine restaurants that satisfy the search criteria.

The telephony server includes a call manager which uses automated speech recognition tools to recognize the speech uttered by the user. Preferably the tools include automatic speech recognition resources as well as text to speech resources . Different speech engines are used based upon the application at hand. For example one type of text to speech engine may be used when conversing with the user in French while another engine is used with another user in English.

The call manager determines whether a voice application is needed to service the request of the user. One or more voice pages i.e. applications are obtained and stored in a web proxy located on the telephony server. The web proxy may retrieve voice applications over the Internet and cache the voice applications in order to improve the performance of servicing the user s request. A VoiceXML interpreter i.e. a voice markup language engine on the telephony server executes the voice applications and may utilize one or more speech engines in order to interact with the user describes in further detail the VoiceXML interpreter .

A uniform resource locator URL administrator associates a telephone number with an Internet location e.g. via a URL . For example a user may have requested an individual s telephone number by dialing 1 555 1212 to obtain the information. The telephony server associates this number with a predetermined URL which identifies a phone number lookup voice application. A remote dial server provides an Internet telnet interface so that requests may be made to the call manager for outbound dialing associated with a voice application. A remote dial server is used for example to initiate an outbound call without receiving a corresponding triggering inbound call such as when a user configures the present invention to issue the user a wake up call for 6 00 a.m. the next morning.

An embodiment of the present invention uses a remote web site to locate suitable VoiceXML applications . The remote web site may exact compensation for locating the suitable VoiceXML applications by having the user listen to an audio advertisement. describe below in greater detail the VoiceXML web site application retrieval system and the audio advertising system that are used within the present invention.

A user utilizes a communication device to access the user s telephony server . The present invention may be utilized by many different types of communication devices such as a cellular communication device. The user may be accessing the telephony server to have a service performed. A previously mentioned example of a service includes the telephony server receiving a call from the user so that the user may locate a restaurant in a certain city. The telephony server uses a web content server to access a restaurant locating voice application that is on a network such as the Internet. The voice application may be a VoiceXML application located on a remote web site.

The telephony server determines that a service is needed in order to process the request from the user. The telephony server communicates to the web content server the characteristics of the needed service. The web content server locates a voice application that can provide the needed service.

The web content server communicates to a database engine the characteristics of the needed service. The database engine uses an Internet search engine to search a voice application index database . The database contains an index of voice applications that have been catalogued according to a taxonomy of the present invention. For example the taxonomy includes indexing voice applications based upon what resources are required to operate each voice application.

The database engine formulates search criteria to locate voice applications that can provide the needed service. The search criteria is formulated based upon the characteristics of the needed service. The characteristics include what type of application is needed such as whether the telephony server needs a restaurant locating voice application or some other voice application type. The search criteria also includes telephony server attributes . Telephony server attributes describe the operating characteristics of the telephony server such as what speech engines are able to operate on the telephony server .

The Internet search engine uses the search criteria to determine which voice applications are suitable to fulfill the telephony server s request. When the location of at least one suitable voice application has been identified the Internet search engine retrieves the suitable voice application over the Internet. The Internet search engine then provides the voice application to the telephony server via the web content server . The telephony server performs the functions of the voice application in order to satisfy the request of the user .

With reference to the advertising selection and retrieval computer system of the present invention ensures delivery of the audio ad to the user. The present invention retrieves audio ads from the advertising database in response to an incoming call from the telephony server . A user may be using a telephone or a wireless communication device to communicate with the telephony server to have a service performed for the user. An example of a service includes the telephony server receiving a call from the user so that the user may locate a restaurant in a certain city. The telephony server uses the web content server to access a restaurant locating software application that is on a network such as the Internet . The application may be a VoiceXML application located on a remote web site . Another exemplary application includes a user calling to locate the phone number of another individual. In this latter example the application is a phone number lookup VoiceXML application.

The telephony server forwards the incoming call to a server which may be the server of the ISP which forwards the call to a web content server . The web content server formulates a hypertext transfer protocol http request for an audio ad. The request is sent to the advertising selection retrieval server for processing. The advertising selection retrieval server selects an appropriate audio ad from the advertising database and sends back an ad location identifier to the web content server . The web content server retrieves the audio file from a web site based upon the ad location identifier and dynamically inserts the ad audio file into the VoiceXML application. The web content server sends the VoiceXML application back to the telephony server so that the VoiceXML application may be executed. The audio file is also sent so that it may be played for the user of the telephony server .

The web content server may include in the http request such information as the type of user that is placing the incoming call. The web content server knows what type of user is placing the incoming call based upon information that the user has already provided to the telephony server . For example the telephony server may know where the user is located based upon the area code of the incoming call or the telephony server has a database that stores profiles of its users. The user s request may also furnish additional information. For example if the user is requesting jewelry information then the web content server may supplement the http request with that profile information. In such a situation the advertising selection retrieval server may heighten the probability that a jewelry related audio ad be selected. The telephony server may also have asked the user questions about the user s profile.

The advertising selection retrieval server selects an audio ad based upon certain predetermined rules. The ad selection rules include balanced ad usage rules profit rules e.g. revenue sharing rules target user customer profile rules and other selection rules that will be apparent to one skilled in the art. The balanced ad usage rules ensure that audio ads are played at least a certain amount of times. The profit rules optimize the amount of earnings the operators of the present invention acquire for the playing of the audio ads. For example the profit rules may indicate that a first audio ad be played more often than a second audio ad when the first audio ad s financial arrangement is based upon a profit sharing arrangement and the second audio ad s financial arrangement is a set fee arrangement. The target user profile rules ensure that audio ads that fit a user profile are played. For example a jewelry related audio ad is played for a user who has requested jewelry related information. Examples of other selection rules include accounting information such as whether the advertiser is current in its payments to the operators application service provider configuration and content provider configuration.

The telephony server provides ad usage data which is stored in the advertising database. The telephony server records how long an audio ad was played to the user. The user may terminate the call before the entire audio ad was played. The ad usage information is sent to advertisers to provide feedback on the quality of their ads. For example if a certain ad is habitually terminated early by users then this serves as an indication that the ad may need to be improved or replaced.

The present invention operates with free content providers. In this context the system of the present invention is entitled to a certain number of minutes i.e. four minutes of its own ad for every time slot e.g. twenty two minutes while the application service provider provides a piece of time for its own ad. In other words for every block of time say thirty minutes the content provider can use only twenty two minutes of that time block while keeping the remaining four minutes for its own ad and four minutes for the application service provider.

The present invention includes a revenue sharing system. The hosting company who owns the advertising servers charges a one time listing fee and monthly platform usage fees from advertising agencies and telephony server operators. The advertising agencies pay the hosting company with the listing fee and monthly platform fee and pay the server operators i.e. the ISPs the ad usage fee.

The server operators pay the hosting company the listing and monthly platform fees and receive the ad usage fees from matched advertisers. The server operators distribute the ad fees with the connected application providers and charge the application providers the application usage listing fees.

Registration server registers the telephony processes that are responsible for executing VoiceXML applications. Logger is a centralized logging mechanism that records debug warning and error messages as well as detailed call information from VoiceXML applications. Health monitor monitors the VoiceXML applications by sending out periodic messages. The Health monitor also includes a telnet interface which allows users or scripts to perform monitoring maintenance or administrative tasks.

The alarm acts as an interface to the sentry alarm board for various physical conditions of the system such as voltage and temperature. The alert module takes appropriate actions for system problems including phone calls paging and sending electronic mail messages so that the abnormal conditions can analyzed and remedied if needed.

At process block the user indicates the service that is desired. At process block the telephony server determines that a VoiceXML application is needed in order to provide the service. An embodiment of the present invention includes determining what VoiceXML application to use based upon the phone number dialed by the user as shown at reference numeral . For example a user may have requested an individual s telephone number and dialed 1 555 1212 to obtain the information. The telephony server associates this number with a predetermined URL which contains a phone number lookup voice application. A phone number URL link database may be used to retrieve a web page URL based upon a dialed phone number and the web page at the URL will perform the service.

Decision block examines whether the VoiceXML application is resident on the telephony server. If it is resident then processing continues on at process block . It should be understood that the present invention does not typically retain VoiceXML applications on the telephony server and retrieves VoiceXML applications in real time in order to satisfy a present need. When the VoiceXML application is not resident on the telephony server then processing continues on at process block .

With reference to the telephony server transmits to the VoiceXML application retrieval web site a VoiceXML application request at process block . The request contains search criteria so that the web site may search its database according to its VoiceXML classification taxonomy . Process block constructs the search criteria in accordance with the VoiceXML classification taxonomy . The search criteria may for example contain the attributes of the telephony server such as what speech engines operate upon the telephony server the type of service requested and other such criteria to retrieve a suitable voice application.

The search is performed at process block in order to determine the location of a suitable VoiceXML application. Process block retrieves a suitable VoiceXML application. Continuation block indicates that processing continues on .

With reference to the VoiceXML application is provided to the telephony server at process block . Additional resources if needed are provided at process block to the telephony server e.g. speech engines in order to operate the VoiceXML application. At process block the web site may send an audio advertisement to the telephony server. The audio advertisement sent to the telephony server may have been selected based upon the profile of the user using the telephony server. The telephony server stores the data e.g. the VoiceXML application and audio advertisement on its storage medium e.g. its random access memory hard drive etc. . Processing continues on at process block .

With reference to the telephony server executes the VoiceXML application at process block . At process block the user interacts with the VoiceXML application so that the requested service may be performed. At process block the telephony server temporarily stores the data generated during the transaction. The requested service is completed at process block . Processing continues on at process block .

With reference to if an audio advertisement had been sent then the audio advertisement is played to the user at process block . Process block determines the duration of time that the user listened to the audio advertisement. Process block removes data that is specific to the transaction from the telephony server. This enables the telephony server to be essentially stateless after handling a transaction. Process block sends the specific transactional data from the telephony server to a remote computer such as the remote web content server. This may include sending the ad usage data from the telephony server to the remote web site which stores the ad usage data in its database. Processing terminates at end block .

The call management platform first receives a call requesting a service via the telephony hardware . It should be understood that the other ways may be used to send calls to the call manager such as through VoIP mechanisms. The interpreter platform needs to be invoked by the call management platform in order to process the call s request. When such communication is necessary the call manager sends the message to the interpreter API layer such as through an interprocess communication IPC facility as found within the field of the present invention.

The call manager first registers itself with the VoiceXML interpreter using a PW Open function contained in the interpreter communication layer . During the registration the call manager establishes what services it requires during the communication session based upon the incoming message and what services it provides for the incoming messages. Services requested by the call manager are contained as an argument when invoking the PW Open function. Services provided by the call manager are also contained as an argument in the PW Open function. The PW Open function further includes the application server name.

The call manager uses the interpreter communication layer to apply a wrapper to the call s data to create an encapsulated message understandable to the interpreter API . The wrapper identifies the type of message being sent. For example the message may be a new call initiation a continuation of an existing call or an attempt to reestablish an earlier call that may have been lost. After wrapping into a format understandable by the interpreter API the call manager sends the message to the interpreter API . The interpreter API then unwraps the message and forwards the message to communication layer . The communication layer knows how to communicate messages between the interpreter API and the interpreter platform by wrapping the message into a format understandable by the interpreter platform .

Upon receipt of the wrapped message from the interpreter communication layer the VoiceXML interpreter provides the requested data processing service in order to generate reply data. The VoiceXML interpreter takes the reply data and uses the interpreter communication layer to wrap and encapsulate the reply data to form a reply message for ultimate transmission to the call management platform . The wrapped reply message is transmitted first to the interpreter API which unwraps the message and then forwards the message to the interpreter communication layer . The interpreter layer wraps the message in a format understandable to the call management platform for use by the call management platform .

System operators configure the mapping data set to specify which call management platforms and interpreter platforms are used within the system. For example system operators may initially configure the mapping data set to specify that a first type of call management platform is to communicate with a first type of interpreter platform. The system operators select the appropriate call management platform from a list of call management platform types . Likewise the system operators select the appropriate VoiceXML interpreter platform from a list of interpreter platform types. In this way the interpreter API layer contains a first interpreter communication layer that can handle communications with the first type of call management platform as well as a first interpreter communication layer that can handle communications with the first type of interpreter platform .

Additional platforms may be added as the need arises. For example a second call management platform may be added to the mapping data set in order to communicate with the first type of interpreter platform . A second interpreter communication layer is used in order to allow such communications to occur.

Alternatively the second call management platform may be added to communicate with a second type of interpreter platform which could be a non VoiceXML interpreter platform or a VoiceXML interpreter platform whose hardware and communication requirements are significantly different from the first interpreter s platform . In this respect a second interpreter communication layer provides communication between the call management server and the interpreter API and another interpreter communication layer handles communications between the interpreter API and the second interpreter platform. The first call management platform may also be configured to communicate with the second type of interpreter platform if the first type of interpreter platform is overloaded due to processing other requests.

With reference to the call manager uses an interpreter communication layer to encapsulate the message at process block . The encapsulated message is sent to the interpreter API at process block so that it can unwrap the message at process block . The interpreter API provides the message to another interpreter communication layer so that the message may be formatted to be understandable to the VoiceXML interpreter platform. Processing continues on as indicated by continuation block .

With reference to the wrapped message is sent to the VoiceXML interpreter at process block . At process block the VoiceXML interpreter processes the user s request by retrieving a VoiceXML application from a remote website or it may query a remote Internet website for hotel reservation information that satisfies the user s request . The VoiceXML interpreter obtains results through use of the VoiceXML application at process block . Processing continues on as indicated by continuation block .

With reference to the VoiceXML interpreter uses the interpreter communication layer at process block to encapsulate the data results for delivery to the interpreter API. At process block the interpreter API unwraps the data results. Processing continues on as indicated by continuation block .

With reference to data results are provided at process block to the interpreter communication layer so that it can wrap the message in a format understandable to the call management platform. The wrapped message is sent to the call management platform to provide the hotel reservation results to the user. Processing for this exemplary operational scenario terminates at end block .

The operational scenario illustrates that the present invention allows telephony systems to efficiently and effectively provide services to telephone users. However it should be understood that the embodiments described with reference to the operational scenario and to the drawing figures are presented only to demonstrate examples of the invention and that the present invention includes possibly having many messages being communicated between the call management platform and the VoiceXML interpreter platform to process a user s request. Additional and or alternative embodiments of the invention would be apparent to one of ordinary skill in the art upon reading this disclosure.


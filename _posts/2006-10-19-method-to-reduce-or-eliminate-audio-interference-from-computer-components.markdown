---

title: Method to reduce or eliminate audio interference from computer components
abstract: The present invention provides a system and method that mitigates audio interference before and/or during an audio session, and in particular, when a high quality audio session is desired. The system includes an audio component that determines whether an audio session is to commence and a control component that interfaces with the audio component and reduces activity associated with a subset of a plurality of computer components that may interfere with the audio session. The system may also include at least one power management system to facilitate reducing power consumption and activity of the computer component(s). The method involves determining that an audio session is desired and switching one or more computer components to a minimal interference mode prior to commencing the audio session. The method may also involve calling at least on API to facilitate the switching of the computer component(s).
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07843893&OS=07843893&RS=07843893
owner: Microsoft Corporation
number: 07843893
owner_city: Redmond
owner_country: US
publication_date: 20061019
---
The present invention relates generally to computer noise management particularly altering operational modes of a number of computer components to facilitate mitigating undesirable interference with an application.

The demand for superior quality and resolution of output from computing devices increases dramatically as users employ their computing devices for ever diverse purposes. For example when microphones are integrated into part of a computing device or when microphones are placed near or in near proximity of the computing device there is a likelihood that activity of the computing device may cause interference to or a quality reduction of an audio input. For applications which require high quality audio input or which high quality input is desired by the user interference from the computing device may hinder obtaining the desired input fidelity.

The following presents a simplified summary of the invention in order to provide a basic understanding of some aspects of the invention. This summary is not an extensive overview of the invention. It is not intended to identify key critical elements of the invention or to delineate the scope of the invention. Its sole purpose is to present some concepts of the invention in a simplified form as a prelude to the more detailed description that is presented later.

The subject invention provides for a system and method that facilitates maximizing fidelity of a data transfer session. The invention infers determines and or is notified that a data transfer session e.g. audio input audio output video session wireless session . . . is about to commence or has begun commencing and initiates a minimal interference mode to mitigate interference by system components to the session. It is to be appreciated that the subject invention can employ various artificial intelligence based schemes to facilitate carrying out the subject invention. Accordingly classifiers e.g. trained explicitly and or implicitly can facilitate effecting a minimal interference mode in accordance with a user s current state as well as preference given the state. Moreover utility based analyses can be performed that factor in the benefits of entering a minimal interference mode versus the cost thereof and or the cost of incorrectly entering such mode.

One particular aspect of the invention provides a system and method that allow an application e.g. calling application to indicate to an operating system of a computing device that high quality input output or an exchange of high quality sound and or communication is about to commence thereby facilitating the operating system to take any number of appropriate measures to ready itself for a period of quiet. For example system or computer components such as hard disk drives and fans may cause intermittent random bursts of and or ambient noise and or vibration that can interfere with sound capture from microphones which are either internal or external with respect to the computing device. Thus a period of minimal noise and or vibration can be obtained via the present invention before and or during the audio session for at least a portion of the length of the audio session. By mitigating audio interference before and or during an audio session high quality input can be readily obtained particularly when using portable devices such as laptops tablet PC s and the like. Such aspect of the invention is accomplished at least in part by determining whether an audio session is desired. When an audio session is desired an application programming interface API can be called the API can correspond to instructing various components of an operating system to reach a minimal interference mode and or period of quiet for the length of the desired audio session. The various computer components which are instructed to reach a minimal interference mode can include but are not limited to a floppy disk drive a disk cache a hard disk drive a speaker a fan and a CD ROM drive.

More specifically one or more power management systems and or one or more system control functions which are associated with and control one or more computer components and or one or more applications can be directed to bring the respective components to a minimal interference mode. In addition one or more applications can be selectively muted before and or during the audio session. For example the power management system can implement at least a first reduction in overall power consumption before the audio session begins. To further mitigate audio interference during the audio session a second reduction in power consumption and or noise management can be made to at least one of one or more applications and one or more computer components. The amount of the power reductions may be based at least in part on historical information current environment or state user preferences and or inferences provided by an artificial intelligence component.

When the audio session has been substantially completed the one or more power management systems can be signaled to return the respective components from the minimal interference mode back to their respective activity states e.g. non audio session mode . Thus audio interference during an audio session is mitigated resulting in obtaining high quality audio.

To the accomplishment of the foregoing and related ends certain illustrative aspects of the invention are described herein in connection with the following description and the annexed drawings. These aspects are indicative however of but a few of the various ways in which the principles of the invention may be employed and the present invention is intended to include all such aspects and their equivalents. Other advantages and novel features of the invention may become apparent from the following detailed description of the invention when considered in conjunction with the drawings.

The present invention is now described with reference to the drawings wherein like reference numerals are used to refer to like elements throughout. In the following description for purposes of explanation numerous specific details are set forth in order to provide a thorough understanding of the present invention. It may be evident however that the present invention may be practiced without these specific details. In other instances well known structures and devices are shown in block diagram form in order to facilitate describing the present invention.

As used in this application the terms component and system are intended to refer to a computer related entity either hardware a combination of hardware and software software or software in execution. For example a component may be but is not limited to being a process running on a processor a processor an object an executable a thread of execution a program and a computer. By way of illustration both an application running on a server and the server can be a component. One or more components may reside within a process and or thread of execution and a component may be localized on one computer and or distributed between two or more computers.

As used herein the term inference refers generally to the process of reasoning about or inferring states of the system environment and or user from a set of observations as captured via events and or data. Inference can be employed to identify a specific context or action or can generate a probability distribution over states for example. The inference can be probabilistic that is the computation of a probability distribution over states of interest based on a consideration of data and events. Inference can also refer to techniques employed for composing higher level events from a set of events and or data. Such inference results in the construction of new events or actions from a set of observed events and or stored event data whether or not the events are correlated in close temporal proximity and whether the events and data come from one or several event and data sources. For example it is to be appreciated that certain aspects of the invention can employ inference engines e.g. classifiers trained explicitly and or implicitly to perform a probabilistic based or statistical based analysis as to inferring a user s goals or intentions as well as a component s goals or intentions in connection with the audio interference mitigation system described herein. Thus an audio component can infer an audio session is potentially desired by a customer based on historical extrinsic and state information and perform an action related to the audio session e.g. to facilitate the occurrence thereof . Explicit training can be performed on a classifier prior to use and implicit training can be an on going training process performed by a user for example.

Referring to a system that mitigates interference during a high quality communication session is illustrated. The system includes session information which may be received by a session component . The session information may comprise instructions directions commands and the like which may indicate to the session component whether a data session is desired. In particular the session component can determine whether a data session is desired based at least in part on the session information received either directly or indirectly e.g. artificial intelligence from a user and or component. It is to be appreciated that a session is intended to include any suitable communication forum e.g. multi party communications audio input audio output recording of information video transmission video recording transmitting of information data transfer . . . . Moreover the subject claimed invention is intended to address visual based and or stimuli based types of communication e.g. video image transfer haptics graphics transfer vibration . . . wherein various device system components may have a negative impact on such session.

The session component communicates to a control component that a session is desired. The control component controls and manages at least in part any number of computer or system components such as component and up to . Thus when a session is desired the control component signals a subset of the computer components to switch to a minimal interference mode. The control component may comprise at least one power management system and or at least one system control function which manages at least one computer component and or at least one application related thereto.

The minimal interference mode can involve at least one of delayed interference and reduced interference such that in either case system operations are optimized to perform near or at about the same times rather than individually at scheduled intervals over a period of time.

An exemplary implementation of the system can involve a hard disk drive and a fan component. For instance information relating to the desire to commence an audio session for example is received by the session component . The control component may comprise a first power management system assigned to the hard disk drive and a second power management system assigned to the fan component. In order to switch the hard disk drive to a period of quiet or a minimal interference mode a cache of the system can be flushed or saved to the hard disk drive in order to buffer disk write s read s and to mitigate disk access during the session. More specifically a write cache is flushed to free storage space on the disk s thus permitting the maximum amount of caching to be available. Flushing the cache in accordance with the present invention allows for an optimum amount of storage caching before the disk s needs to be written again. Furthermore a prefetch of the data which can be expected and or have the potential to be needed is cached from the disk.

Thus the cache is made available and can be populated with data from the audio session. However when the cache is filled during the audio session e.g. a sufficient number of disk calls have been made to fill the write cache the hard disk drive can be accessed to flush the cache. However its accessibility and ability to run for any other purpose can be minimized for the length of the session. Hence the hard disk drive is maintained at the minimal interference mode as instructed.

Likewise operation of the fan component can occur at random times as triggered by operating temperatures of the computing device. In order to switch the fan component to the minimal interference mode the second power management system can decrease or throttle performance of the central processing unit CPU and or bring into effect any suitable power reduction that effectively reduces the system heat generated. This can reduce an amount of heat generated in the CPU which would otherwise cause the fan component to run. Moreover the reduced activity of the hard disk drive may also contribute to the generation of less heat in the CPU. As a result the system reaches a thermal balance and the fan component can be shut down suspended and or its operation delayed interrupted and or minimized for the duration of the session.

Accordingly it is to be appreciated that the subject invention contemplates a variety of types of interference e.g. vibration audio noise optical noise radiation magnetic radiation capacitive coupling leakage current flux . . . that may interfere with a particular type of session. The scope of the subject invention as recited in various of the hereto appended claims is intended to encompass entering components of a system in a minimal interference mode to mitigate interference such as a subset of that noted above to a particular session so as to improve fidelity of the session.

The AI components can include classifiers such as for example a Bayesian classifier a support vector machine and or other type of classifier and or other non linear training system s . The AI components can facilitate performing inferences and or utility based determinations in accordance with the subject invention. For example the AI component can infer whether of not a session is about to commence as well perform a utility based analysis as to whether or not to inform the control component that a session is to be commenced. Various extrinsic factors e.g. state of user historical information type of info. received . . . can be employed in connection with the inference analysis. For example correctly inferring that a session is about to commence can optimize effecting minimal interruption mode and mitigate loss of session fidelity at the beginning of the session. Additionally factoring in the cost of making an incorrect inference can further facilitate utility of the invention. The AI components and respectively can be trained explicitly as well as implicitly to facilitate optimal employment of minimal interference mode in accordance with the subject invention. It is to be appreciated that minimal interference mode is intended to encompass maximal session fidelity. Thus various sensing modalities e.g. microphones data capture components . . . can be heightened in order to maximize session fidelity in accordance with the subject invention. The AI components and of the control component and the various components can perform inference and utility based determinations with respect to the functionality of their respective components.

The components can also employ filter s in connection with effecting minimal interference in accordance with the subject invention. For example if the control component determines that a particular one of the components will interfere with a session but the component is critical to maintaining processing throughput for the overall system a filter s associated with the component can be engaged to mitigate the amount of interference by the component to the session. For example if the particular component is a power component that emits a first noise at a certain frequency that might interrupt an audio session and also emits a second noise at another frequency that might interfere with a wireless video session the control component could engage a filter designed to dampen the first noise if an audio session is about to commence or engage another filter designed to dampen the second noise type is a wireless video session is about to commence.

It is to be appreciated that the various AI components and can work in collaboration with the session component control component filter s and other components in order to optimize the system for maximum session fidelity.

An audio component receives the audio session information and determines based at least in part on that information whether an audio session is desired. The audio component may also signal to an operating system not shown and or to a control component that an audio session is about to commence thus certain measures should be taken in order to ready the operating system and the overall computing device not shown for a period of quiet for the length of the audio session. In particular the control component which is operatively linked to one or more components can direct one or more of the computer components to enter a period of minimal function or operation before the audio session commences.

The one or more computer components selected may comprise those components which historically generate audio interference beyond a tolerable threshold with respect to high quality audio sessions. Alternatively or in addition the one or more selected computer components may contribute to CPU usage and thus heat generation thereby causing other computer components to run in order to compensate for the heat generated within the computing device. Therefore diminishing the amount of heat generated during the audio session reduces the running of temperature sensitive computer components e.g. fan which are also likely to produce audio interference during the audio session.

Following the audio session the control component can instruct the affected computer components to return to their prior states. Alternatively some or all of the affected computer components can be instructed to return to their respective default states as desired by the user. The system also includes an artificial intelligence AI component operatively coupled to the audio component and the control component . The AI component may facilitate determining whether an audio session is desired based at least upon one or more inferences. In addition the AI component can identify the computer components which can be switched to a minimal interference mode prior to the commencement of the audio session based at least upon one or more inferences. The inferences can be based in part upon explicit training of classifier s not shown before employing the system or implicit training based at least upon a user s previous actions commands instructions and the like during use of the system . Accordingly a utility based analysis e.g. via employment of a probabilistic and or statistical based framework can be employed that factors the costs associated with entering a minimal interference mode with the benefits thereof within a reasonable probability or confidence level. Thus for example the system can control the components based at least in part upon a determined and or inferred state of a user s as well as goals of the user s .

Turning now to flow diagrams of exemplary methods for carrying out various aspects of the present invention are illustrated. While for purposes of simplicity of explanation the methodologies are shown and described as a series of acts it is to be understood and appreciated that the present invention is not limited by the order of acts as some acts may in accordance with the present invention occur in different orders and or concurrently with other acts from that shown and described herein. For example those skilled in the art will understand and appreciate that a methodology could alternatively be represented as a series of interrelated states or events such as in a state diagram. Moreover not all illustrated acts may be required to implement a methodology in accordance with the present invention.

In an exemplary method that mitigates interference during a data session in accordance with an aspect of the present invention is demonstrated. The method involves determining whether a data session is desired at . If a session is desired then any number of computer components of a system can be switched to a minimal interference mode. Otherwise at the state of the computing device and its operating system remain as is and or at its current state until a session is desired.

When calling the API at it may also be desired to identify one or more computer components which can be switched to a minimal interference mode at . Following the QUIET API at the method determines if the audio session is completed at . If the audio session has been completed then the QUIET API is called at in order to indicate that the audio session is completed and to return the affected computer components to their respective states as existed prior to the audio session. The QUIET API at involves a series or set of instructions as illustrated in below which effectively facilitate resuming routine operational states to the one or more affected computer components. However if the audio session has not been completed then the QUIET API is not called and the system returns to until a time when the session is substantially completed.

The QUIET API involves flushing an operating system s write cache to disk such as a hard disk drive and loading pages relevant and applicable to the calling application to prepare for the audio session at as well as any other pages the system can anticipate for any other purpose. At an optional call can be made to a volume shadow API. Calling the volume shadow API gives the appearance that the operating system is performing a backup. Thus programs and their corresponding computer components do not run until the backup is completed. If the volume shadow API is called any running applications are directed to reach a steady state at . In other words the volume shadow API interrupts the running application. Therefore the running application experiences a period of inactivity or delayed activity until the audio session is completed.

If calling the volume shadow API is not desired or the call has already been made the QUIET API can continue at where for example a power management system may be called to switch the hard disk drive to a minimal interference mode. The minimal interference mode may comprise shutting down suspending slowing down interrupting or delaying operation of the hard disk drive for the length of the audio session or as otherwise determined by the user and or the calling application. At a power management system may be called to temporarily shut down slow down interrupt suspend or delay operations of one or more other computer components which collectively contribute to producing ambient noise or other random bursts of noise. Hence the states of such computer components should reflect a minimal interference mode as well.

In addition the power management system may initiate at least a first reduction in power consumption to minimize the amount of interference before the audio session begins and a second reduction in power consumption during the audio session. For example before and or during the audio session the power management system may selectively mute applications which tend to produce system event time noises.

At the QUIET API can optionally confirm whether the desired computer components have been switched to the minimal interference mode. At the QUIET API can return control of the operating system and or the computing device as a whole to the calling application so that the audio session may be performed. The QUIET API ends at . It should be appreciated that the QUIET API can involve additional instructions related to mitigating audio interference during the high quality audio session.

When the audio session has been completed an exemplary API such as a QUIET API can be called by the calling application in in order to remove any affected computer components and or applications from the minimal interference mode. The QUIET API involves returning any affected power profile to its state which existed prior to the commencement of the audio session at . That is the one or more computer components switched to a minimal interference mode to prepare for the audio session may resume their respective routine or prior power profile. In addition any applications which have been previously muted or otherwise interrupted may also resume operation.

For example if the volume shadow API was called blocked applications can be unblocked at . Optionally the QUIET API may confirm that the affected computer components and or applications have returned to their respective states existing prior to the audio session e.g. state when in non audio session mode . At control of the operating system and or the computing device may be returned to the calling application.

In order to provide additional context for various aspects of the present invention and the following discussion are intended to provide a brief general description of a suitable operating environment in which various aspects of the present invention may be implemented. While the invention is described in the general context of computer executable instructions such as program modules executed by one or more computers or other devices those skilled in the art will recognize that the invention can also be implemented in combination with other program modules and or as a combination of hardware and software.

Generally however program modules include routines programs objects components data structures etc. that perform particular tasks or implement particular data types. The operating environment is only one example of a suitable operating environment and is not intended to suggest any limitation as to the scope of use or functionality of the invention. Other well known computer systems environments and or configurations that may be suitable for use with the invention include but are not limited to personal computers hand held or laptop devices multiprocessor systems microprocessor based systems programmable consumer electronics network PCs minicomputers mainframe computers distributed computing environments that include the above systems or devices and the like.

With reference to an exemplary environment for implementing various aspects of the invention includes a computer . The computer includes a processing unit a system memory and a system bus . The system bus couples system components including but not limited to the system memory to the processing unit . The processing unit can be any of various available processors. Dual microprocessors and other multiprocessor architectures also can be employed as the processing unit .

The system bus can be any of several types of bus structure s including the memory bus or memory controller a peripheral bus or external bus and or a local bus using any variety of available bus architectures including but not limited to 11 bit bus Industrial Standard Architecture ISA Micro Channel Architecture MSA Extended ISA EISA Intelligent Drive Electronics IDE VESA Local Bus VLB Peripheral Component Interconnect PCI Universal Serial Bus USB Advanced Graphics Port AGP Personal Computer Memory Card International Association bus PCMCIA and Small Computer Systems Interface SCSI .

The system memory includes volatile memory and nonvolatile memory . The basic input output system BIOS containing the basic routines to transfer information between elements within the computer such as during start up is stored in nonvolatile memory . By way of illustration and not limitation nonvolatile memory can include read only memory ROM programmable ROM PROM electrically programmable ROM EPROM electrically erasable ROM EEPROM or flash memory. Volatile memory includes random access memory RAM which acts as external cache memory. By way of illustration and not limitation RAM is available in many forms such as synchronous RAM SRAM dynamic RAM DRAM synchronous DRAM SDRAM double data rate SDRAM DDR SDRAM enhanced SDRAM ESDRAM Synchlink DRAM SLDRAM and direct Rambus RAM DRRAM .

Computer also includes removable nonremovable volatile nonvolatile computer storage media. illustrates for example a disk storage . Disk storage includes but is not limited to devices like a magnetic disk drive floppy disk drive tape drive Jaz drive Zip drive LS 100 drive flash memory card or memory stick. In addition disk storage can include storage media separately or in combination with other storage media including but not limited to an optical disk drive such as a compact disk ROM device CD ROM CD recordable drive CD R Drive CD rewritable drive CD RW Drive or a digital versatile disk ROM drive DVD ROM . To facilitate connection of the disk storage devices to the system bus a removable or non removable interface is typically used such as interface .

It is to be appreciated that describes software that acts as an intermediary between users and the basic computer resources described in suitable operating environment . Such software includes an operating system . Operating system which can be stored on disk storage acts to control and allocate resources of the computer system . System applications take advantage of the management of resources by operating system through program modules and program data stored either in system memory or on disk storage . It is to be appreciated that the present invention can be implemented with various operating systems or combinations of operating systems.

A user enters commands or information into the computer through input device s . Input devices include but are not limited to a pointing device such as a mouse trackball stylus touch pad keyboard microphone joystick game pad satellite dish scanner TV tuner card digital camera digital video camera web camera and the like. These and other input devices connect to the processing unit through the system bus via interface port s . Interface port s include for example a serial port a parallel port a game port and a universal serial bus USB . Output device s use some of the same type of ports as input device s . Thus for example a USB port may be used to provide input to computer and to output information from computer to an output device . Output adapter is provided to illustrate that there are some output devices like monitors speakers and printers among other output devices that require special adapters. The output adapters include by way of illustration and not limitation video and sound cards that provide a means of connection between the output device and the system bus . It should be noted that other devices and or systems of devices provide both input and output capabilities such as remote computer s .

Computer can operate in a networked environment using logical connections to one or more remote computers such as remote computer s . The remote computer s can be a personal computer a server a router a network PC a workstation a microprocessor based appliance a peer device or other common network node and the like and typically includes many or all of the elements described relative to computer . For purposes of brevity only a memory storage device is illustrated with remote computer s . Remote computer s is logically connected to computer through a network interface and then physically connected via communication connection . Network interface encompasses communication networks such as local area networks LAN and wide area networks WAN . LAN technologies include Fiber Distributed Data Interface FDDI Copper Distributed Data Interface CDDI Ethernet IEEE 1102.3 Token Ring IEEE 1102.5 and the like. WAN technologies include but are not limited to point to point links circuit switching networks like Integrated Services Digital Networks ISDN and variations thereon packet switching networks and Digital Subscriber Lines DSL .

Communication connection s refers to the hardware software employed to connect the network interface to the bus . While communication connection is shown for illustrative clarity inside computer it can also be external to computer . The hardware software necessary for connection to the network interface includes for exemplary purposes only internal and external technologies such as modems including regular telephone grade modems cable modems and DSL modems ISDN adapters and Ethernet cards.

What has been described above includes examples of the present invention. It is of course not possible to describe every conceivable combination of components or methodologies for purposes of describing the present invention but one of ordinary skill in the art may recognize that many further combinations and permutations of the present invention are possible. Accordingly the present invention is intended to embrace all such alterations modifications and variations that fall within the spirit and scope of the appended claims. Furthermore to the extent that the term includes is used in either the detailed description or the claims such term is intended to be inclusive in a manner similar to the term comprising as comprising is interpreted when employed as a transitional word in a claim.


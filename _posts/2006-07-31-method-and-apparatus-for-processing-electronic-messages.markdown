---

title: Method and apparatus for processing electronic messages
abstract: Methods and apparatuses for processing electronic messages are described herein. In one aspect of the invention, for an outgoing message addressed to a mail address of a recipient, the mail client determines whether is an alternative messaging system available to the mail address of the recipient. If there is an alternative messaging system available, the mail client determines whether the recipient's alternative messaging system is online. If so, the mail client sends the mail message to the recipient via the alternative messaging system. Otherwise, the mail client sends the message via normal mail system. Other methods and apparatuses are also described.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07836136&OS=07836136&RS=07836136
owner: Apple Inc.
number: 07836136
owner_city: Cupertino
owner_country: US
publication_date: 20060731
---
This application is a continuation of co pending U.S. patent application Ser. No. 10 741 948 filed on Dec. 19 2003.

The present invention relates generally to data processing. More particularly this invention relates to electronic message processing.

In computer network systems such as local area networks LANs wide area networks WANs and the Internet and the worldwide web WWW which operates thereon email systems and associated protocols are often utilized to facilitate communication between two users of the network or email system. Each user has a unique network address which may be used for routing and identifying purposes in delivering an email message from one user the sender to another user the recipient on the network.

Email messages are typically sent from a sender to a recipient by the sender typing or otherwise preparing an email message on a PC personal computer which is itself typically coupled to a server coupled to a communications network such as the Internet. The email contains both a body or content portion which contains the message itself and the network email address es of the recipient s . Email messages can also include more complex information such as attached files. In general however each email transmission from a sender to a recipient over a network includes some body or message portion and the network addresses of the sender and recipient. The email transmission may be referred to in general as an email message which is transmitted via a network from a sender to a recipient.

The email message is thus transmitted from the sender PC to the local network router or server e.g. an email server which delivers the email message in packetized form to the network. The packets are each routed from one node of the network to another in accordance with the recipient address information associated with the packets. These packets are received by a recipient server of the network which can then assemble the received packets into the original email message and deliver the email message to the recipient s PC which is attached to the recipient server. The email message may be routed through one or more routing servers between the sender s server and the recipient s server. These routing servers may be different types of servers provided by different vendors. The routing servers may queue and schedule the routing the email message according to its own schedule. As a result the delivery of the email message may be delayed by the routing servers and such delays are sometimes unacceptable. In addition such delay prevents the recipient from providing the sender an instant confirmation of arrival of the email message at the recipient even if the sender enables a return receipt option on the outgoing email message.

For many users the send and receive email server functions are performed by a service provider such as an Internet service provider ISP . In order to receive email a user must first log in to his ISP typically by use of a modem and telephone line or other communications channel such as a cable system cable. Any email messages which have been received by the ISP for the user since the last time the user logged in to his ISP may then be delivered to the user recipient. If the user keeps his PC continually logged on to his ISP and is present at his PC he can receive email as soon as it is received by his ISP. The user s own PC may be configured to alert the user when it receives the email message from the ISP. However many users log in only periodically to check for email messages. Thus if an important email message arrives while the user is not logged in or is away from his PC terminal the user will not be aware of this.

Methods and apparatuses for processing electronic messages are described herein. In one aspect of an exemplary embodiment of the invention for an outgoing message addressed to a mail address e.g. an Internet email address of a recipient the mail client of a sender determines whether there is an alternative messaging system e.g. an instant messaging system or a chat system available to the mail address of the recipient. If there is an alternative messaging system available the mail client determines whether the recipient s alternative messaging system is online. If so the mail client sends the mail message to the recipient via the alternative messaging system. Otherwise the mail client sends the message via a normal mail system.

In one aspect of an exemplary embodiment of the invention when an incoming message is received at an alternative messaging system of a recipient such as an instant messaging IM client the message is examined whether the message is a mail message. If it is determined that the message is a mail message the message is then forwarded to the corresponding mail client of the recipient and displayed as an ordinary mail message as if it is received from the corresponding mail server.

According to yet another aspect of an exemplary embodiment of the invention when a mail client is launched it registers with an alternative messaging client such as an IM client. The alternative messaging client then advertises in its associated community that it is capable of processing mail messages.

According to yet another aspect of an exemplary embodiment of the invention an alternative messaging server such as an IM server receives a message from a first messaging client of a first user which is sent by a first mail client of the first user. The first mail client is communicatively coupled to the first messaging client of the first user. In response to the message the alternative messaging server substantially instantly sends the message to a second messaging client of a second user which is communicatively coupled to a second mail client of the second user. The message is then forwarded from the second messaging client to the second mail client and the second mail client processes the message as an ordinary mail message as if it is received from the first mail client of the first user via a mail server.

The present invention also discloses machine readable media which may be executed by a processor to perform the above processes. Other features of the present invention will be apparent from the accompanying drawings and from the detailed description which follows.

Method and apparatus for processing electronic messages are described herein. In the following description numerous details are set forth to provide a more thorough explanation of the present invention. It will be apparent however to one skilled in the art that the present invention may be practiced without these specific details. In other instances well known structures and devices are shown in block diagram form rather than in detail in order to avoid obscuring the present invention.

Some portions of the detailed descriptions which follow are presented in terms of algorithms and symbolic representations of operations on data bits within a computer memory. These algorithmic descriptions and representations are the means used by those skilled in the data processing arts to most effectively convey the substance of their work to others skilled in the art. An algorithm is here and generally conceived to be a self consistent sequence of steps leading to a desired result. The steps are those requiring physical manipulations of physical quantities. Usually though not necessarily these quantities take the form of electrical or magnetic signals capable of being stored transferred combined compared and otherwise manipulated. It has proven convenient at times principally for reasons of common usage to refer to these signals as bits values elements symbols characters terms numbers or the like.

It should be borne in mind however that all of these and similar terms are to be associated with the appropriate physical quantities and are merely convenient labels applied to these quantities. Unless specifically stated otherwise as apparent from the following discussion it is appreciated that throughout the description discussions utilizing terms such as processing or computing or calculating or determining or displaying or the like refer to the action and processes of a computer system or similar electronic computing device that manipulates and transforms data represented as physical electronic quantities within the computer system s registers and memories into other data similarly represented as physical quantities within the computer system memories or registers or other such information storage transmission or display devices.

The present invention also relates to apparatus for performing the operations herein. This apparatus may be specially constructed for the required purposes or it may comprise a general purpose computer selectively activated or reconfigured by a computer program stored in the computer. Such a computer program may be stored in a computer readable storage medium such as but is not limited to any type of disk including floppy disks optical disks CD ROMs and magnetic optical disks read only memories ROMs random access memories RAMs EPROMs EEPROMs magnetic or optical cards or any type of media suitable for storing electronic instructions and each coupled to a computer system bus.

The algorithms and displays presented herein are not inherently related to any particular computer or other apparatus. Various general purpose systems may be used with programs in accordance with the teachings herein or it may prove convenient to construct more specialized apparatus to perform the required method steps. The required structure for a variety of these systems will appear from the description below. In addition the present invention is not described with reference to any particular programming language. It will be appreciated that a variety of programming languages may be used to implement the teachings of the invention as described herein.

A machine readable medium includes any mechanism for storing or transmitting information in a form readable by a machine e.g. a computer . For example a machine readable medium includes read only memory ROM random access memory RAM magnetic disk storage media optical storage media flash memory devices electrical optical acoustical or other form of propagated signals e.g. carrier waves infrared signals digital signals etc. etc.

Access to the Internet is typically provided by Internet service providers ISPs such as the ISP and the ISP . Users on client systems such as the client computer systems and generally obtain access to the Internet through Internet service providers such as ISPs and . Access to the Internet may facilitate transfer of information e.g. email text files media files etc. between two or more digital processing systems such as the client computer systems and and or a Web server system . For example one or more of the client computer systems and and or the Web server may provide document presentations e.g. a Web page to another one or more of the client computer systems and and or Web server . For example in one embodiment of the invention one or more client computer systems and may request to access a document that may be stored at a remote location such as the Web server . In the case of remote storage the data may be transferred as a file e.g. download and then displayed e.g. in a window of a browser after transferring the file. In another embodiment the document presentation may be stored locally at the client computer systems and or . In the case of local storage the client system may retrieve and display the document via an application such as a word processing application. Without requiring a network connection.

The Web server typically includes at least one computer system to operate with one or more data communication protocols such as the protocols of the World Wide Web and as such is typically coupled to the Internet . Optionally the Web server may be part of an ISP which may provide access to the Internet and or other network s for client computer systems. The client computer systems and may each with appropriate Web browsing software access data such as HTML document e.g. Web pages which may be provided by the Web server .

The ISP provides Internet connectivity to the client computer system via a modem interface which may be considered as part of the client computer system . The client computer systems and may be a conventional data processing system such as a Power Mac G5 or iMac computer available from Apple Computer Inc. a network computer a handheld portable computer a cell phone with data processing capabilities a Web TV system or other types of digital processing systems e.g. a personal digital assistant PDA .

Similarly the ISP provides Internet connectivity for the client computer systems and . However as depicted in such connectivity may vary between various client computer systems such as the client computer systems and . For example as shown in the client computer system is coupled to the ISP through a modem interface while the client computer systems and are part of a local area network LAN . The interfaces and shown as modems and respectively may represent an analog modem an ISDN modem a DSL modem a cable modem a wireless interface or other interface for coupling a digital processing system such as a client computer system to another digital processing system. The client computer systems and are coupled to a LAN bus through network interfaces and respectively. The network interface and may be an Ethernet type asynchronous transfer mode ATM or other type of network interface. The LAN bus is also coupled to a gateway digital processing system which may provide firewall and other Internet related services for a LAN. The gateway digital processing system in turn is coupled to the ISP to provide Internet connectivity to the client computer systems and . The gateway digital processing system may for example include a conventional server computer system. Similarly the Web server may for example include a conventional server computer system.

Client computers and may be able to send and receive email messages from each other. The email systems used by client computers and may be proprietary email systems such as IBM Lotus Notes. Alternatively the email systems used by the client computers may be standard email systems such as email systems using POP3 post office protocol SMTP simple mail transport protocol or IMAP Internet message access protocol protocols. According to one embodiment the email client running at the client computers and may determine whether there is an alternative message delivery mechanism such as for example instant messaging IM system to deliver the email message quicker. If the sender s email client determines that there is an alternative e.g. a better alternative available the email client may interact with an application of the alternative delivery mechanism. The alternative delivery mechanism may deliver the email message to the recipient via the alternative delivery system instead of going through the normal email server which routes the email message via one or more routing servers to the recipient s email server and thereafter the recipient s email server forwards the message to the recipient.

According to another embodiment the alternative delivery mechanism such as an IM system may be able to detect whether the counterpart application of the recipient is enabled e.g. online . The email client of the sender may interrogate the alternative delivery system to determine the status of the recipient s counterpart and its capability. The email client of the sender may only transmit the email message to the alternative delivery system if the alternative delivery system of the recipient is active e.g. online and able to receive such email messages. Otherwise the email client of the sender may delivery the email message through a normal email server.

According to one embodiment in order to distinguish the email message from other messages delivered by the alternative delivery system the email message may be tagged with an identification indicating the message being delivered is an email message and repackaged in a format compatible with the message requirement of the alternative delivery system. On the other side when a recipient s counterpart alternative delivery system e.g. IM client receives the message the message may be examined via the tagged identification to determine whether the message is an email message. If the message is an email message the recipient s counterpart may reroute the message to the email client of the recipient. In one embodiment either the alternative delivery system or the email client repackages the message as an ordinary email message and the email client displays the message as if it is received from the corresponding email server. Such actions are performed transparently to a user of the recipient and the user does not know whether the email message may be received via the alternative delivery system.

In addition clients and may be separately and independently running an alternatively message delivery system such as for example an instant messaging IM system. In our fast paced world sometimes even the rapid response of email is not fast enough. A user has no way of knowing if the person the user is sending email to is online at that particular moment or not. Also the email sending through the network may be delayed by one or more routing servers. As a result more and more alternative message delivery systems such as instant messaging are getting more popular. A typical IM system may include IM clients and running at client and respectively. IM clients and may communicate with IM server shared with IM clients and .

Instant messaging allows a user to maintain a list of people that the user wishes to interact with. A user may send messages to any of the people in the list also referred to as a buddy list or contact list as long as that person is online. Sending a message opens up a small window where the user and its friend can type in messages that both can see. Most of the popular instant messaging programs such as AOL s AIM or IM from Yahoo provide a variety of features such as swapping instant messages chat Web links images sounds and files and others e.g. talk and streaming content . After the initial registration with the IM server through paths and IM server allows the message to be transmitted to the intended recipient without having the message queued or delayed by a local mail server as typically required by the conventional mail delivery mechanism. In addition some IM systems allow IM clients and to directly communicate with each other through path without involving IM server using in part of the respective IP address and a port assigned to the IM services. As a result messages exchanged between clients and are delivered in a faster manner.

According to one embodiment IM clients and may interact with mail clients and respectively such that mail messages of mail clients and may be delivered or received via the IM clients and utilizing the advanced features of the IM system which will be described in details further below. In one embodiment when mail client is launched and initialized mail client may register via path with IM client to enable mail client to transmit and receive mail messages via IM client . After mail client has registered with IM client IM client may broadcast or advertise via IM server in the IM community that IM client is capable of handling mail messages. Other members of the IM community such as IM client receives such advertisement and may sends further mail messages to IM client subsequently.

Similarly when mail client is launched and initialized mail client may register via path with IM client to enable mail client to transmit and receive mail messages via IM client . After mail client has registered with IM client IM client may also broadcast or advertise via IM server in the IM community that IM client is capable of handling mail messages e.g. the IM client is online . Thereafter mail clients and may exchange mail messages via IM clients and respectively.

For example according to one embodiment when mail client receives a mail message from a user addressed to mail client of a recipient mail client determines without involving corresponding mail server whether there is an alternative messaging system such as IM client available. The determination may be performed based on whether mail client has registered with IM client successfully. If there is no alternative messaging system available mail client may fall back to its mail server to handle the incoming and outgoing mail messages. In one embodiment such determination may be performed based on whether the alternative messaging system is installed or whether mail client fails to register with the alternative messaging system such as IM client using one of the aforementioned techniques.

If it is determined that there is an alternative messaging system available according to one embodiment mail client may via alternative messaging client e.g. IM client determine whether the recipient s alternative messaging counterpart such as alternative messaging client e.g. IM client is activated e.g. online . If the recipient s alternative messaging client is not activated e.g. offline mail client may fall back to its mail server to handle the mail messages.

If it is determined that the recipient s alternative messaging counterpart is activated mail client may determine via alternative messaging system whether the recipient alternative messaging counterpart e.g. alternative messaging system is capable of handling mail messages. The determination may be performed based on whether the recipient s mail client has successfully registered with its alternative messaging system which advertises such capability in the associated community using one of the aforementioned techniques. If it is determined that the recipient s alternative messaging counterpart is unable to handle mail messages mail client may fall back to its mail server to handle the mail messages.

If the recipient s alternative messaging system is able to handle mail messages according to one embodiment mail client may optionally tag an identification with the mail message to indicate that the message being sent is a mail message. Alternatively according to another embodiment the tagging may be performed by alternative messaging client . Thereafter mail client transmits the mail message to alternative messaging client where the mail message may be repackaged in a format compatible with the alternative messaging system e.g. an IM message packet . Alternatively the mail message may be repackaged by mail client . Furthermore if the message is routed by the alternative messaging server the message may be repackaged by the server . The mail message is then sent to the recipient s alternative messaging counterpart over network directly via path or indirectly via server .

When the recipient s alternative messaging system such as IM client receives the message transmitted through either indirectly through server or directly through path according to one embodiment IM client examines the message packets to determine whether the message is an email message. In one embodiment IM client may examine the identification tagged with the message to determine whether the message is an email message. If the message is determined to be an ordinary IM message the message is displayed in a display of the IM client .

If the message is determined to be an email message or a message for other applications the IM client may reroute the message to corresponding mail client . The message received which may be IM packets may be repackaged as email messages by mail client and displayed in a display such as an Inbox of mail client as if it is received from the corresponding mail server . Alternatively the repackaging may be performed by IM client . Such actions are performed transparently to a user of client . That is the user of client does not know whether the message displayed may be transmitted over through an alternative messaging system. Once IM client turns over the message to mail client successfully IM client may return a success status to IM client of the sender. As a result client e.g. the sender may substantial instantly receive a confirmation of an arrival of the message at client .

In addition when IM client receives the message IM client may determine whether mail client is running and optionally has logged onto the corresponding server . If IM client determines that mail client is not running IM client may return a failure status to IM client of sender . In which case client may fall back to mail client to resend the message to mail server which forwards the message to mail server of the recipient. Alternatively if IM client determines that mail client is not running IM client may attempt to launch mail client and optionally prompt the corresponding user to log in. Furthermore if IM client determines that mail client is not running IM client may simply store the message at a storage e.g. a hard drive of the recipient . The stored message may be retrieved and displayed when the user launches his or her email client . Further IM client may just display a dialog box at a desktop of recipient indicating a new message has arrived without involving mail client . The above options may be configurable through a user interface of recipient such as user preference settings. Other configurations may exist.

In one embodiment IM clients and mail client may operate independently to each other e.g. separate applications . That is client having IM client and mail client installed may not be related to IM server . Alternatively IM clients and mail client may be implemented within the same application or a plugged in application with respect to each other. Furthermore the mail system e.g. mail client and mail server of client may be a different mail system with respect to the mail system e.g. mail client and mail server of client .

Note that the above techniques are not limited to a mail system with an IM system. It will be appreciated that other applications capable of interacting with another application may register with an IM system to transmit and receive data with another application via the IM system. It will be appreciated that the alternative messaging system may not be limited to an IM system any messaging system may utilize the above described techniques to provide an alternative message routing system to an application capable of communicating with another application such as an electronic organizer or a Web service application etc.

Furthermore clients and are described only for the purposes of a sender or a recipient. Alternative messaging delivery client and mail client are controlled by client . However alternative messaging delivery client and mail client are not limited to be within the same platform. According to one embodiment of the invention alternative messaging delivery client and mail client may be located at different and separate platforms communicating with each other and controlled by client e.g. a sender or a recipient . Similarly alternative messaging delivery client and mail client may be located at different and separate platforms communicating with each other and controlled by client e.g. a sender or a recipient as illustrated in .

For example platform may represent a desktop computer having a network interface to network while platform may be a handheld device such as a cellular phone a Palm pilot a two way pager or an email platform e.g. a BlackBerry platform from Research In Motion of Waterloo ON etc. When a sender represented by platforms and desires to send a mail message to a recipient represented by platforms and mail client communicates with alternative message delivery client to determine whether alternative message delivery client is available and able to handle mail message via communication medium . If alternative message delivery client is available and able to handle mail message mail client transmits the mail message from platform to platform via communication medium . Alternative message delivery client then sends the mail message via the associated messaging system to the corresponding alternative message delivery client of platform which is controlled by the recipient. Thereafter alternative message delivery client of platform forwards the received message to mail client of platform which is also controlled by the recipient using one of the aforementioned techniques.

In one embodiment alternative delivery client includes a user interface an inter process module a transmitting module a receiving module and a communication interface . Transmitting module is responsible for transmitting an outgoing message in accordance with a communication protocol to a destination via communication interface and network . Receiving module is responsible for receiving an incoming message from an originator via communication interface and network . User interface may include a display window to display an incoming message and an editor to allow a user to prepare an outgoing message. Inter process module is responsible for handling traffic between user interface and transmitting module and receiving module . In addition inter process module further handles communication between client and mail client .

User interfaces and may be separate user interfaces for handling different messages respectively. According to one embodiment user interfaces and may be integrated as a unified user interface to handle both mail messages and non mail messages. For example unified user interface may include a window as an inbox to display both incoming mail messages and other non mail messages such as IM messages. Alternatively alternative delivery user interface may be a stand alone user interface while mail client includes unified user interface that includes the alternative delivery user interface . Further detailed information concerning the unified user interface can be found in a co pending U.S. patent application Ser. No. 10 741 660 by Stephen O. Lemay et al. entitled Unified User Interface for Instant Messaging and Email filed Dec. 19 2003 and assigned to a common assignee of the present application. The above identified U.S. patent application is hereby incorporated by reference.

According to one embodiment when mail client is launched inter process module may determine whether an alternative delivery mechanism is available. In one embodiment the alternative delivery mechanisms including the associated recipient s addresses may be listed within an address book of mail client . If an alternative delivery mechanism is available mail client may register with the alternative delivery client to inform alternative delivery client that mail client is up and running. If alternative delivery client is not running or active mail client may optionally launch alternative delivery client and register with alternative delivery client thereafter. Once the mail client and the alternative delivery client have established a connection the alternative delivery client may advertise in its respective community that it can handle messages associated with the mail client .

In one embodiment when a sender prepares an outgoing message using user interface user interface transmits the outgoing message to inter process module . Inter process module determines whether client has an alternative delivery mechanism. In one embodiment an alternative delivery mechanism may be identified through a lookup operation in an address book associated with mail client . If inter process module determines that an alternative delivery mechanism exists inter process module may communicate with the associated alternative delivery client via the previously established inter process connection. Alternatively inter process module may dynamically launch the alternative delivery client and establish such an inter process connection.

If the alternative delivery client is up and running inter process module of mail client may interrogate with alternative delivery client via respective inter process module to determine whether an intended recipient s corresponding alternative delivery mechanism is online and whether the intended recipient s alternative delivery mechanism is capable of receiving a mail message e.g. whether it is able to redirect an incoming message to a mail client of the recipient . If it is determined that the recipient s alternative delivery mechanism is online and capable of handling mail massages inter process module transmits the outgoing mail message to the alternative delivery client . Otherwise inter process module transmits the outgoing mail message to mail processing module and the mail processing module processes the outgoing mail message as an ordinary mail message.

When inter process module of the alternative delivery client receives the outgoing mail message received from mail client according to one embodiment inter process module transmits the message to transmitting module . Transmitting module then delivers the message to the intended recipient via communication interface and network as if the message is an ordinary message associated with the alternative delivery client . In addition inter process module or the transmitting module may repackage the mail message into a message compatible with a communication protocol associated with the alternative delivery mechanism. Furthermore inter process module may further tag the message to indicate that the message is a mail message before transmitting the message to transmitting module . Alternatively the tagging and repackaging may be performed by the mail client .

For the purposes of illustration it is assumed that client is now representing a recipient to receive a mail message transmitted via an alternative delivery mechanism from a sender. According to one embodiment the message is received by receiving module via communication interface . The receiving module transmits the message to inter process module . The inter process module may examine the message to determine whether the message is a mail message by for example examining the identification or signature tagged by the sender. If the message is determined to be a mail message inter process module may transmits the message to inter process module of mail client via a inter process connection. Otherwise inter process module may transmit the message to the corresponding user interface and user interface displays the message as an ordinary message associated with the alternative delivery client .

When inter process module of mail client receives the message from the alternative delivery client inter process module transmits the message to the corresponding user interface where the message is displayed as an ordinary mail message. The above operations may be performed transparently to a user of mail client . In addition inter process module may further perform repackaging the message into a mail message as well as other operations such as for example stripping off the tagged identification before transmitting the message to user interface . The repackaging or the operations may be performed by the alternative delivery client such as inter process module or receiving module .

Furthermore if user interfaces and are implemented as unified user interface the message may be directly delivered to the unified user interface by inter process module where the unified user interface may examine the message e.g. examining the tagged identification and display the message accordingly. Other operations apparent to those with ordinary skill in the art may be performed.

As described above client may represent a sender or a recipient. Alternative delivery client and mail client are not required to be in the same platform. It will be appreciated that alternative delivery client and mail client may be located within different platforms controlled by a sender or a recipient as illustrated in . Other configurations may exist.

Referring to at block when a mail client such as mail client is launched and optionally logs into a mail server e.g. mail server at block the mail client tries to establish a connection with at least one of one or more alternative message delivery systems such as IM system having IM client and IM server . If the respective alternatively message delivery system is not activated block at block mail client may optionally launch an application associated with the alternative messaging system. If the alternative message application cannot be launched block at block the mail client may fall back to the mail server to handle the incoming and outgoing mail messages.

Once the alternative messaging system is activated at block the mail client may register with the alternative messaging system. After the mail client has registered with the alternative message system at block the alternative message client may broadcast or advertise its capability to handle mail messages to a community associated with the alternative messaging system such as IM messaging community. Thereafter at block the mail client may process incoming and outgoing mail messages via the registered alternative messaging system. Other operations apparent to one with ordinary skill in the art may be included.

Referring to when a mail client e.g. mail client receives an outgoing mail message addressed to a mail address of a recipient block at block the mail client determines whether there is an alternative messaging system e.g. IM client available for the mail address of the recipient. In one embodiment the mail client determines the alternative delivery address e.g. IM address of the recipient based on the mail address of the recipient. The mail client may look up in a database such as an address book of the sender e.g. client to search for an alternative address e.g. IM address associated with the mail address of the recipient. If there is no alternative messaging system available block at block the mail client delivers the message to a corresponding mail server e.g. mail server which forwards the message to the recipient via an ordinary mail system.

If there is an alternative messaging system available for the mail address of the recipient at block mail client or the alternative messaging client may determine whether the recipient s alternative messaging system is online e.g. whether the recipient IM client is running . If the recipient s alternative messaging system is not running the mail client may fall back to the mail server to process the mail message block .

If the recipient s alternative messaging system is online e.g. the IM client is running at block the mail client or the alternative messaging client may determine whether the recipient s alternative messaging client can handle mail messages. In one embodiment the determination may be performed based on whether the recipient s mail client has registered with its alternative messaging client and the alternative messaging client has advertised such capability in the associated community. If the recipient s alternative messaging client does not have such capability the mail client may fall back to the mail server to process the mail message block .

If the recipient s alternative messaging system has a capability to handle mail messages at block the message may be tagged with an identification to indicate that the message is an email message rather than an ordinary message associated with the alternative messaging system. In addition according to one embodiment the message may be repackaged as or converted to a message conforming to a protocol of the alternative messaging system before being transmitted over by the alternative messaging system at block .

At block the mail client may examine the return status received from the alternative messaging system to determine whether the delivery is successfully. If the delivery is unsuccessful the mail client may fall back to the mail server to process the mail message again block . Other operations apparent to one with ordinary skill in the art may be included.

Referring to when an incoming message is received at a client via a non mail messaging system of a recipient block such as an IM system at block the non mail messaging client determines whether the message is a mail message. In one embodiment the determination is performed based on whether the incoming message is tagged with an identification indicating the message as a mail message. If the message is not a mail message block the message is delivered and displayed at a display of the non mail messaging client at block e.g. the message is delivered in an instant messaging user interface .

If the message is determined to be a mail message at block the non mail messaging client determines whether the mail client of the recipient is running. If the corresponding mail client is running at block the message is forwarded to the mail client and displayed at the mail client as if it is received through a mail system. In one embodiment the message may be optionally repackaged as a mail message prior to being displayed at the mail client. Such operations are performed transparently to a user of the mail client. Thereafter at block the mail client may return a success status to the sender via the non mail messaging system. As a result the sender may substantially instantly receive a confirmation of arrival of the message at the recipient.

If the corresponding mail client is not running block at block the non mail messaging client may optionally attempt to launch the mail client. If the mail client is successfully launched block the message is then forwarded to the mail client to be displayed as a mail message at block and thereafter return a success status to the sender at block . Otherwise at block a failure status is returned. Other operations apparent to one with ordinary skill in the art may be included.

According to one embodiment exemplary system of is not limited to rerouting an email message via an alternative messaging system. It will be appreciated that the techniques may be applied to other applications capable of receiving data from a remote application. For example a user with a mobile device may use exemplary system to update his or her calendar or to schedule a meeting with someone. A traditional approach may rely on email system to perform such action. In a traditional approach a user typical sends an email to a server e.g. an email server or an electronic organizer to update the calendar. Since the email system typically goes through one or more routing servers and may cause delay the update may cause conflicts with other events which the user has no way to know instantly. However according to one embodiment a user may use exemplary system to send a message or a command to update his or her calendar through a better alternative messaging system such as IM system. The message or command may be sent to the corresponding targeted application quicker and substantial instantly receive a confirmation of an arrival of the message or command. As a result the user may instantly know whether the message has been received by the recipient and whether a conflict exists.

In addition a local community network such as a peer to peer network may be coupled to the non mail messaging client or the mail client such that a message being sent or received may be processed by at least one of the peers in the community .

Furthermore the non mail messaging system is not limited to a traditional IM system available to a wired network. It will be appreciated that other types of network such as a wireless network e.g. a cellular network or a home networking environment such as an IEEE 802.xx network may utilize the techniques described above. For example network may include a cellular network and application may be an application running at a portable PDA personal digital assistant or a cellular phone capable of sending or receiving mail messages. In addition application may also be capable of receiving wireless instant messages such as SMS short message service messages available in a cellular network to substantial instantly transmit a message to a recipient s counterpart which forwards the message to its mail client and displays the message as a mail message in an Inbox of the recipient s mail. Other configurations apparent to one with ordinary skill in the art may exist.

According to one embodiment more than one alternative delivery mechanisms such as for example IM wireless SMS short message services two way paging system or facsimile application etc. may be available for the sender to select. The mail client may select from the multiple alternative delivery mechanisms a most appropriate delivery mechanism to deliver the mail message. In one embodiment the mail client may select the most appropriate delivery mechanism based on an attribute of the mail message the user configuration or the user preferences. For example the mail client may select the IM or cellular SMS services to deliver the message if it is determined that the message needs to be delivered in the fastest manner. Alternatively the mail client may select a facsimile service to deliver the message if it is determined that the message needs to be sent in the most secure manner. The recipient s addresses or the fax numbers of the alternative delivery mechanisms may be stored in an address book of the sender. The mail client may perform a lookup operation in the address book to discover the multiple alternative delivery mechanisms. The mail client may interrogate the respective system to determine whether the recipient s counterpart application is online and has the capability to handle the message that is about to send.

As described above non mail messaging system client mail client and third party applications are not required to be within the same platform. It will be appreciated that non mail messaging system client mail client and third party applications may be located within different platforms controlled by a sender or a recipient as illustrated in . Other configurations may exist.

Note that while illustrates various components of a computer system it is not intended to represent any particular architecture or manner of interconnecting the components as such details are not germane to the present invention. It will also be appreciated that network computers handheld computers cell phones and other data processing systems which have fewer components or perhaps more components may also be used with the present invention. The computer system of may for example be an Apple Macintosh computer or a IBM compatible PC.

As shown in the computer system which is a form of a data processing system includes a bus which is coupled to a microprocessor and a ROM a volatile RAM and a non volatile memory . The microprocessor which may be for example a PowerPC G4 or PowerPC G5 microprocessor from Motorola Inc. or IBM is coupled to cache memory as shown in the example of . The bus interconnects these various components together and also interconnects these components and to a display controller and display device as well as to input output I O devices which may be mice keyboards modems network interfaces printers and other devices which are well known in the art. Typically the input output devices are coupled to the system through input output controllers . The volatile RAM is typically implemented as dynamic RAM DRAM which requires power continuously in order to refresh or maintain the data in the memory. The non volatile memory is typically a magnetic hard drive a magnetic optical drive an optical drive or a DVD RAM or other type of memory system which maintains data even after power is removed from the system. Typically the non volatile memory will also be a random access memory although this is not required. While shows that the non volatile memory is a local device coupled directly to the rest of the components in the data processing system it will be appreciated that the present invention may utilize a non volatile memory which is remote from the system such as a network storage device which is coupled to the data processing system through a network interface such as a modem or Ethernet interface. The bus may include one or more buses connected to each other through various bridges controllers and or adapters as is well known in the art. In one embodiment the I O controller includes a USB Universal Serial Bus adapter for controlling USB peripherals. Alternatively I O controller may include an IEEE 1394 adapter also known as FireWire adapter for controlling FireWire devices.

Thus a method and apparatus for processing electronic messages have been described. In the foregoing specification the invention has been described with reference to specific exemplary embodiments thereof. It will be evident that various modifications may be made thereto without departing from the broader spirit and scope of the invention as set forth in the following claims. The specification and drawings are accordingly to be regarded in an illustrative sense rather than a restrictive sense.


---

title: Internet based highway traffic advisory system
abstract: A real time traffic control system that includes a plurality of roadside sensors and variable message displays arrayed along the highway connected to the Internet, and communicating with a central computer using the Internet. Each roadside device includes a modem and has a unique internet address. The central computer is programmed to create on demand a plurality of individual virtual communication ports, each of the ports corresponding to each of the unique device addresses, whereby said computer communicates in a quasi-simultaneous manner with all of the roadside devices.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07650228&OS=07650228&RS=07650228
owner: ASTI Transportation Systems, Inc.
number: 07650228
owner_city: Wilmington
owner_country: US
publication_date: 20060126
---
This application claims the benefit of priority to U.S. Provisional Application No. 60 647 511 filed on Jan. 27 2005 the contents of which are incorporated herein by reference in their entirety.

This invention relates to a centrally controlled highway traffic advisory system and associated method and more particularly to a system and associated method for simultaneously addressing a plurality of remote sensors and displays from a remote location via the Internet.

Highway construction zones and accidents are often a major source of congestion in highways as they interrupt the normal traffic flow due to temporarily restricting the available highway lanes. Reduction of the number of available traffic lanes and re routing the traffic to improvised new traffic lanes cause conditions that are unexpected by the motorist.

To alleviate such congestion systems have been developed that advise the motorist well ahead of the construction or other incident zones of traffic problems ahead and anticipated congestion and reduced speed requirements. Such systems may be either temporary using free standing signaling devices such as remotely controllable traffic lights or variable message boards VMS in communication with a remote central controller together with movable roadside traffic flow sensors or fixed using permanently installed variable message boards in combination with a remote controller and either permanent or temporary roadside traffic sensors. Roadside traffic flow sensors have been known to include occupancy detectors which detect vehicle flow interruption in a highway lane traditional speed detectors and video cameras.

Typically such systems include a central control usually located in the vicinity of the incident or construction zone but also possibly remote thereof. The central control is almost always a computer adapted to receive status information from different roadside devices and able to remotely control such devices so as to in the case of a VMS for example display messages to the motorists well ahead of the problem zone.

Communications between the central control and the roadside devices may be by hard wire connection telephone link or radio frequency transmitter receiver Transceiver . In such case the roadside device and the central control include modems for communicating with each other.

 Advanced Portable Traffic Management System Work Zone Operational Test by Nookala et al describes a highway safety system that incorporates the use of widespread spectrum radio cellular phone and Integrated Services Digital Network ISDN phone links. The spread spectrum radio is used to link roadside nodes to the central control computer. The signal transfers from node to node the nodes acting both as relay and a means of communication between nodes. Together with the ISDN link and cellular phone the system performs as part of an Ethernet network. Each remote terminal roadside is equipped with an Ethernet EHUB which allows multiple devices to share the Ethernet. The system includes establishment of a web page to provide traffic information accessible by motorists planning a trip through the Internet.

Thus there presently are known a number of sophisticated systems used in traffic control. However what these systems have in common is the sequential polling of the different roadside devices regardless of the communication mode adopted in the system. A much more efficient mode of communication would be the quasi simultaneous polling of all devices particularly if such polling could be implemented in a continuous mode.

There is therefore provided in accordance with the present invention a method for obtaining real time traffic related information on a highway location by 

The connection of the roadside devices to the Internet is preferably done using digital cellular modems and in at least one embodiment of this invention variable message boards along the highway are used to communicate messages to passing motorists. The variable message boards are also connected to the central control computer using an Internet connection.

Still in accordance with the present invention the plurality of roadside devices comprises a plurality of roadside traffic detectors and at least one variable message board each of said roadside traffic sensors having a unique Internet address and each of said at least one variable message board also having a unique Internet address the central control computer communicates with each of said roadside devices using a plurality of software generated unique virtual ports.

There is further contemplated according to this invention a real time traffic control system comprising a plurality of roadside sensors arrayed along the highway each having a unique Internet address and each connected to the Internet. The system further comprises a central control computer also having a unique Internet address and connected to the Internet. The control computer is programmed to create on demand a plurality of individual virtual communication ports each corresponding to one of the unique device addresses whereby the computer communicates in a quasi simultaneous manner with the roadside devices. Digital cellular modems are used to connect the roadside devices to the Internet.

The invention will next be described with reference to the figures wherein same numerals are used to identify same elements in all figures. The figures illustrate the invention and are not intended to act as engineering or construction drawings therefore they are not to scale and do not include all elements that may be included in such drawings as inclusion of such elements would unduly clutter the drawings.

Referring next to there is shown a highway on which there have been deployed a plurality of means to communicate a message to passing motorists. Such means typically comprise roadside display devices such as variable message boards which by way of illustration rather than limitation may be either portable devices of the type disclosed in U.S. Pat. No. 5 231 393 issued to Strickland et al. in 1993 or fixed or combinations of the two. Such roadside display devices typically provide for a plurality of messages to be displayed to passing motorists and the message displayed may be pre programmed actuated upon receipt of a pre arranged code signal or composed and transmitted to the device from a remote location. However the message communication means may also comprise traffic signals including traffic metering devices and conventional traffic lights highway advisory radio or any other means that will notify a motorist of potential traffic issues ahead. We will refer to all such display devices from hereon as VMS.

Also deployed along the highway there is shown a plurality of roadside traffic detection sensors . Roadside sensors by way of illustration rather than limitation may be speed sensors occupancy sensors sensors that determine the type of traffic passing through a designated zone i.e. long trucks or short passenger vehicles video cameras and or combinations thereof. The roadside sensors may operate using infrared radiation radar or any other convenient detection system.

Associated with each of the roadside devices is a modem such as a broadband data modem. Modem may be a Code Division Multiple Access CDMA a Global System for Mobile computing GSM or an equivalent thereof. Each of the modems provides a connection preferably a high speed connection between the roadside device and a global information network e.g. the Internet through a digital cellular data phone line e.g. via the nearest cellular phone tower . As used herein the term Internet refers to all such networks including by way of illustration rather than limitation the Internet Internet2 and other such networks. Each of the roadside devices has an individual Internet address herein address preferably an Internet protocol IP address that identifies the location of the device over the Internet.

A centrally located controller i.e. a computer usually located in a secure and convenient place unrelated to the zone or zones where the roadside devices are deployed is also connected to the Internet. Such connection is most likely but not exclusively a hard wired connection to a high speed Internet access provider. Obviously the controller can be located anywhere where Internet access is possible which in practical terms means almost anywhere in the world.

The central control computer is programmed to poll the roadside devices and obtain therefrom traffic information or send thereto instructions. For example the central control device may poll the traffic sensors and obtain data relating to real time local traffic flow. The central control computer may then send to the VMS s a command to display a message advising motorists of traffic conditions ahead.

The central control computer may be further programmed to provide certain commands and display messages automatically to the VMS s such messages depending on the traffic information obtained from the traffic sensors or the central control may display the information to an operator and the operator may in turn select the appropriate message to be communicated to the motorists on the highway. It is still within the scope of the present invention to provide a remote control computer connected to the central control computer and able to communicate with the central control computer via the Internet thereby to provide access to the central control computer from a remote location.

Alternatively the central control computer does not have to be in a fixed location but can be any properly programmed computer in a location with access to the Internet.

At block the application sets a sensor device flag and indicates the number of sensors Q to be polled by the central control computer. The application then enters a loop blocks for sequentially establishing communication with the individual sensors. A counter increments a sensor value N after each pass through the loop. The loop starts with establishing communication with a first sensor N 1 and ends after establishing communication with a last sensor N Q .

The following is sample coding loop from the application for polling roadside sensors such as for example a queue detector 

At block a virtual port number and an address for the sensor are obtained. The virtual port number and the address for the current sensor may be obtained from the table discussed above with reference to block .

At block a control for the sensor is created at the central control computer. Parameters such as port number address and polling string are passed to the control for defining communications between the central control computer and the sensor. In an exemplary embodiment the control is a Windows Socket Winsock control. The Winsock control may be created through a subroutine that is called with the statement MDIForm 1.udpPeerQ intLoopCounter .SendData strToSend in the above sample coding loop.

At block the central control computer establishes a connection with the sensor and sends polling data to the sensor through the established connection. In an exemplary embodiment the connection is in accordance with a User Datagram Protocol UDP . In accordance with this embodiment the polling data may be sent by a SendData method associated with a SocketWrapper object that pushes a datagram which traverses the Internet as one packet that takes one path to the sensor or as multiple packets that follow multiple paths to the sensor. In alternative exemplary embodiments the connections may be in accordance with TCP IP or other such communication protocol. As a practical matter the central control computer may be connected to the Internet and communications from the central control computer may travel from the central computer over the Internet to a transmitter cellular tower where it is transmitted to a modem associated with the device to which communications are being sent.

At block a data receiving period begins for receiving responses to the polling data from the sensor e.g. through the Winsock control for that sensor.

At block the application checks if the sensor is the last sensor e.g. N Q . If the sensor is the last sensor e.g. N Q processing proceeds at block . Otherwise if the sensor is not the last sensor e.g. N

At block the receiving period for the sensors which began at block ends. In an exemplary embodiment data from a sensor may be received at essentially anytime after poll data is sent to that sensor and ends sometime after the last sensor is polled. Thus there is an overlap period during the receiving period in which data from multiple sensors may be received by the central control device. After the receiving period ends the control created at block may be terminated.

In the exemplary embodiment the virtual ports established within the central control computer enable the central control computer to receive packet of data from multiple sensors in any sensor order and in any packet order. For example data may be received from a first sensor followed by data from a third sensor followed by data from a second sensor. In another example a first packet may be received from a first sensor followed by a first packet from a second sensor followed by a second packet from the first sensor. In another example a second packet from a first sensor may be received before the first packet of the first sensor is received. Thus communications from the sensors may be received in a quasi simultaneous manner.

Timers may be implemented to handle non responsive sensors e.g. for identifying a sensor for maintenance if the sensor has not responded for a particular period of time or number of cycles. In an exemplary embodiment when a sensor responds a time stamp is placed on the data and written to a database. This time stamp is checked every minute with another timer not shown and compared to the current time. If the device has not responded for a predetermined period of time the application generates an alarm. This alarm can be a visual alarm an audible alarm an e mail being sent etc.

Referring back to at block one or more VMS s are identified for updating based on the results received from the sensors in response to the polling data. For example if twenty sensors provide responses to the polling data and based on those responses there are four VMS s to be updated those four VMS s are identified for updating. As one example the information may indicate that traffic is stopped as detected by sensors A and B located at mile 25 of the highway. Once this information is displayed to an operator the operator may set a single VMS located along the highway a number of miles upstream of the stopped traffic to display a message advising the motorists of the situation and possibly suggesting alternate routes. In accordance with this example this VMS would be identified as the sole VMS for update.

The central computer may also be programmed to send certain pre recorded messages to selected VMS s depending on the status indication of roadside sensors such as speed or queue detectors. For example receipt and decoding by the central control computer of a message indicating speed of traffic as less than a preset limit could trigger an automatic response in the form of a command sent to a VMS setting an appropriate preselected speed limit or a caution indication. Such messages may constantly change as the data received by the roadside traffic sensors provide new information regarding traffic flow or may change at predetermined desired intervals.

At block the application sets a VMS device flag and indicates the number of VMS s R that will be sent message data by the central control computer. The application then enters a loop blocks for sequentially establishing communication with the individual VMS s and sending messages thereto. A counter increments a VMS value M after each pass through the loop. The loop starts with establishing communication with a first message board M 1 and ends after establishing communication with a last message board M R . The message data may be sent using a coding loop similar to the sample coding loop described above.

At block a virtual port number and an address for the VMS are obtained. The virtual port number and the address for the VMS may be obtained from the table discussed above with reference to block .

At block a control for the VMS is created at the central control computer. Parameters such as port number address and a message board string are passed to the control for defining communications between the central control computer and the VMS. As described above the control may be a Windows Socket Winsock control.

At block the central control computer establishes a connection with the VMS and sends message data to the message board through the established connection. As described above the connection may be a UDP TCP IP or other such connection. The message data may include a textual message for display on the VMS or an indicator that instructs the VMS to display a prerecorded textual message. In addition such as in the case of a traffic metering device VMS the message data may include timing information for controlling STOP GO lights on the traffic metering device or an indicator that instructs the traffic metering device to control lights based on predefined timing information.

At block the application checks if the VMS is the last VMS e.g. M R . If the VMS is the last VMS e.g. M R processing ends at block or proceeds at block in a continuous loop until the application ends . Otherwise if the VMS is not the last VMS e.g. M

In an exemplary embodiment the VMS s may be polled to verify that the VMS s are displaying the correct information. In accordance with this embodiment the VMS s may be polled using a routine similar to the routine for polling the sensors described above with reference to blocks . All VMS s may be polled to identify the messages currently being displayed for comparison with expected messages stored by the central control computer. Alternatively only those VMS s that were updated most recently may be polled.

When information e.g. a datagram is sent over the Internet from the control computer to the device modems the datagram may be broken into smaller packets and sent to the end device or the whole datagram may go as one piece. If broken up it is reassembled once it gets there. This applies for traffic traveling from the computer to the devices and from the devices to the computer. The operating system software on the computer puts the packets back together if they are broken apart and the connecting device modem puts the packets together once they all reach it. Thus information going to or coming from more than one device arrives at or leaves from the computer in a quasi simultaneous manner when using more than one port.

Because data transmitted through the Internet is split into distinct smaller individual packets arriving at their destination along various separate routes because the system does require confirmation of linking with a device or of successful transmission of the datagram and through the use of the virtual ports the central control computer is able to poll different roadside devices without waiting for the complete transmission reception to and from each of the roadside devices. This process is referred to herein as quasi simultaneous as distinguished from a process where the computer sequentially polls each device that is sends out a message and waits for the completion of the transaction prior to addressing another roadside device.

This applies for traffic traveling from the central control computer to the roadside devices and from the roadside devices to the central control computer. The central control computer operating system puts the packets back together if they are broken apart and the modem attached to the roadside device will put the packets together once they all reach it.

The central control computer and the roadside devices are preferably but not necessarily on what is referred to a permanently on status. This means that the link between the central control and the roadside devices is always on and there is constant communication between the central control computer and all of the devices quasi simultaneously thereby providing real time traffic information. Because the central control computer is always connected to all the devices it is able to receive information continuously from all the devices.

The foregoing system and process have been described with reference to a Microsoft operating system and routines and subroutines available through such system. While at present this is a preferred operating system the present invention is not to be limited to use with this operating system exclusively. Rather this one example of the present invention which is readily implemented at this time. However other operating systems and subroutines may be used to create the multiplicity of virtual ports used in accordance with the present invention to communicate with a plurality of devices in a quasi simultaneous fashion through an Internet connection.


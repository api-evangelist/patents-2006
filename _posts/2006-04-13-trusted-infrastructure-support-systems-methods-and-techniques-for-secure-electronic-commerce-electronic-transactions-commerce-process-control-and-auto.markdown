---

title: Trusted infrastructure support systems, methods and techniques for secure electronic commerce, electronic transactions, commerce process control and automation, distributed computing, and rights management
abstract: An integrated, modular array of administrative and support services are provided for electronic commerce and electronic rights and transaction management. These administrative and support services supply a secure foundation for conducting transaction-related capabilities functioning over electronic networks can also be adapted to the specific needs of electronic commerce value chains. In one embodiment, a Distributed Commerce Utility having a secure, programmable, distributed architecture provides administrative and support services. The Distributed Commerce Utility may comprise a number of Commerce Utility Systems. These Commerce Utility Systems provide a web of infrastructure support available to, and reusable by, the entire electronic community and/or many of its participants. Different support functions can be collected together in hierarchical and/or networked relationships to suit various business models or other objectives. Modular support functions can be combined in different arrays to form different Commerce Utility Systems for different design implementations and purposes.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08185473&OS=08185473&RS=08185473
owner: Intertrust Technologies Corporation
number: 08185473
owner_city: Sunnyvale
owner_country: US
publication_date: 20060413
---
This application is a continuation of application Ser. No. 09 398 665 filed Sep. 17 1999 now U.S. Pat. No. 7 133 846 which is a continuation of application Ser. No. 08 699 712 filed Aug. 12 1996 now abandoned which is a continuation of application Ser. No. 08 388 107 filed Feb. 13 1995 now abandoned entitled SYSTEMS AND METHODS FOR SECURE TRANSACTION MANAGEMENT AND ELECTRONIC RIGHTS PROTECTION hereafter Ginter et al. now abandoned all of which are incorporated by reference.

These inventions generally relate to optimally bringing the efficiencies of modern computing and networking to the administration and support of electronic interactions and consequences and further relate to a secure architecture enabling distributed trusted administration for electronic commerce.

These inventions relate in more detail to a Distributed Commerce Utility a foundation for the administration and support of electronic commerce and other electronic interaction and relationship environments.

Efficient effective societies require capabilities enabling their inhabitants to control the nature and consequences of their participation in interactions. Every community needs certain basic services facilities and installations 

These and other important behind the scenes administrative and support services provide an underlying base or foundation that makes the conveniences and necessities of modern life as we know it possible and efficient and allow the wheels of commerce to spin smoothly.

Suppose you want to buy bread at the local bakery. The baker doesn t have to do everything involved in making the bread because he can rely on support and administration services the community provides. For example 

Support and administrative services are also very important to ensure that people are compensated for their efforts. For example 

Such support and administrative services provide great economies in terms of scale and scope making our economy much more efficient. For example these important support and administrative services allow the baker to concentrate on what he knows how to do best make and bake bread. It is much more efficient for a bakery and its experienced bakers to make many loaves of bread in its large commercial ovens than it is for individual families to each bake individual loaves in their own home ovens or for the growers of grain to also bake the bread and pump the fuel needed for baking and accept barter for example chickens in exchange for the bread. As a result you and the bakery can complete your purchasing transaction with a credit card because both you and the bakery have confidence that such a payment system works well and can be trusted to automatically function as a highly efficient and convenient basis for non cash transactions.

There is now a worldwide electronic community. Electronic community participants need the ability to shape control and in an electronic world automate their interactions. They badly need reliable secure trusted support and administrative services.

More and more of the world s commerce is being carried on electronically. The Internet a massive electronic network of networks that connects millions of computers worldwide is being used increasingly as the vehicle for commerce transactions. Fueled largely by easy to use interfaces e.g. those allowing customers to point and click on items to initiate purchase and then to complete a simple form to convey credit card information the Internet is rapidly becoming a focal point for consumer and business to business purchases. It is also becoming a significant channel for the sale and distribution of all kinds of electronic properties and services including information software games and entertainment.

At the same time large companies use both private and public data networks to connect with their suppliers and customers. Driven by apparently inexorable declines in the cost of both computing power and network capacity electronic commerce will increase in importance as the world becomes more and more computerized. This new electronic community with its widespread electronic commerce is generating great new demands for electronic administrative support and clearing services.

The electronic community badly needs a foundation that will support both commercial and personal electronic interactions and relationships. Electronic commerce on any significant scale will require a dependable efficient scaleable and secure network of third party support and administrative service providers and mechanisms to facilitate important parts of the transaction process. For example 

An important cornerstone of successful electronic transaction management and commerce is therefore the development and operation of a set of administrative and support services that support these objectives and facilitate the emergence of more diverse flexible scaleable and efficient business models for electronic commerce generally.

The above referenced Ginter et al. patent specification describes technology providing unique powerful capabilities instrumental to the development of secure distributed transaction based electronic commerce and rights management. This technology can enable many important new business models and business practices on the part of electronic commerce participants while also supporting existing business models and practices.

The Ginter et al. specification describes comprehensive overall systems and wide arrays of methods techniques structures and arrangements that enable secure efficient distributed electronic commerce and rights management on the Internet and Intranets within companies large and small in the living room and in the home office. Such techniques systems and arrangements bring about an unparalleled degree of security reliability efficiency and flexibility to electronic commerce and electronic rights management.

The Ginter et al. patent specification also describes an Information Utility a network of support and administrative services facilities and installations that grease the wheels of electronic commerce and support electronic transactions in this new electronic community. For example Ginter et al. details a wide array of support and administrative service providers for interfacing with and supporting a secure Virtual Distribution Environment. These support and administrative service providers include 

The present inventions build on the fundamental concepts described in the Ginter et al. patent specification while extending those inventions to provide further increases in efficiency flexibility and capability. They provide an overlay of distributed electronic administrative and support services the Distributed Commerce Utility . They can in their preferred embodiments use and take advantage of the Virtual Distribution Environment and other capabilities described in the Ginter et al patent specification and may be layered on top of and expand on those capabilities.

The present inventions provide an integrated modular array of administrative and support services for electronic commerce and electronic rights and transaction management. These administrative and support services supply a secure foundation for conducting financial management rights management certificate authority rules clearing usage clearing secure directory services and other transaction related capabilities functioning over a vast electronic network such as the Internet and or over organization internal Intranets or even in home networks of electronic appliances.

These administrative and support services can be adapted to the specific needs of electronic commerce value chains. Electronic commerce participants can use these administrative and support services to support their interests and can shape and reuse these services in response to competitive business realities.

The present inventions provide a Distributed Commerce Utility having a secure programmable distributed architecture that provides administrative and support services. The Distributed Commerce Utility can make optimally efficient use of commerce administration resources and can scale in a practical fashion to accommodate the demands of electronic commerce growth.

The Distributed Commerce Utility may comprise a number of Commerce Utility Systems. These Commerce Utility Systems provide a web of infrastructure support available to and reusable by the entire electronic community and or many or all of its participants.

Different support functions can be collected together in hierarchical and or in networked relationships to suit various business models and or other objectives. Modular support functions can be combined in different arrays to form different Commerce Utility Systems for different design implementations and purposes. These Commerce Utility Systems can be distributed across a large number of electronic appliances with varying degrees of distribution.

In sum the Distributed Commerce Utility provides comprehensive integrated administrative and support services for secure electronic commerce and other forms of electronic interaction.

Some of the advantageous features and characteristics of the Distributed Commerce Utility provided by the present inventions include the following 

The support and administrative service functions provided by the Distributed Commerce Utility can be combined in various ways and or distributed through an electronic community system or network. The preferred embodiment uses the protected processing environment based Virtual Distribution Environment described in Ginter et al. to facilitate such combinations and distributedness. Since all such Virtual Distribution Environment protected processing environments are at least to some degree trusted every protected processing environment can be a clearinghouse or a part of a clearinghouse. Commerce models acceptable to the interest and desires of VDE commerce node users can support Distributed Commerce Utility services that are pushed all the way to end user electronic appliances employing for example other VDE protected processing environments secure communication techniques and other VDE capabilities as discussed elsewhere VDE capabilities can be directly integrated with the present inventions . Such appliances along with more centralized value chain nodes can together form combinations that function as virtual clearing protected processing environments. In the end cyberspace will be populated in part by big virtual computers where access to resources is based upon availability and rights.

The Distributed Commerce Utility is a modular programmable and generalizable context that it can support such virtual computers. The Distributed Commerce Utility is a unique architectural foundation for the design of electronic commerce value chain models and virtual computers. The programmable nature of a particular implementation can support differing actual logical and or physical and or degrees of distribution for the same and or similar services For example 

Such distributed support services may complement and or eliminate the need for more centralized support service installations. Different combinations of the same and or differing non distributed and differently distributed services may be provided to support different activities. Moreover the nature and distribution of services for one overall model may differ from one implementation to another. Such differing model implementations can if desired share both the same Commerce Utility Systems and Services and or any particular and or any combination of Distributed Commerce Utility administrative and or support functions.

Further a particular Commerce Utility Systems and Service infrastructure may be used by differing value chains e.g. business model or relationship set in differing manners. For example certain value chains may elect to keep certain support service functions more centralized for efficiency security control or other reasons others may elect more and or differently distributed models.

Provided that for example payment methods and rightsholders and or other value chain participants concur any one or more of the Distributed Commerce Utility secure infrastructure support services may distribute and or delegate a portion or all of their functions and authority to any arbitrary collection or set of end user and or other value chain electronic appliances. Distributing and delegating these services and functions has various advantages including for example enabling flexible and efficient creation of temporary ad hoc webs of secure electronic commerce in which any a number or all appliance s in the collection or set may participate as at least a partial if not full peer of other appliances in the same commerce web fabric.

The present invention provides the following non exhaustive list of additional features relating to distributing administrative and support functions 

This ability to distribute and if desired to subsequently adapt modify any support service functions to any desired degree across a system or network provides great power flexibility and increases in efficiency. For example distributing aspects of support services such as clearing functions will help avoid the bottlenecks that a centralized clearing facility would create if it had insufficient capacity to handle the processing loads. Taking advantage of the distributed processing power of many value chain participant appliances also has great benefits in terms of improved effectiveness and system response time much lower overhead of operation greater fault tolerance versatility in application implementations and in general much greater value chain appeal resulting from the present inventions adaptability to each value chain participant s needs and requirements.

The Distributed Commerce Utility may be organized into a number of different special and or general purpose Commerce Utility Systems. The Commerce Utility Systems can be centralized distributed or partially distributed and partially centralized to provide administrative security and other services that practical commerce management layer requires. Certain Commerce Utility Systems comprise Distributed Commerce Utility implementations of certain well known administrative service functions such as financial clearinghouse and certifying authorities. Other Commerce Utility Systems involve new forms of services and new combinations and designs for well known service activities. A Commerce Utility System is any instanstiation of the Distributed Commerce Utility supporting a specific electronic commerce model and a Commerce Utility System may itself be comprised of constituent Commerce Utility Systems. Commerce Utility Systems may include any or all of the following in any combination of capabilities and distribution designs for example 

These Commerce Utility Systems are far reaching in their utility and applicability. For example they may provide administrative support for any or all of the following 

The Commerce Utility Systems may govern electronic process chains and electronic event consequences related to for example 

Distributed Commerce Utility provides a foundation of administrative and support services for electronic commerce and communications. This foundation is efficient cost effective flexible configurable reusable programmable and generalizable. It supports all kinds of electronic relationships interactions and communications for both personal and business use.

Appliance may be any sort of electrical or electronic device such as for example a computer an entertainment system a television set or a video player just to name a few examples. In the particular example shown in the consumer appliance is a home color television set a video player recorder and a set top box . Appliance may be controlled by hand held remote controller for example. Set top box could receive television programs from television broadcasters and or satellites via a cable television network for example. Player recorder could play various types of program material from tapes optical disks or other media and may also have the capability of recording program materials received through set top box .

Appliance preferably is a secure electronic appliance of the type shown for example in of the Ginter et al. patent specification. It is preferably part of the Virtual Distribution Environment described in the Ginter et al. patent specification. shows that television set top box media player recorder and remote control may each have a protected processing environment PPE . Distributed Commerce Utility may interact with and support the processes going on within each of these protected processing environments .

Protected processing environments may be based on one or more computer chips such as a hardware and or software based secure processing unit as shown in of the Ginter et al. patent specification. The protected processing environment provides a highly secure trusted environment in which electronic processes and transactions can be reliably performed without significant danger of tampering or other compromise. The Ginter et al. patent disclosure describes techniques systems and methods for designing constructing and maintaining the protected processing environment so that rights holders and other value chain participants including consumers can trust its security and integrity. In the preferred embodiment this trustedness is important in the interaction between the Distributed Commerce Utility and electronic appliance .

Commerce Utility Systems can support and administer functions or operations within protected processing environment s . For example 

Still other Commerce Utility Systems not shown in may be used to administer and or support additional functions and operations. The various Commerce Utility Systems can work together dividing up the overall tasks to support the consumers efficiently and effectively.

As described above appliances each provide a protected processing environment that is tamper resistant and provides a secure place in which administrative and support operations can be performed. This allows an electronic appliance within a consumer s home to perform operations that can trusted by other parties such as rights holders electronic commerce participants and the like. Because of the trusted protected characteristics of protected processing environment the parts extensions or even the entirety of a Commerce Utility System may exist within each or any of the protected processing environments and associated electronic appliances within the overall system.

Alternately or in addition some of the functions of the Commerce Utility System may be distributed within network for example in the equipment used to communicate data between appliances .

Taking this concept of distributed clearing services further it would be possible to completely distribute the Distributed Commerce Utility as shown in FIG. C relying mostly or completely on administrative and support service operations and activities within the secure protected processing environments of users electronic appliances . Thus the users own electronic appliances could in a distributed manner perform any or all of financial usage and rights and permissions clearing as well as certification secure directory services and transaction authority services. Such local and or parallel and or distributed processing transaction clearing might more efficiently accommodate the needs of individual consumers. For example this is one way of allowing consumers to contribute controls that prevent certain private data from ever leaving their own electronic appliance while nevertheless providing rightsholders with the summary information they require.

The distributed arrangements shown in and A C are not mutually exclusive ways of providing centralized Commerce Utility System . To the contrary it may be advantageous to provide hybrid arrangements in which some administrative and support service functions such as for example micro payment aggregation usage data privacy functions and some issuing of certificates such as parents issuing certificates for their children are widely distributed while other administrative and support service functions for example issuance of important digital certificates maintaining massive data bases supporting secure directory services etc. are much more centralized. The degree of distributedness of any particular administrative and support service clearinghouse or function may depend on a variety of very important issues including for example efficiency trustedness scalability resource requirements business models and other factors. In addition the degree of distribution may involve multiple levels of hierarchy based for example on sub sets determined by specific business models followed by specific business sub models or for example geographic and or governing body and or region areas.

Since a given electronic appliance can participate in multiple activities it is possible that its different activities may rely on different blends of distributed and centralized Commerce Utility Systems . For example for one activity a protected processing environment may rely on a centralized financial clearinghouse for another activity it may rely on a partially distributed and partially centralized financial clearinghouse and for still another activity it may rely on a wholly distributed financial clearinghouse . Different degrees of distributedness may be used for different activities or business models.

In this example the same Distributed Commerce Utility can support a variety of different kinds of activities of a number of different consumers authors distributors providers merchants and other people and the Distributed Commerce Utility can support a very large variety of different electronic activities. also shows that Commerce Utility Systems may communicate with electronic appliances and with each other by exchanging electronic containers of the type disclosed in Ginter et al. for purposes of security for example secrecy authenticity and integrity and managed through the use of secure rules and controls processed in protected processing environments.

The Commerce Utility Systems web may provide a very complex interconnection with a variety of different types of electronic appliances performing a variety of different electronic functions and transactions. As mentioned above any of electronic appliances may be able to communicate with any of the Commerce Utility Systems or with any other electronic appliance. This allows maximum efficiency and flexibility in terms of allocating different Commerce Utility Systems to different electronic transactions. For example 

Because electronic network may connect electronic appliances to many different Commerce Utility Systems rightsholders in the digital properties the consumers are using may have a number of different Commerce Utility Systems to choose from. Content providers and rights holders may authorize particular or groups of Commerce Utility Systems to handle different aspects of transactions. For example 

In some instances particular consumers may also pay a role in specifying in advance particular clearinghouses or other Commerce Utility Systems they prefer to use. illustrates the provider s and or consumer s choice by a policeman directing metering traffic to selected usage clearinghouses electronic controls as described herein and in Ginter et al. would preferably be the mechanism actually controlling how traffic is directed .

A content provider or rights holder could allow a consumer to select from a group of Commerce Utility Systems and or Commerce Utility Systems providers the content provider rights holder wants to deal with. For example 

This example shows that various Commerce Utility Systems may operate in combination and that different combinations of Commerce Utility Systems might be used to support different electronic transactions.

Administrative and Support Service Functions can be Combined within General Purpose Commerce Utility Systems for Efficiency or Convenience

A consumer operating electronic appliances may access any or all of these different Commerce Utility Systems or combinations. For example set top box might obtain rights and permissions and certificates from Helen s Commerce Utility System but might make use of Bob s Commerce Utility System for financial clearing and usage analysis.

A Commerce Utility System may provide any combination of administrative and support functions or subfunctions as may be desirable to perform the operations required in certain business models provide maximum efficiency and or maximize convenience. For example Anne s Commerce Utility System might provide only a specialized subset of financial clearinghouse function

Consumer and user appliances are shown as standing up rectangular columns in the diagram. Electronic network is shown as a road which connects the various Commerce Utility Systems to one another and to consumer electronic appliances . Electronic digital containers may be carried along this electronic network or information highway between different electronic installations.

The various examples shown in are for purposes of illustration. Other combinations are possible or likely depending on business objectives convenience and other factors.

In one example arrangement the Commerce Utility Systems to which authority has been delegated may perform substantially all of the actual support work but may keep the more over arching Commerce Utility Systems informed through reporting or other means. In another arrangement the over arching Commerce Utility Systems have no involvement whatsoever with day to day activities of the Commerce Utility Systems to whom they have delegated work. In still another example arrangement the more specialized Commerce Utility Systems do some of the work and the more overarching Commerce Utility Systems do other parts of the work. The particular division of work and authority used in a particular scenario may largely depend on factors such as efficiency trustedness resource availability the kinds of transactions being managed and a variety of other factors. Delegation of clearing authority may be partial e.g. delegate usage aggregation but not financial or rights management responsibilities and may be consistent with peer to peer processing e.g. by placing some functions within consumers electronic appliances while keeping some more important functions centralized .

On the next level down Commerce Utility Systems might be type A Commerce Utility System such as and they might be type B Commerce Utility Systems such as they might be type C Commerce Utility Systems such as or they might be hybrids such as Commerce Utility System which is a hybrid having type A and type B functions.

A rights and permissions clearinghouse might break out along content types e.g. movies scientific technical and medical and software . Subtype A might include first run movies oldies and art films subtype B might handle journals and textbooks and type C might be responsible for games office educational content. Peer to peer communications between clearinghouses could involve multimedia presentation permissions e.g. a multimedia presentation might have permissions stored at one clearinghouse that uses a back channel to other clearinghouses to ensure that the latest permissions are distributed .

As described above Commerce Utility Systems are generalized and programmable and can therefore provide a mix of different support and administration functions to meet requirements of a given transaction. Thus many or most Commerce Utility Systems as actually implemented may provide a range of different support and administrative functions that may make it difficult to categorize the implementation as being of one particular kind of Commerce Utility System as opposed to another.

Nevertheless certain types of idealized specialized Commerce Utility Systems are particularly useful for a wide range of models transactions and applications. It is helpful and convenient to describe some of the characteristics of these pure Commerce Utility Systems of different types recognizing that actual implementations may mix functions or function subsets from several of these idealized models. The following are brief vignettes of some of the characteristics of such pure idealized Commerce Utility Systems.

In this example financial clearinghouse may communicate with appliance protected processing environment over electronic network in a secure manner using electronic containers of the type described for example in the Ginter et al. patent specification in connection with . Financial clearinghouse may receive payment information from protected processing environment in these secure containers and interact electronically or otherwise with various banking credit card or other financial institutions to ensure that appropriate payment is made.

Financial clearinghouse may for example interact with a consumer s bank a provider s bank and a consumer s credit card company . For example financial clearinghouse can debit funds from the consumer s bank and credit funds to the rights holder s bank to pay for the consumers watching of a movie television program or other content. Additionally or alternately financial clearinghouse may interact with a consumer s credit card company to request credit checks obtain credit authorizations payments and the like.

Financial clearinghouse may provide payment statement statements to consumers for example by transmitting the statements to appliance in a secure electronic container to preserve the confidentiality of the statement information. In this example consumers can view the statements using their appliance protected processing environment and may also be able to print or save them for record keeping purposes.

In one example the payment mechanism provided by protected processing environment might be an electronic wallet supplying electronic money for use in paying for electronic services or content. This electronic wallet may hold money in digital form. Consumers can spend the digital money on whatever they wish. When the electronic wallet is empty consumers can have the financial clearinghouse replenish the wallet by authorizing the financial clearinghouse to debit the funds from the consumers account in their bank . Financial clearinghouse may process electronic money payments arrange for the electronic wallet to be refilled automatically based on the consumers pre authorization for example when the consumers have spent all of its former contents and provide the consumers with detailed reports and statements about how they have spent their electronic money.

For example usage clearinghouse may send the consumers a detailed report of all the movies television programs and other material the consumers have watched over the last month. The communication between protected processing environment and usage clearinghouse may be in the form of secure containers . As described in the Ginter et al. patent disclosure usage meter can meter use on the basis of a number of different factors and can range from being extremely detailed to being turned off altogether. The consumers if they desire could view the detailed usage report on their television set .

Usage clearinghouse can report to others about the consumers viewing habits consistent with protecting the consumers privacy. These reports can also be sent within secure containers . For example usage clearinghouse might provide a summary report to advertisers that does not reveal the consumers identity but provides the advertisers with valuable information about the consumers viewing habits. On the other hand with the consumers consent usage clearinghouse could provide a more detailed report revealing the consumers identity to advertisers or to other specified people. In return the consumers could be given incentives such as for example discounts cash free movies or other compensation.

Usage clearinghouse can also issue reports to rights holders such as the producer or director of the video program the consumers are watching. These reports allow the rights holders to verify who has watched their program material and other creations. This can be very useful in ensuring payment or in sending the consumers other similar program material they may be interested in.

Usage clearinghouse might also send reports to a ratings company for the purpose of automatically rating the popularity of certain program material. Usage clearinghouse might also send reports to other market researchers for scientific marketing or other research.

In this example rights and permissions clearinghouse may act as a centralized repository or clearinghouse for rights associated with digital content. For example broadcasters authors and other content creators and rights owners can register permissions with the rights and permissions clearinghouse in the form of electronic control sets. These permissions can specify what consumers can and can t do with digital properties under what conditions the permissions can be exercised and the consequences of exercising the permissions. Rights and permissions clearinghouse can respond to requests from electronic appliance protected processing environment by delivering permissions control sets in response.

For example suppose that consumers want to watch a concert or a fight on television set . They can operate their remote control unit to request the right to watch a certain program. Protected processing environment may automatically contact rights and permissions clearinghouse over electronic network and send an electronic request . The rights and permissions clearinghouse can look up the request in its library or repository to see if it has received and is authorized to provide the necessary permission from the program s rights holder . It may then send the requested permission to protected processing environment .

For example permission might allow the consumers to view the concert or fight only once and prohibit its copying with copy protection mechanism . Permission may also or in addition specify the price for watching the program for example 5.95 to be deducted from the consumers electronic wallet . Appliance can ask the consumers if they want to pay 5.95 to watch the program. If they answer yes indicated for example by operating remote control the appliance can automatically debit the consumers electronic wallet and release the program so the consumers can watch it.

Rights and permissions clearinghouse can deliver permissions within a secure container that may optionally also contain the information controlled by the permissions or permission may arrive at a different time and over a different path than the program or other content travels to the appliance . For example the permissions could be sent over network whereas the program it is associated with may arrive directly from satellite or over some other path such as cable television network see .

Rights and permissions clearinghouse may also issue reports to rights holders or other people indicating which permissions have been granted or denied. For example the author of a book or video might consistent with consumer privacy concerns be able to learn the exact number of people who have requested the right to publish excerpts from his or her work. These kinds of reports can supplement reports provided by usage clearinghouse .

Certifying authority issues digital certificates that certify particular facts. Digital certificate is like a driver s license or a high school diploma in some respects since they each provide proof of a certain fact. For example we may show our drivers license to prove that we are old enough to vote buy liquor or watch an R rated movie. This same driver s license attests to the fact that we have a certain name and live at a certain address and that we have certain knowledge of state motor vehicle laws and skills the ability to maneuver a motor vehicle . Digital certificate is similar to that aspect of a driver s license that confirms the identity of and related facts pertaining to the licensee except that it is made out of digital information instead of a laminated card.

In this example certifying authority may receive consumer requests and associated evidence and may issue corresponding digital certificates that certify particular facts. Certifying authority may also receive evidence credentials and possibly also certificate definitions from other people such as government authorities professional organizations and universities . As one example the certifying authority might receive birth certificate or other identity information from a government authority . Based on this identity information the certifying authority may prepare and issue a digital certificate that attests to person s identity and age. The certifying authority might also issue digital certificates attesting to professional status employment country of residence or a variety of other classes and categories based on various evidence and inputs from various people.

Certifying authority may certify organizations and machines as well as people. For example certifying authority could issue a certificate attesting to the fact that Stanford University is an accredited institution of higher learning or that the ACME Transportation Company is a corporation in good standing and is authorized to transport hazardous materials. Certifying authority could also for example issue a certificate to a computer attesting to the fact that the computer has a certain level of security or is authorized to handle messages on behalf of a certain person or organization.

Certifying authority may communicate with protected processing environment and with other parties by exchanging electronic containers . Electronic appliance s protected processing environment may use the digital certificates the certifying authority issues to manage or exercise permissions such as those issued by rights and permissions clearinghouse . For example set top box might automatically prevent any consumer under 17 years of age from watching certain kinds of program material or it might provide a payment discount to students watching educational material all based on certificates issued by certifying authority .

For example suppose consumers want to electronically order a pizza from Joe s Pizza. They decide what kind of pizza they want large cheese pizza with sausage and onions for example . However they don t know Joe s Pizza s electronic address which may be like an electronic phone number . Consumers can use remote control to input information about what they want to have looked up Joe s Pizza Lakeville Conn. . Protected processing environment may generate a request containing the identification information and send this request to secure directory services . It can send the request in a secure container

When secure directory services receives the request it may access a database to locate the requested information. Secure directory services may have earlier obtained Joe s electronic address directly from Joe or otherwise. Secure directory services may send the requested information back to appliance in a response . Response may also be in a secure container . The consumers can use this information to electronically send their order to Joe s Pizza which can display on Joe s order terminal within a few seconds after the consumers send it. Joe may deliver to consumer a piping hot cheese sausage and onion pizza a few minutes later by car not electronically since a physical pizza is much more satisfying than an electronic one .

Secure directory services can help anyone connected to network contact anyone else. As one example secure directory services can tell usage clearinghouse how to find a financial clearinghouse on network . Any electronic appliance connected to network could use secure directory services to help contact any other electronic appliance.

As mentioned above the request to secure directory services and the response it sends back may be encased within secure containers of the type described in the Ginter et al patent specification. The use of secure containers helps prevent eavesdroppers from listening into the exchange between consumers and secure directory services . This protects the consumers privacy. The consumers may not care if someone listens in to their pizza order but may be much more concerned about protecting the fact that they are corresponding electronically with certain other people e.g. doctors banks lawyers or others they have a relationship of confidence and trust with . Secure containers also help ensure that messages sent across network are authentic and have not been altered. Electronic containers allow Joe s Pizza to trust that the just received pizza order actually came from consumers as opposed to someone else and has not been altered and the consumers can be relatively sure that no one will send Joe a fake pizza order in their name. The use of secure containers and protected processing environment in the preferred embodiment also ensures that the consumers cannot subsequently deny that they actually placed the order with Joe s Pizza if they in fact did so.

In more detail transaction authority in this example monitors the status of an electronic transaction and or process and maintains a secure reliable record of what has happened so far and what still needs to happen for the overall transaction and or process to complete. Transaction authority may also if desired perform a more active role by for example generating requests for particular actions to occur. Transaction authority may in some cases be the only participant in a complex transaction or process that knows all of the steps in the process. Transaction authority can also electronically define an overall process based on electronic controls contributed by various participants in the process.

In this example transaction authority may assist the electronic mail order company to coordinate activities and make sure that all steps required to deliver the sweater are performed in an accurate and timely fashion. For example 

Of course this example is for purposes of illustration only. Transaction authority may be used for all kinds of different process control and automation such as for example handling electronic orders and sales electronic data interchange EDI electronic contract negotiation and or execution electronic document delivery inter and intra company transactions and the secure electronic integration of business processes within or among business organizations just to name a few of many useful applications.

VDE administrator see of this application and and associated discussion in the Ginter et al. specification may in the preferred embodiment provide a variety of electronic maintenance and other functions to keep network appliance protected processing environments and Distributed Commerce Utility operating securely smoothly and efficiently. For example VDE administrator may manage cryptographic keys used for electronic security throughout network and may also provide services relating to the maintenance of secure data by appliances the various Commerce Utility Systems and other electronic appliances. As described in detail in the Ginter et al. patent disclosure other important functions performed by VDE administrator include installing and configuring protected processing environments and helping protected processing environments to securely maintain stored permissions and or usage data. The VDE administrator may work with other Commerce Utility Systems .

In addition to supporting consumers Commerce Utility Systems can support other Commerce Utility Systems. This is shown in . For example 

The Commerce Utility Systems described herein provide valuable important services and functions. The operators of such services can and should be compensated for the services they provide. Financial Clearinghouse Commerce Utility Systems can ensure that they and other support service providers receive this compensation without inconvenience to other electronic community and value chain participants.

In assisting or compensating value chain participants a Commerce Utility System may based on pre approved contractual arrangements take its own portion or percentage to compensate it for the clearing services it provides. Support services can be compensated based on a small portion of payment i.e. a micro payment attributable to each electronic transaction a piece of the tick . Providers may pass some or all of these fees along to their own value chain participants in various ways.

Several different classes of value chain participants may be called upon to compensate the Commerce Utility Systems including 

Different Commerce Utility System may cooperate to establish a common fee that they then divide among themselves. In another scenario each Commerce Utility System may independently charge for the value of its own services. There may be competition among different Commerce Utility System based on quality of service and price just as credit card companies now compete for providers and consumers business.

The Ginter et al. patent disclosure describes at pages 180 and following and shows in FIG. 10 12 for example a Rights Operating System providing a compact secure event driven compartmentalized services based component oriented distributed multi processing operating system environment that integrates VDE security control information components and protocols with traditional operating system concepts. The preferred example Commerce Utility System architecture provided in accordance with these inventions builds upon and extends the Rights Operating System described in Ginter et al.

For example the preferred example Commerce Utility System architecture provides a collection of service functions that the Rights Operating System may execute as applications. These service functions define a variety of useful tasks that any and or all Commerce Utility Systems may need to perform. These service functions are distributable scaleable and reusable. They can be combined in various combinations and sub combinations depending upon business models for example to provide the overall functionality desired for any particular Commerce Utility System implementation.

Referring first to in this example the application software architecture for a Commerce Utility System contains a commerce utility system descriptor A. Commerce utility system descriptor A contains information about the Commerce Utility System that may be used to identify such system and its capabilities as well as to describe aggregate and or interface with any number of service functions B B . . . . Commerce utility system descriptor A and service functions B may for example be implemented using object oriented programming techniques to help ensure that such descriptor and service functions are modular and reusable as well as abstracting the specifics of how actions requested of Commerce Utility System are actually carried out and or implemented.

Commerce utility system descriptor A may also be responsible for coordinating the action of service functions B. In this example descriptor A is used to direct requests and other system actions to the appropriate service functions B and to ensure that actions requiring more than one service function are coordinated by reconciling differences in interfaces data types and the like that may exist between the service functions B as well as helping to direct overall process flow amongst the various service functions B. A non exhaustive list of examples of such service functions B include the following 

The object oriented design of the Commerce Utility System architecture shown in has several desirable attributes. For example a Commerce Utility System may easily add remove and or replace service functions B to alter extend and or enhance its capabilities. Similarly the architecture allows the addition removal and or replacement of service application components D to permit similar flexibility in the case of service functions. Furthermore object oriented design significantly improves the ease and efficiency of reuse of service functions and or service application components in different Commerce Utility Systems or different service functions B as shown in respectively.

The application layer which is comprised of service function layer and service application component layer comprising components D may be if desired supported by a commerce utility support services layer . Commerce utility support services layer may provide increased efficiency for large numbers of transactions. Such commerce utility support services may include for example 

In this example service functions B are component based and may make use of the reusable and component based service application components D. The service application components D typically perform steps of or subfunctions of service functions B. Each service application component D can have either or both of two parts 

In this example architecture there may be a correspondence between components Dand components D. For example at least one component Dmay correspond with at least one secure component D. There may be a one to one correspondence between components Dand components D as indicated in by common geometric shapes . In the preferred embodiment this separation of function permits when required and or desired the interaction between secure processes operating in PPE and service application components D. By using this architecture it is easier and more efficient to create service functions that implement capabilities requiring both application level support as well as secure processing.

For example some administrative and or support functions for performance by commerce utility systems may involve use of both application level database functions as well as information protected by a protected processing environment PPE in the preferred embodiment. A specific example of this might be the records of payment by a user of a financial clearinghouse . If the operator of such a financial clearinghouse chose to keep payment history information in an application level database but needed information protected by PPE in order to accurately determine the current account status of a customer implementing a service application component Dthat coordinated the information in the application level database with information protected by PPE and processed by service application component Dinto a single object may significantly simplify the task of using this information in the context of a given service function B e.g. a decision to extend additional credit . Furthermore this example service application component may be reusable in other service functions B.

In another example service application component Dmight serve principally as an application level interface object to a corresponding PPE object D. For example if a notary service function B requires the application of a digital signature a service application component Dmight principally provide an interface that transports information to and receives information from a corresponding service application component Dthat performs essentially all of the actual work of creating and applying a digital signature. In addition the application level service component Dmight provide additional exception handling protocol conversion or other functions designed to help integrate capabilities more easily or in a different manner than originally designed for a service function B.

Although certain business needs and models may tend to inspire the use of certain combinations and collections of important service functions in almost any implementation the Commerce Utility System architecture is inherently flexible allowing the implementer to freely mix and combine a variety of different service functions depending upon their needs. For example it is useful to provide a Commerce Utility System that functions as a financial clearinghouse providing payment processing communications database management and other related service functions. The Commerce Utility System architecture can provide such a financial clearinghouse and is also inherently much more generalized and generalizable. For example a particular Commerce Utility System implementation of a financial clearinghouse could also combine non financial service functions with financial service functions. The particular functions or sets of functions that are realized in any given Commerce Utility System implementation depend upon the individual needs of the implementer as dictated for example by business model s or functions.

The secure application components described above may in the preferred embodiment include or comprise reciprocal control structures and associated rules and methods shown in and of the Ginter et al. patent application. These reciprocal control structures can be used to interlink different or the same control sets operating on the same or different Commerce Utility Systems or other electronic appliances . Hence each actor can have one or more reciprocal relationships with every other actor with Commerce Utility System involved in some role in some of the various actions.

The various Commerce Utility System interaction models shown in through E are not exhaustive or mutually exclusive any given transaction or process may include some or all of these in different combinations based upon business models or other requirements.

As mentioned above the present inventions provide techniques for distributing the operation of a particular service function or service application component throughout a system or network including for example to electronic appliances of individual consumers . shows an example of a control set that can be used to control a remotely located protected processing environment for example a consumer s electronic appliance to perform a local portion of a clearing operation. A Commerce Utility System could deliver this control set to a consumer s electronic appliance to another Commerce Utility System or to some other electronic appliance e.g. one that is part of a communicating infrastructure . The Commerce Utility System can for example delegate part of its clearing authority implemented for example as one or more service functions each including one or more service application components to a process that can be performed within the protected processing environment of a user s electronic appliance.

The example is a method e.g. meter billing or budget whose AUDIT event is processed by an audit method . The example meter method for example might have 

The AUDIT event in this example may be linked to an audit method . In order to access the data in this example the Commerce Utility System might need permission in the form of access tags and or an appropriate PERC control set defining more detailed usage permissions and semantic knowledge of the record format written out by the meter method s USE event . The semantic knowledge could come from an out of band agreement e.g. a standard or through access to the MDE or relevant MDE portion of the meter method that describes the use record format.

The events of audit method would include a USE event that performs the functions expected by the calling method s event in this case gathering use records and a copy of the current UDE and sending them off. In this example let s assume there is an INITIALIZE event in this method as well. When called the INITIALIZE event would be sent internally and its associated load module s would call back to the READ MDE event of the meter method to learn the semantics of the use records. Then the USE event would be called and the load module s associated with processing this event would call the appropriate events of the meter method e.g. READ USE RECORD repeatedly and READ UDE once . At this point the expectations of the calling method have been fulfilled except for administrative object packaging and transmission.

In order to implement more distributed clearing functions the USE event may do more processing. For example while reading in the USE records from the meter the audit method may implement analysis functions e.g. categorizing the types of objects used and reducing the information reported up the clearing chain to a simple count of how many times various types of content were accessed . Records from content types that are not interesting may be discarded. The detailed records themselves may be discarded after analysis. In another example the UDE values e.g. how many clicks are recorded may be compared to the number of use records retrieved and if there is a discrepancy they can be reported and or acted upon locally e.g. disabling use of the objects from a given provider until further interaction . In still another example records may have user identity information removed to ensure privacy. In a further example some use records may be processed and analyzed locally and then discarded while other detail records are saved for later processing.

Once the distributed clearing functions have been performed the information can be packaged up in one or more administrative objects for transmission up the clearing chain to a centralized location. This may involve a direct report to the provider s and or a report to another clearing function for example. The processed records may be released for deletion summary filing etc. by the meter method by the audit method when received processed transmitted or on receipt of a confirmation by the recipients.

In another example using the meter method shown in the AUDIT event could be performed internally by the meter method . In this example the use records and UDE would be bundled up in one or more administrative objects for transmission to the auditor s by the load module s associated with the AUDIT event of the meter method . However rather than transmitting these objects they could be processed locally. To do this the name services record used by ROS see Ginter et al. to find the named auditor s could be redirected back to the local PPE . In the PPE a process controlled by the Commerce Utility System can be created based on methods and or load modules delivered on their behalf to perform the local clearing functions described above except using the content of the administrative object s rather than calls to the meter method events. This is more analogous to the function that would be performed at a remote clearing facility in the sense that the operations are performed on administrative objects and their contents but the processing can instead be done on the local consumer electronic appliance on a networked appliance.

Distributing support services in this manner provides additional capabilities that may not be present or available in a centralized architecture. For example a rights and permissions clearinghouse could delegate a local server within an organization to keep track of requests and to cache copies of permissions previously requested by the organization. Such a local rights and permissions clearinghouse could reduce network traffic and provide a convenient local repository for organization specific permissions e.g. site licenses for computer software . The local rights and permissions server could be authorized by rights holders or a rights and permissioning agency or other rights distribution organization to grant licenses on a request basis.

As another example many secure largely automated administrative and support services may be distributed in whole and or in part to an at least occasionally connected appliance regardless of whether that appliance is a computer set top box personal digital assistant PDA digital telephone intelligent digital television or any other digital appliance. Such appliances can use a protected processing environment to ensure that the support service is performed securely and reliably free from tampering and other interference e.g. as described in the Ginter et al. patent specification .

In another example one possible VDE content distribution scenario involves content providers performing the initial packaging role distributors performing the distribution function users keeping track of usage records and clearinghouses processing usage and financial information. This is in contrast to a centralized processing model in which all of these functions are performed by a single centralized party.

As still another example efficiency increases can be realized by distributing clearinghouse functions across individual user machines local area network LAN servers and or corporate gateway machines that bridge the corporate LAN WAN environment with the outside world and commercial backbone servers.

As another example a company s computer might be authorized by a central certificate authority to grant certain kinds of digital certificates. For example the company might be a member of a certain trade organization. The trade organization s certifying authority might give the company a digital certificate attesting to that fact and delegate to the company s own computer the certifying authority to issue certificates attesting to the fact that each of the company s employees is a member of the trade organization. Similarly parents may be authorized to issue digital certificates on behalf of their offspring.

The techniques described above illustrate how the Distributed Commerce Utility through use of the Commerce Utility System architecture can be distributed across multiple Commerce Utility Systems. Furthermore the service functions provided by one or more Commerce Utility Systems may be decomposed into complete or even partial process steps e.g. service application components that are performed in whole or in part on other Commerce Utility Systems or any other system including end user systems selected by the participants in a given scenario.

The core functions of financial clearinghouse relate to payment processing payment aggregation payment disaggregation and micro payment management since these functions collect money from customers and other value chain participants and pay money to value chain service or product providers such as merchants.

Financial clearinghouse may receive payment information customer information provider information and aggregated reports and bills from the outside world. It may generate debit orders credit orders statements and reports release signals and credit checks and authorizations .

Database management and event driven reporting may be used to securely provide accurate financial reports to value chain participants. Reconciliation function which is related to both reporting and financial management allows financial clearinghouse to provide more reliable financial management. Replication function and propagation function are used by financial clearinghouse to facilitate distributed processing with other financial clearinghouses and or other secure or insecure protected processing environments permitting the financial clearinghouse to securely share state and update information with other Commerce Utility Systems or other participants.

In the example shown the payment information which may arrive in one or more secure containers is the primary input to payment processing block . If desired payment information can also include some or all of the usage information sent to a usage clearinghouse or it may include different types of usage information more relevant to financial auditing and transaction tracking. This payment information can arrive in real time or on a delayed e.g. periodic or other event driven basis.

Financial clearinghouse uses provider information and customer information to effect funds transfers between customers and providers. Financial clearinghouse uses aggregated reports and bills to guide the overall payment processing as well as payment aggregation and payment disaggregation . For example financial clearinghouse may issue debit and credit orders to third party financial parties such as banks credit card companies etc. to effect debiting of consumer accounts and corresponding crediting of provider accounts. Financial clearinghouse may issue statements and reports for secure auditing and or informational purposes. Financial clearinghouse may issue credit authorizations after performing credit checks thereby extending credit to appropriate value chain participants. Such authentication may include an input output function unless they are performed entirely locally i.e. an authorization request comes in and clearinghouse is the source of credit and or credit limit information .

Financial clearinghouse may issue release signals in appropriate circumstances to allow electronic appliances to stop maintaining and or keep pending financial information after it has been transferred analyzed and or processed by financial clearinghouse . In one example the user appliance may within business model limitations store the financial information even after it is released reduce it to a summary etc. Of course it may have already done this with a copy of the data e.g. if previously allowed to access it . For example suppose the local copy of financial usage information contains confidential business model information. A property might cost 1.00 to view and that dollar may be split among several parties. Normally the user is only aware of the overall bottom line not the details of the split even though a record may exist locally for each of the participants in the transaction.

A connection for a real time transaction doesn t always require secure containers but using containers even in this scenario has advantages. For example containers permit attachment of rules and controls to the contents allowing users to specify how the contents may be used. In addition use of containers leverages existing capabilities in the protected processing environment. Using a technique such as electronic mail to deliver containers e.g. as attachments to SMTP mail messages or as attachments to any other e mail protocol that supports attachments permits asynchronous processing of contents thereby allowing Commerce Utility Systems to smooth out their peak processing loads. A cost of operating a commercial clearinghouse is the depreciation expense of the equipment. The amount of equipment is principally driven by the peak load requirement. One can expect a significant variance in load for example compare Friday night at 8 pm versus Tuesday morning at 3 am . Smoothing out this function can lead to quite considerable savings in equipment and related costs electricity personnel maintenance etc. 

Transaction processor may process and analyze received information and database manager may store received information in a database for later analysis and or for historical analysis to increase credit limits analyze payment histories etc. In addition database manager may also store information associated with existing credit limits addresses for communications physical and or electronic and other account information. For example the Ginter et al. patent specification discusses budget encumbrances. The database manager may be used to store information used to track encumbrances as well. There may also be sets of security information used to communicate with protected processing environments and or users employing the protected processing environments and the settlement services. Records associated with communications with the settlement services may also be stored there as well. The database may also be outfitted with various reporting facilities related to its contents.

Transaction processor and database manager together perform most of the functions shown in . Switch is used to route information to and from interface blocks . Interface blocks are used to communicate with third party settlement services such as credit card companies Automatic Clearing House ACH systems for bank settlements debit card accounts etc. Optionally the internal settlement services provided by a Federal Reserve Bank may be used in lieu of or in addition to the third party settlement services shown to provide settlement of accounts in accordance with prevailing banking arrangements and legal requirements. The payment mechanisms used by financial clearinghouse may be symmetrical e.g. tell VISA to charge consumer A s charge account and credit vendor Y s account or asymmetrical e.g. tell VISA to debit consumer A s charge account and provide the money to the financial clearinghouse which will credit vendor Y s account using some other payment mechanism as allowed by applicable financial and banking regulations.

Financial clearinghouse analyzes the audit trail and generates one or more summary reports . Financial clearinghouse may provide the summary report to provider by transmitting it electronically within a secure container . Financial clearinghouse may also coordinate with a financial intermediary and one or more financial processors to effect a debiting of a bank or other account owned by consumer and corresponding crediting of a bank or other account owned by provider .

For example the financial clearinghouse may receive the audit information disaggregate the transactions into value chain amounts for creators distributors and others as well as for tax authorities and other governmental entities and then calculate an amount due it from each of the transaction beneficiaries. Then if desired or necessary due to the size of the transactions per transaction fees or other efficiency and or cost considerations the transactions may be rolled up into lump sums for each of the parties and submitted to a financial intermediary along with appropriate account information that is responsible for performing credit card transactions. The financial intermediary who may also charge a fee or take a percentage may then cause transactions to occur at the financial processor such that the beneficiaries each receive the appropriate amounts. Alternatively if the financial clearinghouse has the ability and authorizations necessary to submit credit card transactions directly to credit card companies it may cause the transactions to occur directly with the financial processor e.g. Visa .

Financial processor may send a statement to provider and or to consumer detailing the financial debits and payments that have occurred. It may provide statement within a secure container not shown if desired. Financial clearinghouse may receive a portion or percentage of the debited funds to compensate it for the financial clearing services it has provided.

The consumer s electronic appliance upon receiving the electronic funds may deposit them within an electronic cash purse it maintains within its protected processing environment e.g. as an MDE described in Ginter et al. see . The customer s electronic appliance may use this locally stored electronic money to pay for goods and services consumed by the consumer. For example a publisher may provide a work such as a book film television program or the like to the consumer s electronic appliance by transmitting it within one or more secure containers . The consumer may operate his or her electronic appliance to open the container and access the work allowing the consumer to use the work in the manner specified by its associated electronic controls see .

Assuming that the rights owner requires payment in return for usage of the work the consumer s electronic appliance may automatically debit electronic purse by the amount of payment required in this case 5 . Additionally electronic appliance may automatically generate a usage record recording this usage event. Based on time and or other event occurrence the consumer s electronic appliance may automatically send an audit trail which may comprise a package of audit records transmitted at audit time or set of related records stored in the secure database or a summary of it to protect the consumer s privacy to financial clearinghouse in the form of one or electronic containers see .

Upon receiving the usage record and successfully storing it within its own database financial clearinghouse may send a release signal within an electronic container see . This release signal may allow the consumer s electronic appliance to delete the usage record it had previously maintained see .

The consumer may use the same or different work again to prompt generation of an additional usage record and to decrement the electronic purse by another usage charge in this case exhausting the purse s contents see . Exhaustion of electronic purse may prompt the consumer s electronic appliance to again contact financial clearinghouse to request additional funds see request and to also provide usage record both pieces of information are transmitted within the same electronic container in this example see .

Financial clearinghouse may respond by transmitting additional electronic funds after debiting the consumer s bank or other account and may also provide another release signal allowing the consumer s electronic appliance to delete usage record see . The money collected may be paid to the rights holders after any appropriate reductions to compensate Commerce Utility Systems .

The publisher publishes the work for example within an electronic book and delivers it to a consumer . In this example the consumer pays 20 for his copy of the book . The consumer s payment is disaggregated or split up between the author and the publisher based for example upon a contractual agreement. In this example the publisher receives four of the consumer s 20 and the author receives the rest.

Disaggregation allows financial clearinghouse to automatically split up a consumers payment among any number of different value chain participants. This is extremely useful in ensuring that all contributors to a product or service can reliably and efficiently receive compensation for their respective contributions.

Financial clearinghouse may distribute appropriate shares of the customer s payment to author and publisher in accordance with the agreement between the author and the publisher. What tells financial clearinghouse who should receive the disaggregated parts of the payment In this example the work may pass from the author to the publisher and from the publisher to customer in electronic form within one or more secure electronic containers . One or more electronic control sets may be included within the same or different containers these control sets being associated with the work or other property. Control sets may specify among other things the amount of payment customer must supply in order to be able to use the work .

Controls may also specify and control how the customer s payment will be disaggregated among the other value chain participants. For example author may specify within controls the author provides that she is to receive 16 for each copy of work purchased by an ultimate consumer . Because of the secure chain of handling and control provided in accordance with the virtual distribution environment see the Ginter et al. patent disclosure author can be confident to the degree required by the commercial priorities of the author and allowed by the strength of the overall system that publisher customer and any other consumers or potential users of property will be subject to this control . The publisher may add its own controls to the one specified by author the publisher controls providing a 4 mark up for example that it will receive for the use of its brand name distributing and marketing services.

In this particular example a metering method is designed to pass an event to billing method whenever the consumer first uses a particular piece of content meter event could also or alternatively pass the event along each time the consumer uses the content to provide a pay per view functionality if desired .

The billing methods include two different billing methods and in this example. Methods can be independently deliverable for example the author could deliver billing sub method and the publisher could deliver billing sub method . Billing method writes information to a billing trail data structure specifying how much the author is to be paid 16 in this example . Billing method writes information to the same or different billing trail data structure specifying how much the publisher is to be paid 4 . Billing methods may each receive the open event passed along by meter method and may each write billing records to the same or different billing trail data structure.

In this example a budget method may be delivered independently of the billing methods . Budget method may write records to a budget trail data structure specifying among other things the payment disaggregation arrangement i.e. the 16 4 split between author and publisher specified by the billing methods . The budget trail data structure which is maintained independently from the data structures maintained by billing methods and therefore cannot be compromised by the author and or the publisher might be sent to a financial clearinghouse . The financial clearinghouse would perform payment and debit financial clearing as described above to result in the consumer s account being debited by 20 the author s account being credited by 16 and the publisher s account being credited by 4 thus disaggregating the user s 20 payment between the author and the publisher . Meanwhile the billing trail data structure could be sent to a usage clearinghouse specified by the author and or the publisher . Usage clearinghouse could analyze the billing trail data structure and let author and or publisher know what payments they might expect to receive from the financial clearinghouse .

Thus in this example electronic control sets may specify or define among other things i rights available in a particular digital object ii the cost of exercising such rights and iii how payments for exercising rights will be divided disaggregated among rightsholders. This ability to define payment disaggregation in advance before customers payment methods and arrangements are activated provides a high degree of efficiency and flexibility since it can use the consumers payment method for example to automatically direct parts of the consumers payment to appropriate people who need to be compensated. Since the same electronic appliance that is being used to exercise the rights is also being used to help direct payments to various different value chain participants a portion of the overall financial clearing process is effectively distributed throughout a large number of parallel computing resources. Because of the high degree of trustedness that can be provided by the system disclosed in the Ginter et al. patent specification for example rightsholders can release such control sets into the stream of commerce with an appropriate that their payment arrangements will be carried out. Financial clearinghouse can help to ensure that such disaggregated payments efficiently and rapidly reach their required destinations.

A protected processing environment at the site of customer securely enforces the augmented controls requiring total payment and or payment authorization from the customer before allowing the customer to access work . Controls may also specify which financial clearinghouse is to be used to handle payment processing and what payment methods are acceptable while still giving customer flexibility in terms of choosing a desired payment method. The customer s protected processing environment may then automatically send appropriate payment or payment authorization to financial clearinghouse for disaggregation in accordance with controls which may be the same controls or a subset of those controls relating to payment disaggregation specified by the author and or the publisher.

Because the customer s protected processing environment generates controls subject to the controls specified by the publisher and author see these payment controls can be trusted to carry out the payment wishes of the author and the publisher and to reflect the payment dividing agreement between the two of them. The customer s protected processing environment may send the customer s payment or payment authorization and these payment controls to financial clearinghouse within one or more secure electronic containers

Financial clearinghouse processes the payment or payment authorization in accordance with controls distributing payment to the publisher and payment to the author in accordance with the payment dividing agreement reached between the author and the publisher. Thus for example financial clearinghouse might send 4 of electronic money to the publisher and 16 of electronic money to the author or it might credit the bank or other accounts of the author and publisher in these amounts. Because this entire process takes place in a secure trusted virtual distribution environment each of the value chain participants can trust that they will in fact receive the payment they require and the process can be carried on automatically and electronically in a very efficient way that flexibly accommodates a wide variety of different business models and ad hoc relationships.

For example repackager might publish a newsletter on contemporary politics and select an essay written by author for publication along with two other works written by authors for publication in the next newsletter issue. Authors and may grant repackager the right to reformat and redistribute the work. Taking advantage of this reformatting right repackager may create the latest issue of the newsletter and distribute it in a secure electronic container for reading by customer . In this example the secure electronic container may contain at least four separately delivered sets of business requirements one for each of the three works as specified by each of author author and author and one for the overall newsletter as specified by repackager . Alternatively the various works and or the controls applying to them can be sent and delivered in independent secure containers and or some or all of the works and or controls may be located remotely.

To read the newsletter customer opens electronic container . Suppose that the newsletter cost as set by repackager is 10 per issue. The customer s 10 payment or payment authorization is sent to financial clearinghouse which resolves it to give each value chain participant compensation for example author may get 1 publisher may get 1 aggregator may get 0.50 each additional author may each get 1 and the repackager may get the rest all as directed by the applicable electronic controls. Thus the repackager can be compensated for selecting appropriate articles on the topic and combining them in a single easy to read publication and may also bring its own brand name recognition as an indicator of overall quality and may itself add unique content of its own creation.

Looking at assume that customer received a work from aggregator that she likes so much that she wants to pass it along to several friends and colleagues. Assuming that aggregator has granted customer the right to redistribute the work the customer may simply and easily be able to send a copy of the work to each of any number of additional potential customers . . . N . These additional people may know customer and believe that she would not be sending them something that was not potentially interesting and of high quality. In addition the downstream customers may be able to read an abstract or see extracts of the work e.g. view a trailer of a film read the first chapter of a novel or the like without triggering payment.

After reading the abstract or watching the first five minutes of the film without cost suppose six of the downstream customers agree to pay for the content at an example cost of 3.25 each. Financial clearinghouse may ensure that the author publisher and aggregator each receive an appropriate share of the income e.g. 7 to the author 7 to the publisher and 8.75 to the aggregator .

Superdistribution makes possible any number of levels of redistribution. For example suppose that of the six downstream customers three of them decide to pass the work along to each of six additional potential customers so that eighteen additional people receive a copy. Since the redistributed works have associated control structures mandating the same payment arrangement author publisher and aggregator each receive additional payments from each of these new customers. The snowballing effect of redistribution can continue in this manner across any number of consumers for a long time and can dramatically increase revenue with minimal additional cost to the value chain members.

Micro fees and micropayments may become an important basis for content usage transactions. For example a consumer might pay each time she views a particular work or uses a certain piece of computer software or listens to a certain piece of music. Different payment arrangements can be flexibly provided so that the consumer might have the option of paying a larger initial fee for unlimited usage or smaller micropayments on a per use basis. In addition micropayments may be the least burdensome and most practical way for Commerce Utility Systems to be compensated for their services. The ability to efficiently handle micropayments is thus very important in terms of supporting and enabling small charges.

Traditional financial payment mechanisms such as credit cards checks and the like are unsuited to manage micropayments. These systems typically have levels of transaction overhead that impose severe burdens on business models based on many purchases below 5 each. For example if it costs 0.50 to handle a payment transaction it becomes uneconomical to handle payments for less than some value perhaps 2 each because the cost of handling the payment is such a large portion of the transaction value or even exceeds the payment itself. Hence traditional financial payment mechanisms favor larger purchases and disfavor micro purchases.

In one variation on this concept payment aggregation may preserve the amounts of each individual transaction to allow high degree of reporting granularity but may be used to trigger when reporting occurs e.g. after X dollars have been charged or Y number of transactions have occurred so that many individual transactions can be bundled and transmitted processed together. This type of aggregation is useful for reducing the number and frequency of individual messages traveling over electronic network . In such instances the reporting electronic appliance may report i the sum of the aggregated individual transactions or ii each of the individual transactions or iii both or iv a combination of the two.

Payment aggregators which may if desired operate at the consumer s site within the protected processing environment provided by the consumer s electronic appliance may aggregate payments to common entities keeping a running total of the amount of money owed to publisher A the amount of money owed to author A and the amount of money owed to the Distributed Commerce Utility . This running total can be incremented each time the consumer triggers an additional payment event. The aggregated payment amounts can be periodically or otherwise reported to financial clearinghouse or other Commerce Utility Systems based on certain time intervals for example weekly monthly or daily the occurrence of certain events for example the consumer has exceeded her credit authorization and needs a new one certain electronic controls have expired etc. and or a hybrid of any or all of these techniques.

In more detail usage clearing services in accordance with the present inventions may provide for example any combination of the following detailed features and or functions 

Providing audit opportunities in conjunction with rules and controls rights and permissions clearing for example to provide a report about which rules and controls permissions and rights were exercised for example by whom for what and when thereby tying actual user activity back to specific permissioning and rights and or rules and controls templates .

Communication between usage clearinghouse and other electronic appliances may be by way of secure electronic containers if desired. As explained in more detail in connection with financial clearinghouse usage clearinghouse may receive the containers in real time and or on an asynchronous receipt basis. In the usage clearinghouse the real time requirement may involve advertising or ratings information that loses some or all of its value as a function of time e.g. if certain ratings information isn t delivered by a particular time it may no longer be relevant in a given market analysis or if advertisers don t receive usage information promptly they may not be able to respond to customer tastes as effectively . Another case may involve a required delivery of usage information e.g. a user on vacation returns to find their required audit date and grace period has expired and their use of certain properties is prohibited until the audit is performed . The asynchronous delivery case would still be preferable in some instances for the same reasons as above in connection with financial clearinghouse .

Data collection function is used to gather usage records in addition to other types of information such as rules and controls which may provide information concerning prices and permissions for example financial statements detailed financial reports and requests for usage information and or analysis . Data collection function may closely interact with database management function resulting in various types of information being stored and maintained in a usage or other database. Replication and propagation functions may be used to synchronize the contents of database with other databases for example maintained by other usage clearinghouses and or to provide a distributed database across a number of secure network protected processing environments or electronic appliances.

Data aggregation and analysis may be used to analyze the contents of data collected by data collection function and or stored within database enabling usage clearinghouse to perform auditing and or reporting . Privacy control may be used in conjunction with reporting function to expose only certain information and not others to third parties thereby protecting the privacy and confidentiality concerns of consumers for whom usage information has been collected. Such pending control can be expressed in rules associated with the containers in which the information arrived.

Reporting function may generate a variety of usage auditing reports . In addition usage clearinghouse may be used to provide advertising and or marketing support e.g. to help target advertising to demographically appropriate consumers and or to provide market and advertising research . Thus in one example usage clearinghouse may itself produce and or distribute advertising for viewing by certain targeted consumers or deliver such advertising on behalf of others. Usage clearinghouse may also generate customized responses in response to information requests and can also generate release signals authorizing electronic appliances to delete and or make no longer pending the usage information from local databases once associated audit records have been transferred to usage clearinghouse and that transfer has been confirmed. Consumer may have an interest in keeping rather than deleting this usage information after it has been released e.g. as a matter of curiosity to monitor others behavior employees children etc. 

Usage clearinghouse may generate its own controls to for example govern how usage information market analysis information or other information can be used by others. For example usage clearinghouse might be prepare a proprietary report or analysis that it provides to third parties in return for compensation. Usage clearinghouse may insist that the people that they provide the report to do not redistribute the report to anyone else. Usage clearinghouse may enforce this requirement electronically by delivering the report within one or more electronic containers and associating electronic controls with the report. These electronic controls could enforce the no redistribute prohibition along with other conditions grants and or limitations e.g. the report can t be modified the report can be printed and viewed the report may be excerpted etc. .

As mentioned above usage clearinghouse may also receive financial statements and or detailed financial records or other financial information and may generate its own financial statements and or detailed financial records . For example the usage clearinghouse might provide a service to content providers in which the usage clearinghouse receives controls from content providers similar to the controls delivered to consumers . Based on a comparison of these data usage clearinghouse might make estimates as to the amounts of money that the content providers should expect to receive from financial clearinghouses . Usage clearinghouse might thus provide an independent audit function serving as a double check on financial clearinghouses and providing a fraud detection function e.g. people submitting usage records that don t have associated payments or otherwise incorrect payment amounts may be detected by the usage clearinghouse . In addition the control might represent closed models that content providers are considering implementing and usage clearinghouse might then offer a service in which it runs a comparison against the usage data it actually collects to build a model of what the financial results might look like if the content provider actually instituted the proposed model.

Secure communications provides communications with a variety of electronic appliances over electronic network via secure containers in this example. Database and transaction processor in this example performs most of the functions. An authenticator may be used to authenticate consumers and or data an authorization checker may be used to check authorizations and a data aggregator may be used to perform the data aggregation function . Authenticator and authorization checker perform authentication functions as described in the Ginter et al. disclosure in connection with secure electronic appliances and protected processing environments.

Because container can only be opened within a secure protected processing environment that is part of the virtual distribution environment described in the above referenced Ginter et al. patent disclosure provider can be confident that the required audit trails will be generated and reported as he or she instructs. As consumers use the property their electronic appliances automatically gather and store the usage information in the form of audit trails . Then upon the occurrence of a specified event e.g. once a month once a week after a certain number of uses etc. the consumer electronic appliances send audit trail information within digital containers to usage clearinghouse .

Usage clearinghouse collects the audit trail information may store it in its database and analyzes the audit trail information to generate a report which it may send to provider within a further electronic container .

Provider automatically receives secure information auditing the amount his or her work has been used and how it has been used with usage clearinghouse relieving the provider from having to collect or analyze this detailed usage information. In addition usage clearinghouse may serve to protect the privacy of consumers by revealing only summary details authorized by them for example how many consumers have used the work but not their names or addresses . This confidentiality function would be more difficult or problematic if provider attempted to analyzed detailed usage records himself or herself.

If desired usage clearinghouse and financial clearinghouse may be operated by the same business in this case both usage and financial audit trail information could be sent within the same electronic container . The usage clearing functions performed by usage clearinghouse may operate in parallel with the financial clearing functions performed by financial clearinghouse to support both detailed usage reporting and efficient financial clearing.

The usage clearinghouses may perform demographic analysis on the received usage data and based on this demographic analysis target particular ads for other commercial content to particular information services . For example information service A might distribute program material and commercial content of interest to runners and others with physical fitness interests. Usage clearinghouse might analyze the usage data provided by the consumers who subscribe to and view this type of information. Usage clearinghouse is thus in a unique position to place ads in other commercial and non commercial content that might be of interest to the same interest group. Similarly information service B might specialize in broadcasting information of interest to car enthusiasts. Usage clearinghouse may gather usage data about the usage of this type of information and is thus in a unique and well placed position to distribute and target advertisements commercial and non commercial content to this group of consumers.

As one example the consumer s electronic appliance might be a personal computer and rights holders who distribute computer software may be interested in knowing what software programs consumer is using in addition to the ones they themselves are distributing. Consumer on the other hand may not want to reveal this detailed information about all of the software programs that are present on his or her personal computer.

As another example digital broadcast rights holders may want to know about every broadcasted program that consumer watches whereas the consumer may not want anyone else to know the kinds of programs he or she is interested in.

Usage clearinghouse can effectively accommodate these countervailing interests by offering consumer a financial incentive for more full disclosure but giving the consumer a choice.

In this example rights holder distributes electronic content and associated controls to consumer . The controls may specify options for revealing usage information. The consumer may choose 

Some secretive consumers may want the outside world to know as little as possible about their usage habits and will be willing to pay full price to protect their privacy. Other consumers may not care what the outside world knows about their usage habits and will want to take advantage of large discounts based upon more full disclosure. Any number of such option levels may be provided allowing the consumer to for example select precisely what kinds of information are revealed and which ones are kept secret. Because usage data is being collected within a secure protected processing environment that is part of the consumer s electronic appliance the consumer can be confident that the usage data will be securely handled and that unauthorized disclosure will not occur without his or her consent.

Based for example on one or more control sets provided to the consumers protected processing environment and or the consumer s selection made possible through such control sets the consumer s protected processing environment could reveal no or minimal usage information limited usage information or full usage information to usage clearinghouse . Usage clearinghouse can then freely analyze the limited and full usage information it collects providing reports and analysis to rights holders and to other third parties such as market researchers brokers advertisers auditors scientists and others.

In more detail rights and permissions support services in accordance with these inventions that may include for example some or all of the following functions and features 

In this example rights and permissions clearinghouse may provide some or all of the following functions 

The rights and permissions clearinghouse s primary task of object registration is performed by database management . In this connection rights and permissions clearinghouse may receive control sets and corresponding object identifications within the same or different electronic containers and then register this information in a database for later reference. Rights and permissions clearinghouse may assist rights holders in defining control sets specifying rights and permissions relating to the rights holder s electronic properties by providing a template function . Registration process and database may register control sets in addition to objects or properties .

Rights and permissions clearinghouse database function and distribution function may be used to distribute permissions on demand in response to requests and may also be responsible for the task of distributing via distribution function all permissions relating to a particular property. Since permissions and or prices may expire or change rights and permissions clearinghouse can also be responsible for updating control sets specifying previously issued permissions and or prices and distributing those updated control sets.

Rights and permissions clearinghouse may also provide a reporting function issuing reports pertaining to the permissions and or prices it has issued or distributed for example. In this example the operation of rights and permissions clearinghouse provides audit opportunities i.e. a channel through which to attach usage information. Such audit operations which may for example be provided by integrating rights and permissions clearinghouse functions with usage clearinghouse functions could be used to create integrated reports about which permissions were provided and which permissions were exercised very valuable information for market research and business consequences as well as providing additional accountability to rightsholders.

This rights and permissions clearinghouse audit function can be especially beneficial to preserve confidentiality. For example a private rights and permissions clearinghouse may be extended to provide payment aggregation in order to hide confidential individual transaction level information from the financial clearinghouse . In another example a rights and permissions clearinghouse can issue reports indicating for example the number of registered objects in database at the beginning of a reporting period the number of new objects registered and some aggregate statistics concerning perhaps the numbers of kinds of permissions associated with these objects and or average or median prices for certain kinds of objects.

Rights and permissions clearinghouse can also respond to queries with responses . A request for example may consist of a request for permissions which may be automatically granted or the request may need to be qualified by the rights and permission clearinghouse to determine whether the requester is qualified to receive the permissions. Qualifications might be established by presentation of one or more valid certificates which might be simply checked or stored in the database for transmission to providers along with other information about permissions granted by the clearinghouse. In the preferred embodiment other qualifications might be based on a shared secret e.g. one or more tags from a control set held by the requester known by the requester s PPE and the rights and permissions clearinghouse . This shared secret might be used in combination with a certificate or in cases when qualification requirements are lower or have already been established e.g. to have received the shared secret in the first place the shared secret alone might be adequate to receive for example a permission that replaces or updates an expired permission.

Rights and permissions clearinghouse also includes a permission negotiation engine that may be used to negotiate permissions that haven t been pre approved by the rights holder. For example suppose that a consumer wants to exercise a right that is not within database . The consumer could request the right. In response rights and permissions clearinghouse could determine whether the rights holder has authorized it to negotiate for the right on behalf of the rights holder. If the rights holder has not given the rights and permissions clearinghouse the power to negotiate the clearinghouse could contact the rights holder and request authorization and or the permission itself. If the rights holder has granted the rights and permission clearinghouse negotiating authority the clearinghouse could enter into an electronic negotiation see Ginter et al. between the consumer s control set and the rights holder s control set. The resulting negotiated control set could be sent to the consumer allowing the consumer to exercise the right.

Database and transaction processor performs most of the functions shown in . Registration processor may perform the registration function . Secure communications facility communicates securely over electronic network with consumers authors publishers aggregators repackagers and other value chain participants via secure containers . Authenticator and authorization checker perform authentication functions as the Ginter et al. patent disclosure describes in connection with secure electronic appliances and protected processing environments.

Publisher may register control set ABC and if desired also control set AB and control set A with rights and permissions clearinghouse . The publisher may also include additional controls over controls or permissions for permissions D e.g. distribution controls described in connection with FIGS. 79 85 of the Ginter et al. patent disclosure along with controls ABC. These additional D controls may specify the circumstances under which rights A B and or C may be granted qualification of credentials frequency of reissue number of controls for a given user etc. .

Consumer or any other provider such as an aggregator repackager author or another publisher may request a copy of any of these various control sets registered with rights and permissions clearinghouse . For example if the consumer is a journalist who uses the work in accordance with control set AB and decides she wants to excerpt the work for certain purposes she may request the control super set ABC that publisher previously registered with rights and permissions clearinghouse . As another example a consumer in Germany may have received the control set intended for U.S. distribution and may need to request a different control set accommodating the European legal and monetary environment. Additionally a rightsholder may modify previously distributed controls at a later date to add new rights provide a sale take away rights etc. with rights and permissions clearinghouse being responsible for distributing these new control sets either on demand.

In a different example publisher might distribute work with a very limited control set X allowing the consumer to view only the abstract and specifying rights and permissions clearinghouse as a contact point for obtaining permission to view or otherwise use the content as a whole. Consumer could then contact rights and permissions clearinghouse to obtain a more expansive control set Y allowing additional levels of usage. This provides a high degree of accountability and expanding auditing capabilities since it requires consumers to contact rights and permissions clearinghouse in order to actually use a previously distributed property. Similarly rights and permissions clearinghouse may provide updated control sets Y to replace expired ones. This mechanism could be used for example to provide a variable discount on a particular item over time for example to allow a movie distributor to discount its first run film six months after its initial release date without having to decide at time of initial release how much the discount will be .

For example templates may make some assumptions about the character of the content or other information being controlled how it is partitioned or otherwise organized and or the attributes those organizational entities have. Templates simplify the process of defining permissions and reduce or eliminate the need for specialized knowledge and substantial investments of time to exploit the underlying capabilities of the virtual distribution environment. It may be possible in this example for a user to avoid using templates altogether and instead define permissions in terms of a rights management language for example a natural or computer based language but a large percentage of users will prefer the easy to use graphics interface that templates may provide and won t mind giving up the additional flexibility and associated complexities when undertaking the day to day business of defining permissions for a large number of different pieces of content.

Example rights template shown in which may be appropriate for text and or graphics providers for example defines a number of different types of usage actions relevant to a particular digital property such as for example view title view abstract modify title redistribute backup view content and print content. Rights template may further provide a menu or list of options corresponding to each type of usage. These various options allow the rights holder to define rights that others may exercise in connection with the property. For example the rights may comprise 

Rights holders may fill in or select between these various options to define a rights profile corresponding to their particular property. In this example rights template may further models and or levels for rights to be exercised conditional on payment. Such pricing models and levels may flexibly define a variety of different sorts of business pricing such as for example one time charges pay per view declining cost etc. See for an example of how pricing models and levels might be specified using a graphical interface.

Rights template in this example can be self executing and or can be translated or compiled automatically into one or more control sets providing the necessary controls for implementing the rights holder s selections. for example has a view title control that allows unconditional viewing of the title as specified by the rights template . Similarly the example controls includes further control set elements . . . N corresponding to other rights and permissions the rights holder has defined based upon the rights template .

In this example rights template can be extensible. For example as new technology enables and or creates new operations rights template can be extended to accommodate the new operations while still being upward compatible with preexisting rights templates. Different rights templates can be used for different types of properties different value chain participants etc. and at the same time certain rights templates might apply to multiple objects or properties multiple value chain participants etc. Some rights templates can be supersets of other rights templates. For example an overall rights permissions template could define all of the possible rights that might apply to a particular property or class of properties and sub templates could be further defined to define rights associated with different consumers classes of consumers or rights holders. Thus for example an author might use a sub template that is different from the one used by a distributor. Templates can also be recursive i.e. they can be used to refer to other templates and similarly the control sets they define can refer to other control sets .

Rights and permissions clearinghouse might partially fill in rights template or an automatic process could be used based for example on rights holder s pre existing instructions for completing and or duplicating rights templates. Rights holders could use a graphical user interface to complete rights template e.g. by displaying a list of options on a computer screen and pointing and clicking with a mouse pointing device to fill in the options desired . In another example a rights holder could define his or her preferences using a rights management language that a computer could automatically compile or otherwise process to fill in rights template and or construct associated control set s .

As described above providers may control distribution of such pre authorized permissions by rights and permission clearinghouse by the mechanism of providing additional distribution controls directing and or controlling the distribution process.

In more detail a certifying authority in accordance with these inventions may provide any combination of the following advantageous features and functions for example in the form of certificates 

In this example digital certificates issued by certifying authority are used as a conveyor of the context of rights usage and transaction authorizations. As described in the Ginter et al. patent disclosure certificates are particularly powerful in the virtual distribution environment because they provide contexts for rights usage. For example class based certificate use and automated distributed governance of commerce rights may fundamentally enhance the efficiency of trusted networks. Suppose for example that a content publisher wants to charge commercial prices for a scientific journal subscription to all those but in higher education and is willing to give college and university students and professors a 20 discount. Digital certificates issued by a trusted certifying authority can be used to automatically provide assurances within the context of distributed electronic network that only people who are truly entitled to the discount will be able to exercise it in this example that only those certified as affiliated with an institution of higher education .

Certifying authority may gather evidence as a basis for which to issue digital certificates . In this example evidence may include other digital certificates e.g. so that one certificate can build on another . The fact collection and checking function may accept this evidence as well as additional trustedness data e.g. information concerning compromised or previously misused certificates Certificate generation function may generate new digital certificates based upon this fact collection and checking process . Distribution function may then distribute the new digital certificates and issue bills to compensate a certifying authority for undertaking the effort and liability that may be associated with issuing the certificate.

Certifying authority may also maintain a revocation list based on trustedness data indicating for example certificates that have been compromised or that previously certified facts are no longer true for example Mr. Smith used to be a Stanford University professor but has since left the University s employ . The maintained revocation list function is important for providing a mechanism to ensure that bad certificates cannot continue to be used once they are known to be bad. Certificates issued by certifying authority can expire and the certifying authority can for example for a fee renew a previously issued certificate by performing certificate renewal function . The certifying authority may maintain a record or database of the certificates it has issued and this database can be distributed which can benefit from replication function and propagation function to accurately and efficiently distribute the database across a number of different locations.

Certifying authority may communicate with consumer using secure containers . It may generate and provide a control set with certificate . This control set may control some aspect of usage of the certificate e.g. it may not be redistributed and or modified and or to define a chain of handling and control for the issuance of further dependent certificates e.g. parents give authority to issue certificates about their offspring .

One certificate authority may be proxied to issue certificates on behalf of another such as for example in a chain of handling and control defined by one or more electronic control sets . Distributing the certifying authority across a number of different electronic appliances has certain advantages in terms of efficiency for example. shows one useful example of this distributed certificate issuance scenario.

In order to take advantage of certificate A a student faculty member and or staff member of institution may need to provide a further certificate attesting to the fact that he or she is affiliated with institution . Instead of having certifying authority issue a further certificate to each student faculty member and staff member of institution it may be efficient and or desirable for each institution holding a certificate A to issue dependent certificates to its own faculty staff and students. For example institution may maintain a current list of all students faculty and employees. Rather than requesting certifying authority to issue a separate certificate to each student faculty member and employee of institution the institution may undertake this responsibility itself.

For example institution may elect to operate its own distributed certifying authority A. In one example certifying authority may issue electronic controls subject to controls issued by rights holder for example that delegate to the institution s certifying authority A the authority and responsibility to issue dependent certificates within certain limits e.g. attesting to a limited universe of facts such as for example This person is officially associated with the institution . Such dependent certificates could for example be copies of certificate with an addendum stating that a particular person is associated with the institution and stating a particular expiration date e.g. the end of the current academic term . The institution s certifying authority A may then issue such dependent certificates to each faculty member student and staff member on its current roster.

Recipients of certificates may need a still further certificate attesting to their identity. This is because certifying authority A issues certificates attesting to the fact that a certain named person is affiliated with institution not to the fact that a particular recipient of such a certificate is that person. The recipient may need to obtain this further identity certificate from a governmentally operated certifying authority such as a state or federal government.

Rightsholder and or a rights and permissions clearinghouse not shown may issue control sets for digital properties that grant discounts or that provide other benefits to those who can provide a combination of valid digital certificates attesting to their membership in the class accredited higher education institution. Each student faculty member and staff member of the institution who has received a certificate may take advantage of these discounts or other benefits. illustrates how such different digital certificates can be used to support certificate conditional controls that is control sets whose elements are dependent on the presence or absence of certificates that attest to certain facts.

In this example one or more control sets include a number of discrete controls . . . N applying to the same digital property or group of properties for example. Control may provide additional and or different rights to all students faculty and staff members of Stanford University. In the example multiple certificates can be used together to provide the requested certifications. For example the certificates A shown in the example can be used together to allow a particular person to take advantage of a discount offered to students faculty and staff members of accredited institutions of higher learning. For example 

Each of these various certificates can be issued by different certifying authorities . For example one certifying authority e.g. operated by a governmental entity might issue a certificate certifying the consumer s identity while another certifying authority may issue certificate attesting as to student status and a third certifying authority may issue the certificate attesting to the fact that Stanford is an accredited University see .

As an additional example a control set element shown in may provide a certain benefit for California residents. Its condition may be satisfied by the consumer presenting a digital certificate certifying residency e.g. in combination with the identity certificate . A still further permission N shown in might be satisfied by presenting a certificate indicating U.S. citizenship. Such certificates that warrant that a given person is subject to one or more jurisdictions for example a resident of or doing business in a particular city state nation or other political unit and therefore subject to that unit s sales income or other taxes or subject to certain administrative fees are particularly useful for interstate and or international commerce transactions. For example a certifying authority might issue a certificate to a financial clearinghouse in the United Kingdom. This certificate could be used in conjunction with control sets distributed by rightsholders and or a rights and permissions clearinghouse specifying that only United Kingdom financial clearinghouses are authorized to accept payment in pounds sterling. A customer wishing to pay in pounds sterling will only be able to complete the payment transaction if the financial clearinghouse being used has the appropriate UK certificate. This UK clearinghouse might then pay appropriate UK taxes relieving the provider from the burden of having to determine which of his or her transactions were subject to UK tax payments and which were not.

Digital certificate is encrypted in this example by the certifying authority using the certifying authority s private key of a public key private key cryptosystem pair such as RSA or El Gamal. The certifying authority s corresponding public key can be made public e.g. by publishing it in several publicly accessible sites on the World. Wide Web or in another widely distributed context or it could remain secret and never be exposed outside of protected processing environments . In either case successful decryption of the digital certificate to reveal the original clear text information provides a high degree of assurance that the digital certificate was issued by certifying authority presuming that the certifying authority s private key has not been compromised .

Expiration field is useful because people who skip checks of revocation lists have at least some assurance that a certificate is good if it must be renewed periodically. Expiration date field provides an additional safeguard by insuring that certificates do not last forever allowing certifying authorities to use different cryptographic key pairs for example to provide overall integrity and trustedness of the certification process. Changing the certifying authority s key pair reduces the incentives for an adversary to break a given key because the amount of information protected by that key is limited and the fraudulent use of a compromised key will only have a limited time of effectiveness. Furthermore currently unexpected advances in mathematics may render some cryptographic algorithms useless since they rely on currently theoretically intractable computations. A built in mechanism for changing the certifying authority s keys allows the impact of such breakdowns to be limited in duration if new algorithms are used for reissued certificates alternatively this risk can also be addressed by using multiple asymmetric key pairs generated in accordance with different algorithms to sign and validate keys at the cost of additional decryption time .

By comparing the identity information in the certificate with the contents of the trusted database certifying authority B can issue the certificate without requiring any physical evidence from the owner of the certificate. This solves an important problem of requiring the user to show up each time he needs a highly trusted certificate and also allows the second certificate generating the process to be automated.

Another example would be a corporation that has proven its identity to the Secretary of State in the jurisdiction in which it is organized. If this corporation has passed muster to handle hazardous material it could submit its certificate of identity from the Secretary of State which in this case would comprise certifying authority A to the agency certifying authority B responsible for maintaining the database of which companies are currently qualified and authorized to handle hazardous materials. The certifying authority B could then issue a certificate attesting to this fact in an entirely automated way if desired.

Sometimes one or more participants in a particular value chain or having a particular relationship with other participants need to be authorized to act on behalf of the collection of participants. For example several parties may wish to act based on authorization from the partnership or joint venture of which they are a member or all participants within a particular value chain may need to act for the value chain as a whole. Each of the participants receiving such authority from the entity may need authorization from the entity to act.

The present invention provides a mechanism in which digital certificates may be used to create a virtual entity that can grant any combination of participants any combination of the same or different powers to exercise defined powers under controlled conditions of use. More particularly a digital certificate grants each participant in a virtual entity the power to act on behalf of the entity within the constraints of the conditions of use and further with any consequences defined in the conditions of use specified by electronic controls associated with the container.

Value provides an identifier that uniquely identifies the entity. The other information field may provide further information concerning the entity e.g. the name of the entity the name and address of each participant the expiration date on which the entity ceases to exist and other information . Signatures N are like signatures on a partnership agreement each member of the virtual entity affixes his or her signature to indicate assent to be a member of the entity and assent to the conditions being granted to each participant.

Container in this example further includes an electronic control set describing conditions under which the power may be exercised. Controls define the power s granted to each of the participants including in this example conditions or limitations for exercising these powers. Controls may provide the same powers and or conditions of use for each participant or they may provide different powers and or conditions of use for each participant.

For example controls may grant each participant in a virtual entity the power to act as a certifying authority on behalf of the entity. In this particular example controls may allow each party of the virtual entity to make certificates on behalf of the virtual entity within the constraints of the conditions of use and further with the consequences defined in the conditions of use specified by controls. As discussed above the right to grant certificates is only an example any type of electronic right s or permission s could be granted based on any type of electronic condition s of use.

The participant initiating issuance of digital container actually the participant s protected processing environment may select a random value for use as entity identifier value block . The participant s PPE may next create the certificate information for the virtual entity by associating the entity identifier value with other information block . The participant s PPE may next sign the virtual entity certificate information to indicate the participant s assent to be a member of the virtual entity and assents to the conditions of use control information block .

The participant s PPE may then make electronic container and place into it the control information the virtual entity certificate information and the participant s own certificate specifying a cryptographic key the participant may use to exercise rights block . The participant may then determine whether any more participants need to be added to the entity certificate decision block . If yes the container may be transmitted block to another participant member of the virtual entity and accessed and validated by that next participant blocks . The next participant may similarly sign the virtual entity certificate information by adding his signature to the list indicating the she also agrees with the controls and agrees to join the virtual entity block . This new information is used to add to and or replace the entity certificate information block . This next participant also adds their own certificate to the container block .

Steps may be repeated until container has been signed by each participant within the virtual entity no exit to decision block . The completed container may then be transmitted to all participants block .

If the requested action is not permitted by controls no exit to decision block the example process determines whether the error is critical decision block . If the error is critical yes exit to decision block the process may disable further use of the information within container block writes additional audit information block and then stops block . If the error is not critical no exit to decision block the protected processing environment writes additional audit information block and may then end this task block .

The processes and techniques shown in have a variety of different uses. As one example suppose that a first publisher publishes a derivative work including his own content and content provided by a second publisher. The two publishers may form a virtual entity that allows the first publisher to act on behalf of the entity but only in accordance with the conditions of use negotiated and agreed upon by both partners. For example the second publisher may be willing to allow the first publisher to republish the second publisher s content and to allow excerpting and anthologizing of that content by consumers but only if the consumers present an appropriate certificate issued by the virtual entity attesting to the fact that the consumer is permitted to exercise that right. For example only special subscribers having certain characteristics may be entitled to receive a certificate . The techniques above allow the first publisher to issue certificates to subscribers on behalf of the virtual entity comprising both the first and second publishers. The second publisher can be confidant that the first publisher will only issue certificates in accordance with the conditions of use negotiated and agreed by both publishers.

Another example is a manufacturing process comprising multiple participants. The conditions of use provided by controls may allow any of the value chain participants in the manufacturing process value chain to perform certain actions on behalf of the value chain as a whole. For example a materials manufacturer a finished goods supplier and the shipping company that transports materials between them may for a virtual entity. This virtual entity may then submit a control set to a transaction authority that describes a process that describes all three participants acting in concert. For example the control set created in accordance with the conditions of use applicable to their virtual entity might permit a unified presentation of materials requirements finished appearance and delivery schedule as one simple example.

In another example a semiconductor company a systems integrator and three different suppliers of software may form a virtual entity supporting the semiconductor company s chip design simulation and design testing applications. In this example certificates may be issued to each company comprising this example entity and to particular individuals within each of the companies. Rules and controls negotiated among the companies may specify who has access to which parts of the software applications and associated databases and who may make modifications to the software and or data. In this way the semiconductor company can authorize access to outside contractors and or suppliers and to specific individuals representing those outside companies. These individuals may be authorized just enough access to solve typical problems and perform system maintenance tasks. Also they may be granted additional rights authorizations for a limited period of time in order to resolve specific problems requiring for resolution access to certain executables and or data not included in their default permissions.

The virtual entity feature of the present invention represents in part an extension that builds upon the chain of handling and control techniques disclosed in Ginter et al. For example certificates produced in accordance with this aspect of the present invention can use capabilities of a VDE chain of handling and control to manage a chain of certificates.

In more detail secure directory services provided in accordance with these inventions may provide the following example advantageous features and functions 

Database may be accessed by search and retrieval engine which takes consumer provided input information as a source and uses it to retrieve records that are relevant. For example secure directory services may receive identities of individuals organizations services and or devices electronic addresses certificate and or keys . This information may be stored in database .

In response to requests secure directory services search and retrieval engine may access database to retrieve additional information for example the electronic mail address of a certain individual or organization the public key of a certain individual the identity of a person having a certain electronic mail address the identity and address of a person having a certain public key etc. .

Additionally secure directory services may return access controls audit requirements and the like. For example a user may be required to present valid credentials e.g. a certificate to access the internal email addresses of a corporation. Certain fields of information known to the database may not be available to all corners e.g. the office location or a particular employee their home directory ies on the company s servers etc. or a consumer s physical address may be available to people that present a certificate issued by the consumer acting as his own certificate authority but no one else. These controls can be specified in secure containers that carry the information to the secure directory service .

When the information is provided to requesters they may be required to use the information only in authorized ways. For example they may be allowed to use the information to formulate email messages but not excerpt a physical address for a mailing list. These restrictions can be enforced by controls the secure directory services associates with the information it provides.

As shown in secure directory services may provide a database and search and retrieval engine in addition to a secure communications facility . The architecture of secure directory services may be based on of the Ginter et al. patent disclosure.

The transaction authority may simply be a secure watchful bystander to and certifier of the electronic transaction and or transaction step in a sequence of overall transaction steps it may be a secure facilitator of a secure plural party electronic transaction and or it may actively and directly participate in the electronic transaction.

In more detail a transaction authority in accordance with these inventions may provide the following advantageous features and or functions 

In this example transaction authority receives notifications that events have occurred in the form of event notifications which may be carried in one or more secure electronic containers . Event notification collection process collects these event notifications and may store them in a validated event database . Transaction authority may generate additional notifications based on its validated event database and may also issue responses indicating the current status of a transaction or process in response to requests and or based on other requirements. In addition transaction authority may generate and output audit records indicating the progress and status of transactions or processes based upon the contents of its validated events database as analyzed by auditing function . Transaction authority may also issue reports based on its reporting function . Validated event database may be a distributed event notification database in which case replication process and propagation process are used to maintain and update the database in a distributed manner.

Another major function of transaction authority in this example is to issue new or modified event requirements that can be used to control or influence an overall process or transaction. Transaction authority may receive control set prices and permissions event flow requirements and or process routing requirements . Both event flow requirements and process routing requirements can be specified in one or more control sets. In response to this information and the validated event database contents transaction authority may use its requirement generation process to create new or modified event requirements . Transaction authority may also create new or modified control sets and new or modified prices and or permissions . Transaction authority may use financial statements as an input to its secure auditing function .

Secure communications facility permits transaction authority to communicate in a secure manner over electronic network for example via secure electronic containers . Database and transaction processor performs most of the processes shown in . Adaptive control set database may perform the validated event database function. Routing tables may be used as part of requirement generation function to route appropriate messages to appropriate entities.

Process control logic may include an inference engine or expert system for use in handling error conditions not fully anticipated or specified by the event flow requirements and or process routing requirements . Process control logic might operate based on rule based principles fuzzy logic neural networks or a combination of some or all of these or any other method of process control logic. Process control logic determines the next event that is to occur within the overall transaction or process.

Document notarizer may be used to provide authenticated document generation for example to affix digital seals and or stenographic information to written and or digital documents.

Transaction authority can for example use the interaction models shown in through E to interaction with an ongoing transaction or process. One particularly useful scenario for transaction authority is to manage a process performed by multiple parties such as corporations working on a joint venture or other common objective. In this type of business scenario multiple corporations may be working toward a common overall goal but may themselves have their own objectives internally such as for example protecting their own confidential trade secret information. Transaction authority can be used as an independent third party mediator arbitrator to coordinate activities between the multiple corporations without requiring any of the corporations to expose detailed process information to anyone other than transaction authority .

For example transaction authority can generate control sets specifying event flow and or process routing requirements and or control sets that mean different things in different contexts. As an example a control set that transaction authority issues might cause one corporation to perform one step and another corporation to perform another step with each corporation never learning the particular step or sequence of steps being performed by the other corporation. Thus transaction authority can develop control sets that can be used to provide only partial disclosure between different individual or corporate actors.

In this example each value chain participant . . . N in a process administered by transaction authority could contribute a control set . . . N specifying or governing the participant s own business requirements limitations and processes for the transaction block . These individual control sets N specify how each individual participant performs its own role. Each participant . . . N knows its own role in the overall transaction but may have no idea what roles others may play or have any clear idea how to form a team of other participants and so these individual control sets N typically describe only sub transactions and may not take overall transaction considerations into account.

Transaction authority also receives another control set X specifying how to link the various participants control sets together into overall transaction processes with requirements and limitations block . This overall transaction control set Y specifies how to resolve conflicts between the sub transaction control sets N provided by the individual participants this could involve for example an electronic negotiation process as shown in of the Ginter et al. patent disclosure . The transaction authority combines the participant s individual control sets tying them together with additional logic to create an overall transaction control superset Y block . Transaction authority stores the resulting control superset Y in local storage block . This overall control superset controls how transaction authority processes events to perform an atomic transaction.

Upon receipt of an incoming event requiring processing block transaction authority may activate the overall transaction control superset Y block . The transaction authority may then deliver corresponding reciprocal control sets corresponding to portions of the overall transaction control superset Y to each participant in the transaction thereby enabling each participant to communicate with the superset block . Alternatively each participant in this example may at the time it contributes its control set N to transaction authority maintain a reciprocal control set that can communicate with the control set the participant sent to transaction authority .

Transaction authority may then begin monitoring events received using the activated control superset block . If the incoming event is not an error condition N exit to decision block then transaction authority determines whether the event indicates that the atomic transaction is complete block . If the atomic transaction is not complete N exit to decision block control returns to block to monitor events. If the atomic transaction is complete Y exit to decision block the transaction authority determines that the transaction is finished block .

If the incoming event is an error condition Y exit to decision block transaction authority processes the error event in the control superset Y block . If the error is not critical decision block N exit then control returns to block to wait for the next event notification to arrive.

If the error is critical decision block Y exit transaction authority may call a critical error handing routine block . Critical error handling routine may attempt to resolve the error based on the rules within the control superset Y and or on an inference engine or other process control logic. Such an inference engine or other process control logic may be programmed concerning the business model of the overall transaction so it has enough information to select appropriate actions based on error conditions.

The process shown in can be nested. For example the sub transaction defined by one participant may itself be an atomic transaction based on the contributions of a number of participants all of which are managed by the same or different transaction authority .

A Commerce Utility System can include service functions that enable it to perform as a Security Checkpoint System see that provides security archiving and non repudiation services that can certify and or authenticate communicated information in certain ways. Security Checkpoint Systems can 

Thus Security Checkpoint System may perform security and or administrative functions. This Commerce Utility System capability takes the positive benefits of centralized security models e.g. ability to have a central authority physically control the processing node and deploys these capabilities into a distributed user space model that can achieve maximum efficiency and flexibility support secure and manageable scalability a principal weakness of centralized systems and provide the enhanced security benefits of multiple independent secure environment layers. The latter capability is particularly adapted for highly sensitive communications desiring extra security assurance. These security layers are enabled by the required participation and security processing of one or more independent security checkpoint protected processing environments that reinforces the foundation distributed security environment.

Information that passes through one or more Security Checkpoint Systems can be certified and or authenticated to assure an information recipient e.g. a party receiving information in a container that certain communications functions and or security steps processes occurred prior to receiving the information. This certification and or authentication can include for example certifying or authenticating proper communication routing through required and or authorized protected processing Security Checkpoint Systems . Such checkpoints may be for example distributed throughout a telecommunications network and local to the physical and or logical location of end user VDE nodes see .

Security Checkpoint Systems may employ telecommunication switches adapted to certify and or authenticate certain information and processes. For example certificates issued by a Security Checkpoint System may certify that a required route was followed and that a required checkpoint examined a communicated secure electronic container and or that the sending of such a container or other electronic information was performed pursuant to certain stipulated rules and controls. For example such a service can help ensure and or certify and or authenticate that certain budgets other limits and or restrictions are not exceeded and or certain other requirements are met.

For example a Security Checkpoint System may help ensure requirements including that limits or other restrictions are not exceeded for the number of shipped information containers in a given period of time the value of electronic currency contained within or represented by a given container and or by containers over a certain period of time very important to reduce improper electronic currency activities the financial amount committed in a purchase order including that proper ordering authority is present and so on. Such requirement assessment may be in reference to for example container or other digital information communication activity communicated from a certain logical and or physical area node node group user or user organization and or other user grouping wherein said reference is determined through referencing secure node and or individual user and or organization and or area identification information as for example a VDE secure container travels through said adapted one or more telecommunication switches.

These Commerce Utility System communications checkpoint capabilities can provide useful security features by for example providing one or more independent distributed security check points along a telecommunication route that substantially increases security reliability by requiring the presence of a proper certificate and or authentication securely provided by such checkpoint and securely associated with and or inserted within said container by a process managed by said checkpoint or a group of checkpoints . This presence can be tested by a receiving node and a proper certificate or authentication can be required to be present for example according to rules and controls before such receiving node will process at least a portion of the content of one or more classes of received containers. Such container classes may include for example containers from specific individuals and or groups and or containers and or container contents that have certain one or more specific attributes.

Security Checkpoint Systems may be independent of end user Virtual Distribution Environment nodes from a security perspective. Such nodes may for example be independent from a security perspective because they use key management to maintain multiple secure execution compartments within their protected processing environments for checkpoint management such that a security breach in end user nodes shall not directly comprise the security of checkpoint operation and to help ensure that a breach related to a secure execution compartment will not comprise other such compartments.

Security Checkpoint Systems may also gather audit information including for example retrieving identity information of intended container recipient s class es of container information checksum and or other information employed for future validation e.g. non repudiation and or archiving of some or all portions of said container s content. Some of this information may be at least in part in encrypted such that one or more portions of such information may not be decrypted without the cooperation of one or more of the container sender the intended and or actual container recipient s and or a government body having authority to access such information.

Security checkpoint systems in this example have the secure ability to control whether or not a secure container transmitted through the communications infrastructure will be permitted to pass and the consequences of routing the container through the communications infrastructure. In one example controls operating with a user s protected processing environment may require certain kinds of containers e.g. containers that carry electronic currency to include controls that require them to be routed through a security checkpoint systems or a certain class of security checkpoint systems . Such controls can prevent the container or its content e.g. currency it contains from being used unless it is routed through the appropriate security checkpoint system .

For example suppose that user wishes to send a secure container to user . In this example the user transmits the container to user through the telecommunications infrastructure. That infrastructure may detect that the information being sent is a container and may route the container for interception by the a security checkpoint system system for example .

Security checkpoint system may after intercepting the container examine the control information within the container to determine whether requirements for further communicating the container to user have been satisfied. Security checkpoint system may forward the container to user only if those requirements have been met or it may modify the container to permit user to open and use the container subject to the container s controls which may limit use for example . The security checkpoint system may be authorized to modify at least a portion of the container s controls for example to add further use limitations.

This example shows two webs of security checkpoint systems . In this example these webs represent collections of security checkpoint systems that have each been certified by a Certifying Authority for example as being 

Hence in this example web 1 represents the class of certified security checkpoint systems and Web 2 represents the class of security checkpoint systems . As one example web 1 security checkpoint systems may be certified as being capable of handling containers containing electronic currency .

One of the requirements specified within the control information associated with the container may be that it must pass through a web 2 security checkpoint system e.g. system for example to enable certain secure auditing functions such as trusted electronic currency tracking. A web 1 security checkpoint system e.g. system may refuse to pass the container to user based on these controls or it may refuse to modify the container to make it usable by user .

By way of further example suppose user wishes to pass the container along to another user . The controls associated with the container may require in this particular example that further communication of the container must be through a web 1 security checkpoint system . This routing requirement may be been present in the controls provided by user or it may be added by security checkpoint system or the user s protected processing environment.

In the particular example shown the controls may enable the web 1 security checkpoint system to pass the container along to user via a further routing that does not include a security checkpoint system e.g. via another type of commerce utility system and or a non secure telecommunications switch .

Each set of consequences may involve some form of secure auditing for example. If the security checkpoint passes a container containing electronic currency for example the security checkpoint may record one or more of the following auditing information 

If the security checkpoint system refuses to pass and or modify a container it may produce an audit report including available tracking information for example 

The security checkpoint system may then determine whether additional communications are required decision block . If not the process may complete. If additional communications are required Y exit to decision block the security checkpoint system may transmit the container to the next system block . The next system may be an additional security checkpoint system that performs additional processing blocks .

The publisher may use his own branding name recognition and marketing efforts to distribute the work to a consumer . The publisher may also provide the work to a content aggregator someone who provides customers access to a wide range of content from multiple sources. Examples of aggregators include for example traditional on line information database services and World Wide Web sites that host content from many diverse sources. Typically consumers use an aggregator s services by searching for information relevant to one or more consumer defined topics. An aggregator may provide the search tools to the consumer who will make their own selections.

The aggregator might distribute the work containing some or all of the original work directly to consumer . Aggregator may also distribute the work to a repackager . Repackager may for example take content from several sources on related matters and combine them into mixed source products such as multimedia combinations newsletter publications or current awareness packages. In these services the repackager makes the selection of content and organizes based on audience indicated interest. A consumer may subscribe to an electronic newsletter on a particular topic or the consumer may give the repackager a short list of topics they are interested in. The repackager will select relevant information and communicate the information to the customer. Here the repackager is doing the selecting for the consumer.

For example repackager might be the publisher of a newsletter and might republish some or all of the author s work in this newsletter . Repackager could directly distribute newsletter to consumer or the newsletter could pass through still additional channels. Repackager could use a search engine provided by aggregator to find articles of interest to consumer and combine those articles into an electronic newsletter that has both the aggregator s brand and the repackagers s brand and then send the newsletter to the consumer .

1. Certifying authority can issue certificates that allow each of the value chain participants to identify who they are and to demonstrate that they are members of one or more particular classes. For example author and or publisher might specify that any certified aggregator or repackager is entitled to excerpt or anthologize work so long as appropriate payment is made. Certifying authority could issue digital certificates supporting this desired business objective the certificates certifying that aggregator is in fact a reputable aggregator and that repackager in fact a reputable repackager. So long as author and or publisher trust the security of the overall system and the certificates issued by certifying authority they will have no fear that the work will be excerpted or anthologized by anyone other than the appropriate types of people they specify.

In another example certifying authority could issue a certificate to aggregator or other user. Certifying authority could issue this certificate at the direction of author or publisher . The certificate may attest to the fact that author or publisher agree that aggregator or other user is authorized to modify certain permissions . Author or publisher may have specified permissions so that that will allow themselves to be modified only on the condition that an authorized aggregator certificate is present.

In another example certifying authority could issue a certificate to one or more classes of users enabling for example utilization of content and or specific portions of content and or modification of permissions which such enabling may be limited to specific utilization and or modification by employing certain VDE rules and controls put in place by the author or publisher or certificate authority as allowed by in place rules and controls .

2. Rights and permissions clearinghouse in this particular example may be used to register work and issue appropriate permissions consistent with authorizations and instructions provided by each value chain participant. For example the author could register work with rights and permissions clearinghouse and specify an electronic control set defining the rights of every other value chain participant.

Rights and permissions clearinghouse might maintain different versions of the control set for different user classes so that for example consumers might receive one control set aggregators might receive another control set and repackagers might receive a still further different control set . Each of these control sets can be provided in advance by author or other rights holders providing a pre approved permissioning system that makes widespread usage of work extremely efficient and yet highly secure and further such control sets may interact with VDE distributed template applications in a seamless manner one or more template applications may be distributed with a control set by such distributors of such control sets or may be otherwise made available to such control set recipients. In one particular superdistribution business model work is allowed to be distributed as widely as possible and rights and permissions clearinghouse does the work of providing current control sets authorizing particular value chain participants to use the work in particular ways under particular conditions.

3. Usage clearinghouse in this particular example may support the value chain by collecting usage information from each value chain participant. The usage clearinghouse may thus provide a secure auditing function generating for example reports that track how many times the work has been used and how it has been used.

As one example usage clearinghouse might analyze usage information to determine how many consumers have read the work. Usage clearinghouse can for example report consumption information in varying amounts of detail and or specific kinds of information to various value chain participants consistent with privacy concerns and the accepted business rights of each party. As one example the usage clearinghouse might give consumer a very detailed report about his or her own particular usage of work while providing author or publisher with only summary report information that may for example not include the consumer name address or other direct identifying information.

As another example reports could also flow directly from the repackager to the aggregator publisher and author . Reports may be directed along any logical pathway directly or through any sequence of parties and containing whatever mix of information for each party as is acceptable to the value chain and as may be enforced for example at least in part by VDE rules and controls

4. Financial clearinghouse in this example may provide secure clearing of financial details of the transaction ensuring that appropriate value chain participants compensate other appropriate value chain participants. As one example financial clearinghouse may receive payments from consumer based on the consumer s use of work and distribute parts of the payments appropriately to author publisher and other appropriate value chain participants in an automated efficient process managed at least in part by VDE rules and controls. For example financial clearinghouse might interface with other banks or financial institutions to accomplish an automation of payment transfers and or it might assist in managing electronic money maintained within the overall value chain shown. Financial clearinghouse may also assist in ensuring that itself and the other Commerce Utility Systems are appropriately compensated for the administrative and support services they provide that is for example secure VDE processes operating within Commerce Utility Systems may automatically ensure the payment to such administrative and support service providers.

5. Secure directory services in this example may support the example value chain by facilitating electronic communications between value chain participants and or between Commerce Utility Systems . For example secure directory services can upon request provide electronic address and or routing information allowing one value chain participant to electronically contact another. As one example suppose a consumer wants to obtain the latest addition of work but discovers that the electronic address of publisher has changed. Consumer can electronically contact secure directory services which can provide current address information. Of course in commercial trading system applications for example secure directory services may provide much more elaborate services for the identification of desired parties such as multi dimensional searching of directory resources for identifying parties based on class attributes. Secure directory services may also provide services that enable the identification of content for example based upon content type and or rules and controls associated with such content pricing allowed usage parameters such as redistribution rights etc. .

6. Transaction authority in this example might be used to assist repackager in developing newsletter . For example transaction authority might help in automating a process in which a number of different works created by a number of different authors were all aggregated and excerpted for publication in the newsletter. Transaction authority can securely maintain the current status of an overall multi step process specifying which steps have already been performed and which steps have yet to be performed. Transaction authority can also for example help arbitrate and mediate between different participants in such a multi step process and can in some cases actively influence or control the process for example by issuing new instructions or requirements based upon error or other conditions .

In this value chain certifying authority and transaction authority can assist with secure flow of electronic orders confirmations terms and conditions and contracts and can also help to ensure that each value chain participant can maintain the desired degree of confidentiality while exchanging necessary information with other value chain participants. Usage clearinghouse may assist in secure auditing of the overall process tracking of physical and electronic parcels between the value chain participants and other usage related operations. Financial clearinghouse may handle the financial arrangements between the value chain participants for example assisting in coordinating between the world of electronic network and a paper oriented or other world of bank . Rights and permissions clearinghouse may provide a secure archive for electronic controls defining parts or all of the transaction. Transaction authority may securely monitor the overall progress of transactions occurring among value chain participants and provide periodic status reports as appropriate to each value chain participant. In addition transaction authority can assist in directing or arbitrating the overall transactions to ensure that all steps and requirements are fulfilled. Secure directory services can assist in routing information electronically between the different value chain participants. Of course as previously stated for the present inventions and as applicable throughout this specification VDE chain of handling and control and other capabilities including rules and controls and secure communication techniques would preferably be used as a foundation for the above activities.

In each instance the financial clearinghouse may collect funds due the support services and deposit these funds to at least one provider account employing at least one payment method. The financial clearinghouse may also provide VDE audit records confirming the source and amount of the funds and the provider account in which the funds were deposited by the financial clearinghouse . The financial clearinghouse may provide assistance to one or more other support services in establishing provider accounts and communicating to such one or more support services the account number and or numbers and terms and conditions that may apply. Both the support service request to the financial clearinghouse and its responses to the requesting support service can be communicated in VDE secure containers as mentioned earlier to take advantage of their substantial security confidentiality flexible control architecture and trustedness and can be processed at each location by one or more VDE Protected Processing Environments. Financial and account information may be provided in the form of VDE control sets and or be incorporated in VDE control sets by the financial clearinghouse and or by one or more other support services. Financial clearinghouses may also provide services to each other to promote further operating and administrative efficiencies. For example one financial clearinghouse may provide services to its counterparts in other countries or in other geographic regions. In another example one financial clearinghouse may provide another financial clearinghouse access to one or more payment methods not directly supported by the second financial clearinghouse .

Distributed Commerce Utility provides significant trustedness security convenience and efficiencies for instances in which customers pay for digital information. Moreover information creators and distributors can price this information indeed any digital property in any digital format in various ways and in different ways in different markets.

Prior to information delivery transactions the consumer professional and company may use a secure directory service to locate the network address of the information provider as well as assist in identifying the content they wish to work with. Subsequently these parties may send an electronic message to provider requesting the specific information they want to receive. Provider may deliver this information within VDE secure electronic containers along with associated rules and controls that control pricing and permissions. Each of parties has an electronic appliance including a protected processing environment that enforces these controls .

In each of these cases local state and or federal sales taxes as appropriate are included in the retail price. Payment methods may be provided within electronic control sets delivered in electronic containers with and or independently of the associated content for example as provided in Ginter et al .

A financial clearinghouse ensures that provider receives payment through any authorized payment method. The information delivery service accepts a broad range of payment methods. Some forms of payment are more popular in certain markets than in others. For example 

A financial clearinghouse makes payment more efficient in several ways. For example financial clearinghouse furnishes provider with a convenient one stop shopping interface to the several payment methods and keeps track of the at least one account number associated with a given provider.

In this particular example a certifying authority may deliver digital certificates to each of consumers specifying a consumer s one or more classes. For example certifying authority may deliver 

Control sets may activate the different payment methods based on the presence of an appropriate digital certificate . For example control set delivered to consumer electronic appliance authorizes consumer to use each of the three articles . Control set may for example contain a requirement that the consumer must have a certificate from an independent certifying authority or from the information distributor or other party acting in a certifying authority capacity under authorization from a more senior certifying authority attesting to the fact that the consumer has a subscription that has not yet expired to the online encyclopedia. This certificate may for example be used in conjunction with other certificates issued by the certifying authority e.g. perhaps run by or authorized by the US government or other governing body attesting to the fact that the consumer is a US citizen resides within the US and is a legal resident of the State of California.

The consumer pays the information provider for the subscription through a transaction transmitted to the financial clearinghouse in a VDE electronic container . The payment transaction may involve for example the consumer appliance sending to financial clearinghouse an electronic container including rules and controls and audit records . The audit records may indicate for example 

The secure container may also contain rules and controls indicating that municipal California and US federal sales taxes should also be collected. The financial clearinghouse collects the appropriate sales taxes and deposits the funds in the appropriate accounts for example certain funds would be deposited in the account belonging to the appropriate State of California tax collection agency .

In exchange for the payment the subscribing customer may receive from certifying authority a certificate indicating she is in fact a subscriber and the expiration date of the current subscription.

The lawyer in this example may be located in the United Kingdom. He purchases the three chapters from a treatise on patents using a MasterCard but pays in pounds sterling rather than in dollars. To perform the purchase transaction the lawyer may first be preauthorized by the financial clearinghouse for purchases each month of up to 500 US or the equivalent in pounds . The pre authorization may be sent from the financial clearinghouse to the lawyer s appliance in the form of a budget control in a secure container . The protected processing environment within the lawyer s appliance may open the container authenticate the budget record and store the control within an associated secure database maintained by PPE .

Upon receiving opening each of the three chapters the lawyer s protected processing environment may create an associated audit record and may decrement available credit in the budget record by the amount of the purchase. At month end or when the 500 preauthorized credit has been exhausted the lawyer s PPE may send to the financial clearinghouse a secure container with audit records indicating all the purchases their amounts and the provider account or accounts to be credited this supporting efficient automation of clearing processes. The financial clearinghouse may open the secure container debit the lawyer s credit card account and pay the appropriate provider accounts their due.

Preliminary to content transactions a distributed corporate financial clearinghouse A within the company while operating under the authority of the financial clearinghouse sends to each of managers A B a secure container a budget record indicating their currently approved monthly information and market research budget. A corporate distributed certifying authority A in the same trust hierarchy as the certifying authority in this example may also issue digital certificates not shown to employees of the company.

In this example each product manager A B prints selected portions of the report and the budget on his or her local appliance which is decremented by 10 for each page printed. The protected processing environment within the local electronic appliance securely performs this process conditioning it on controls that may require appropriate digital certificates issued by certifying authority and or the distributed corporate certifying authority A.

According to controls supplied by the information provider for example at the end of the month or when the budget for that month is exhausted the corporation s appliance sends to the corporate internal financial clearinghouse A audit records not shown indicating any purchases that might have been made during the reporting interval and the amounts and provider account numbers for those purchases. The distributed local corporate financial clearinghouse A aggregates the sums in the audit records and sends in a secure container at least one audit record to the external financial clearinghouse to authorize payment of the total amount owed the provider of the market research reports through an Automated Clearinghouse ACH . Also in the secure container e.g. as part of audit record are the account number of the company from which the funds should be debited and the account number of the market research company that issued the report into which the funds should be credited. The financial clearinghouse completes the payment process through the ACH and sends a VDE secure container providing at least one audit record back to the internal corporate financial clearinghouse A as confirmation. Distributed clearinghouse A may in turn send using a secure container not shown at least one confirming audit record to each of the product managers A B.

A significant portion of electronic commerce will entail the sale purchase distribution management and or payment for intangibles of all kinds. Commerce in tangibles has many of the same security trustedness and efficiency requirements as commerce in intangibles e.g. digital information . For the computer to become a true commerce appliance a distributed secure trusted rights event management software layer e.g. rights operating system or middleware such as the Virtual Distribution Environment described in the Ginter et al. specification is a necessity. Thus even when tangibles rather than digital properties are the object of secure electronic commerce Distributed Commerce Utility can play an important role.

In this example the company registers with the transaction authority which may be a distributed transaction authority within the company selling the goods an atomic transaction comprising at least one electronic control set that describes for example 

In this one example the company also obtains at least one digital certificate from a certifying authority attesting to at least one fact for example that

A customer uses his or her electronic appliance with Web browsing capabilities to access the catalog server over the Internet s World Wide Web. The catalog server sends the customer a web page providing a page from an electronic catalog. Web page may be sent in one or more secure electronic containers . The customer displays the web page A using his or her electronic appliance and clicks on the part of the web page showing a men s short sleeve Oxford button down shirt selling for 15.95. The current Web page is replace by a web page B from the fulfillment server . This second web page B may be sent in a secure container .

The customer s electronic appliance has a protected processing environment . PPE opens the secure container and displays the page B on the screen. The page B being displayed is a form that has several fields including the catalog number and description of the shirt and retail price. The customer fills in fields for color neck size normal or tall person normal or trim fit and quantity. The customer also indicates where the shirt s are to be delivered the class of delivery service desired and the customer s address.

Upon the customer completing the required information the electronic appliance puts the form field information in a secure container and sends the container back to the fulfillment service . Fulfillment server opens the container and reads the field information . Fulfillment server creates a VDE audit record indicating receipt of information . Fulfillment server may also create a control set and or an event notification that initiates a purchase transaction.

Fulfillment server may communicate with warehouse directly or through transaction authority . The fulfillment server then determines whether the required items are in stock and available to be shipped. If fulfillment server determines that the required items are in stock and available to be shipped and if the information provided by the consumer is sufficient to proceed the fulfillment service sends back to the consumer another Web page C indicating 

The fulfillment service also sends audit records to the consumer s PPE and to the transaction authority indicating which parts of the larger atomic transaction have been fulfilled.

If the customer determines he or she does not wish to continue with the transaction after viewing fulfillment details his or her appliance can send a secure VDE container to the fulfillment service and to the transaction authority indicating that the transaction is canceled. If the customer says yes please continue with the transaction the customer is prompted to pick a payment method from among the list provided. In this example the list corresponds to payment methods supported by both the merchandise provider and by the financial clearinghouse . The customer fills in credit or charge card number for example expiration date and billing address.

Upon completion of the required information the customer s appliance can send the information using his or her secure PPE in a secure VDE container to the financial clearinghouse and may send a separate VDE container not shown with an audit record to the transaction authority .

The financial clearinghouse gets pre authorization from the credit card processing company and for example using a secure VDE container returns the pre authorization approval information to the fulfillment server . Financial clearinghouse may send another VDE container to the transaction authority with an audit record indicating completion of the pre authorization step.

The fulfillment server may send a further VDE secure container to the customer with a new Web page D and audit record information indicating that 

The fulfillment service e.g. in cooperation with warehouse packages the goods hands them off to an express delivery service and for example sends VDE secure containers with audit records indicating shipment to the financial clearinghouse and the transaction authority respectively. In this example the express delivery service logistics also sends a VDE secure container to the transaction authority and to the fulfillment service and also if desired to the customer indicating that the express service has taken possession of the package.

Upon delivery of the package with the merchandise in this example the express delivery service sends a VDE secure container containing an audit record indicating that delivery of the package has been completed to the transaction authority which then marks the transaction completed and then may send additional VDE secure containers indicating completion to the financial clearinghouse to the express delivery service to the fulfillment service and in some examples to the customer .

A hallmark of advanced Western economies especially the economy of the United States at the end of the present century has been the transition from a largely manufacturing smoke stack economy to not only an information economy but to a service economy as well. Distributed Commerce Utility can support transactions in which customers pay for and in many examples consume or otherwise make use of services.

For example the online service agrees to accept certificates issued by a distributed certifying authority A from parents certified by the certifying authority through certificate to issue certificates attesting to the facts that they have children and that these children are currently minor children. In turn the online service will not allow children so certified to access certain subject matter materials distributed by the online service nor to accept digital signatures based on those certificates for purchase transactions unless the adult person responsible for the child has issued another certificate attesting to their willingness to be financially responsible e.g. unconditionally or for purchases up to some specified limit per transaction or some aggregate level of spending in a specified time period in one example so much per month . These certificates may be sent from the certifying authority to the parent and or to at least one child in a VDE secure container .

Now suppose the child subscribes to an online game called chat. Online service has a Web interface specifically designed for school aged children. This service offers a subscription that must be renewed quarterly. Using an electronic appliance such as a personal computer or TV and settop box with bi directional communications and a protected processing environment the child uses secure directory services to locate the online service and sends a message requesting a subscription. In response the online service sends to the parent or guardian in a VDE secure container a request for payment membership and member information. The parent or guardian and or other paying individual provides his or her or their credit card number s expiration date s and billing address information in one or more other secure containers to the online service .

In this example the online service communicates the customer s service account credit card and or other payment information to the financial clearinghouse using a VDE secure container in a variation on this example the parent may have provided this financial and related information directly to the financial clearinghouse in a VDE secure container . The online service provider also provides to the financial clearinghouse the clearinghouse network address and provider account number. Within a protected processing environment which may for example comprise a general purpose computer locked in a physically secure vault or other secure installation the financial clearinghouse opens the secure container extracts the payment information and completes the payment transaction with the credit card company.

For this example the financial clearinghouse in turn communicates the following information this list is for illustrative purposes only and does not detract from the general case in which any available set of information might have been communicated to the online service in at least one secure VDE container 

In turn the online service sends a secure container to the customer indicating that payment has been accepted. In one example online service may instruct certifying authority to issue a certificate attesting to the validity of the subscription until a specified date. Online service may also provide audit records derived from the information provided by the financial clearinghouse .

Each time the child logs on to the online information service the child s PPE checks to determine if any certificates are present or known and if so whether 

Having ascertained through these certificates that the child is authorized to use the online service and is prohibited from accessing certain adult content the online service grants selective access that is to authorized portions.

Among the features of this online service are distributed multiperson interactive games. The child in this example plays the game with at least one other authorized and certified minor child adults are precluded by underlying VDE rules and controls from playing this game in this particular example. At least one portion of the software e.g. executable code and or interpretable code such as Java that implements at least one portion of the at least one game can be download from the online service to the child s information appliance using at least one VDE secure container .

Using methods described in the Ginter et al. disclosure these programs and or portions of programs are determined to be authentic and unmodified. At least one of the keys used to calculate the one way hash function that produces the digital signature used for determining the integrity of the at least one program or at least one part of a program is bound to the identity of the online service by a certificate issued by certifying authority .

As the child in this example plays the game at least a portion of his or her activities are metered according to methods disclosed in the co pending Ginter et al. application and audit records are created that indicate this child s usage. At certain times these audit records are transmitted to the online service which may in this example include a usage clearinghouse . Usage clearinghouse analyzes these usage records and may use them to determine how much to charge child .

Distributed Commerce Utility can be used to facilitate a purchase or other type of transaction relating to tangible goods. shows an example tangible goods delivery system . For example a company places an order for office supplies using an electronic appliance including a PPE . The order is for a box of paper clips a stapler staples a case of 8.5 11 inch copy paper and a dozen yellow legal size note pads. The items are manufactured by a manufacturer distributed by a distributor and sold to the company by a retailer .

In this example a financial clearinghouse receives a payment from the company and disaggregates the payment by dividing it up into disaggregated payments A B C which it delivers to each of retailer distributor and manufacturer .

For example the company sends its order within a VDE electronic container to a retailer . In this example retailer provides a fulfillment service that receives the order and in response provides a control set indicating the provider account number of the distributor and or manufacturer of each item and the percent of the retail price to be received by each. If desired retailer may provide a different control set for each item ordered regardless of quantity allowing different payment disaggregation to be performed on an item by item basis. Retailer may provide this control set to company .

Control set may be conditioned on the presence of one or more digital certificates issued by certifying authority . For example control set may require company to provide a digital certificate issued by the certifying authority . Certificate attests to the identity of the ordering company . The company may provide another certificate in the same chain of trust hierarchy as the certifying authority warranting that the person placing the order is authorized to place orders up to a specified spending limit per order. Company may provide the same or different certificate also indicating that the purchaser employee within the company is authorized to make use of a corporate charge card.

In this example the company pays with a corporate charge card. The financial clearinghouse first gets payment authorization from the credit card company prior to the retailer shipping the merchandise. Upon receiving notification of preauthorization retailer may ship the goods to the company . Following delivery of the merchandise the retailer creates at least one VDE audit and or billing record in at least one VDE secure container and transmits the container to the financial clearinghouse audit information may also or alternatively be sent to retailer .

The financial clearinghouse then completes the charge card transaction by allocating the total payment amount to each of the value chain participants represented by control set which it may have received for example directly from retailer and or through company . In this way the distributors and or manufacturers receive their payments at the same time the retail seller receives its payment. Control set information may also indicate shares of the total payment and provider account numbers for local state and federal taxes if any and for example for delivery charges such as to an overnight express company if any.

This example shows that value chain disaggregation can apply for both tangibles and for intangibles. Similar techniques can also be used much further back through the manufacturer s supply chains if so desired e.g. to the providers of the metal from which the paper clips were fabricated .

Distributed Commerce Utility can assist the electronic community in efficiently distributing electronic or digital properties or content. For example using an electronic appliance equipped with a protected processing unit a creator or other rights holder sends a digital object in a secure container to a rights and permissions clearinghouse to be registered.

The rights and permissions clearinghouse opens the container using for example its own VDE protecting processing unit and assigns a uniform object identifier indicating the identity of the creator the type of object being registered software video sound text multimedia etc. and the digital signature for the object. The uniform object identifier may be globally unique or may be unique only in the namespace domain of the creator or some other entity such as an online service digital library or specific jurisdiction such as a specific country.

In this example using its protected processing environment the rights and permissions clearinghouse digitally signs the uniform object identifier with the rights and permissions clearinghouse private key and returns the object and identifier to the person or organization registering it in a VDE secure container. The rights and permissions clearinghouse may retain a copy of the object or may retain only the uniform object identifier for the object and the signatures for the object and its uniform object identifier. In another example the rights and permissions clearinghouse digitally signs a new object comprised of the original object and its uniform file identifier and stores both the new object and or its signature in the rights and permissions clearinghouse archive.

The creator may have also sent in a VDE secure container a permissions and pricing template see indicating which permissions are granted the prices to be charged upon exercising those permissions and if applicable the individual class and or jurisdiction to which those prices and permissions apply. More than one permission and pricing template may be sent in a single VDE secure container or separate VDE secure containers may be used for each permission and pricing template.

In this example using a VDE secure container the object is then transmitted from the creator to a distributor see . Using a certificate the distributor can prove to the VDE instance PPE interpreting the creator s control set that the distributor is indeed authorized to selectively alter permissions and prices of the object and creates a new permissions and pricing template. The distributor then sends a VDE secure container to the rights and permissions clearinghouse containing the uniform object identifier together with the new controls. In the preferred embodiment if the object remains unmodified the distributor has the option of leaving the uniform object identifier unmodified however if the distributor has modified the object perhaps to add its own brand then the uniform object identifier must be modified to reflect the distributor s version. The digital signature is recomputed using the private key of the distributor. As before the object registry has the option of storing only the digital signature or both the signature and the actual object.

As a value added service the rights and permissions clearinghouse can provide a copyright registration service see . The rights and permissions clearinghouse can send a copy of the object to the appropriate online copyright registration service of the appropriate government agency for example the US Copyright Office. The object and uniform object identifier may be sent in a VDE secure container together with controls indicating the mode of payment if a registration or processing is being charged.

In this example the copyright registration service can send at least one VDE secure container to the financial clearinghouse with at least one audit record indicating the amount to be paid the payment method and account of the registering party and the account of the government to receive the funds and receives in return in a VDE secure container an audit record indicting that the transaction has been pre authorized or that for whatever reason the proposed transaction has not been authorized .

If the transaction has been pre authorized by the financial clearinghouse a VDE enabled computer located in this one example in US Copyright office opens the secure container and adds the uniform object identifier and the object to the registration database. Under a chain of trust emanating from the certifying authority which in this example may be operated by or on behalf of the US government the copyright registration service issues at least one digital certificate attesting to the facts that an object with a specified uniform object identifier and with a specified digital signature has been in fact registered with the registration authority and that the at least one person is in fact the owner of the copyright at the time the object was registered. This certificate is sent in a VDE secure container to the person who registered the object and or who was named as the person to be notified and to the rights and permissions clearinghouse who in turn may provide copyright registration information upon request in a secure VDE container.

The copyright registration service sends at least one VDE secure container to the financial clearinghouse with at least one audit record instructing the clearinghouse to proceed with fulfillment of the pre authorized transaction if all necessary information was part of the pre authorization process and or providing information to the clearinghouse regarding for example the amount to be paid the payment method and account of the registering party the account of the US government to receive the funds and that the payment transaction should be completed and receives in return from the financial clearinghouse in a VDE secure container an audit record indicting that the transaction has been completed and funds deposited in the appropriate account or accounts or that the payment transaction fail and the reason why it failed to be completed.

Distributed Commerce Utility can further facilitate the distribution of electronic and digital properties by providing a mechanism for renewing rights and permissions that have expired. See .

In one example suppose an employee of a Fortune 1000 company has a control set for a digital property perhaps a piece of software or a Java applet that has expired. The VDE protected processing environment on the employee s computer can send a VDE secure container to the rights and permissions clearinghouse .

Distributed Commerce Utility can also facilitate the distribution of electronic and digital properties by providing a mechanism for distributing rights permissions and prices that have been changed by one or more participants in a distribution chain. In one example suppose a customer has a digital object on her hard disk and its VDE control set as distributed by the publisher. The permissions and prices originally indicated a pay per use model in which the user pays 10 cents for each operation on the object such as printing or viewing.

To determine if new rights and prices are now available the protected processing environment on the customer s PC can send a VDE secure container to the Rights and Permissions clearinghouse using its network address obtained from the control set together with MIME compliant electronic mail. The customer obtained the address of the rights and permissions clearinghouse from the secure directory service having for example sent a query in a VDE secure container and having received a response in a VDE secure container.

The VDE secure container sent to the rights and permissions clearinghouse contains the object identifier plus a request for the current controls including prices. The protected processing environment at the rights and permission clearinghouse server opens the VDE secure container retrieves the most recent control set from the database of controls and sends via return electronic mail another VDE secure container with the desired controls. The customer s protected processing environment opens this container and replaces and or augments the expired controls with the new ones. The customer is now able to use the content according to the rules and controls specified in the control set just received from the rights and permissions clearinghouse and processed by the instance of VDE on the local computer or other appliance. In this example these new rules and controls have reduced the pay per use price from ten cents per operation to five cents per operation.

Distributed Commerce Utility can also support transactions in which some or all rights are not initially distributed to the ultimate consumer with the content but must be requested instead. In one example suppose a lawyer decides to go into the publishing business by combining her his own articles with other materials obtained from legal information distributors. The legal information distributors have chosen a rights and permissions clearinghouse to be their distributor of control set information for their many properties. With each object they register at the rights and permissions clearinghouse they also register two control sets in the formats described in the Ginter et al. disclosure 

The attorney newsletter publisher obtains a chapter from a treatise on patent law and wants to include a 1000 word excerpt in the newsletter in addition to other articles. Having already obtained the treatise chapter and its retail control set the newsletter publisher sends an inquiry in a VDE secure container using Internet MIME compliant e mail to the rights and permissions clearinghouse asking for the excerpting right and the anthologizing right for the chapter identified by the enclosed uniform object identifier. The lawyer found the rights and permissions clearinghouse using a secure directory service alternatively the rights and permissions clearinghouse address may be contained in the original retail version received by the lawyer .

The rights clearinghouse checks the object database locates the control set information for the object named in the universal object identifier and determines that both the excerpting and anthologizing rights are available along with the prices for each. The excerpting right does not convey the right to modify the excerpted portion. The anthologizing right is conveyed along with controls that set the price to a 30 discount from retail prorated for the length of an excerpt if the whole chapter is not anthologized.

Using a VDE aware page composition application the newsletter publisher combines several works including the 1000 word excerpt into a new work and registers the new object with the rights and permissions clearinghouse together with its control set s . The newsletter publisher also registers the new object with a copyright registration function for example the US Patent and Copyright Office. The newsletter publisher distributes the new work in a VDE secure container which also contains control sets for each of the separate anthologized works and for the whole complete newsletter as well. The local VDE protected processing environment on the appliance of the user keeps track of usage according to the controls that apply to the composite object and to the controls of each of its parts for which there are separate rules. At some time the VDE instance sends audit records to the usage clearinghouse and to the financial clearinghouse .

Distributed Commerce Utility can support electronic rights negotiations. In one example suppose a professor is creating a course pack a compilation of many different works to be used by students in a particular course that in this example lasts only one semester. In this example the professor sends a VDE secure container with a query to the appropriate rights and permissions clearinghouse and gets back control sets for the digital properties listed in the query. Upon reviewing the permissions and prices the professor notes that a chapter from a book carries a price large enough to make the overall price of the course pack higher than the maximum s he desires.

Using the negotiation mechanisms disclosed in Ginter et al. see for example the professor attempts a negotiation with the rights and permission clearinghouse . The rights and permissions clearinghouse in turn automatically determines it lacks the authority to negotiate and redirects the negotiation to the publisher.

Having obtained an appropriate certificate from a certificate authority by providing credentials indicating membership in the class higher education the protected processing environment of the publisher s Web server makes an offer of a new modified control set for the property targeted for this professor. The controls have a discounted price require that the copies be printed on a VDE enabled authorized printer that will keep track of the number of copies printed and report back to the various parties to the transaction using VDE techniques. Still unhappy with the price the professor sends a VDE negotiation counter offer in a secure container to the publisher. The publisher s VDE instance negotiates with the professor s negotiation counter offer control set and an agreement is reached that and provides a new control set with the new agreed upon prices and terms and conditions to the professor who then goes ahead to produce the course pack. The rights and permissions clearinghouse is willing to grant the reduced price in part because the professor in this example is able to provide a digital certificate attesting to the fact that she has a full time appointment at the University of California Los Angeles and has a certain minimum number of students who will employ the materials. This authentication meets requirements stated by the publisher to the rights and permissions clearinghouse .

One valuable use of certifying authorities is for the issuance of digital certificates on behalf of the government. In addition to issuing certificates attesting to identity legal status etc. government certifying authorities might issue certificates certifying executables for example load modules. For example government certifying authorities at all levels might certify the set of executables that represents the laws and trade practices of their administrative districts. For example Saudi Arabia might insist that all appliances in their administrative control have load modules certified by the government that examine attributes of containers to insure that only appropriate content is released. The State of California might certify a load module that calculates state tax etc.

Distributed Commerce Utility can be used to efficiently and flexibly support models for film distribution to the consumer market. For example suppose that a film and entertainment company such as Disney wants to provide electronic Distributed Commerce Utility to support distribution of its films to consumers . Disney could open a Commerce Utility System itself or it might contract with a neutral third party to provide Commerce Utility Systems on its behalf. The purpose of the Commerce Utility Systems in this example is to support secure pay per view pay per use rental lease and other film distribution transactions to consumers.

The films themselves could be distributed in digitized linear form for example on Digital Versatile Disk DVDs or other high capacity media. Such media would store in addition to the films themselves one or more secure containers including control sets for controlling use of the films. Consumers could play the films using a media player see having a network connection or other back channel e.g. the ability to read from and write to a smart card or the like .

Media player has a protected processing environment such as a secure processing unit for use in managing rights and manipulating the electronic containers. The storage media might also be played by a personal computer equipped with a protected processing environment and a network connection.

Set top box may be controlled by electronic controls distributed on the media and or via the back channel. The controls require the set top box to record customer usage and payment information for each property the consumer decides to view. For example a consumer might place a media such as an optical DVD disk into media player and hit the play button. The consumer s media player might next display e.g. on television set a message telling the consumer how much it will cost to view that particular film e.g. 2.95 and ask the consumer if she wants to proceed. If the consumer answers yes media player will play the film on the consumer s television set recording usage and payment information for reporting to Commerce Utility Systems . The protected processing environment within media player may under secure control of one or more associated electronic control sets delivered to it monitor and collect information that can ultimately be used to ensure the consumer pays for watching the film and to provide a secure usage audit. The secure usage audit may be used for example to allow Disney the film s actors and director and others involved in making the film to securely verify how many consumers watched the film and also potentially to provide demographic information for targeting advertising or the like . For example the media player s protected processing environment may securely collect and record for example the following information within meter billing and or budget audit trails associated with particular controls 

In one example consumers would have to possess a digital certificate issued by an appropriate certifying authority that attests to certain facts. Such a digital certificate can be used to provide a context for the electronic control set s delivered to media player . Such a certificate might need to be present before the consumer would be permitted to play the film and or to prevent the film from playing under certain conditions and or to effect the controls that apply when the film is played.

For example the parents could obtain a digital certificate indicating that the household has children. This child present digital certificate could be used to prevent media player from playing any films other than those that have G PG ratings. Such certificates could be issued by the same organization that provides the other administrative and support services in connection with this example if desired.

The electronic controls provided with a particular film on a media such as an optical disk may also specify a particular value chain disaggregation to be applied in connection with payment arrangements. For example the media player would know from the electronic rules and controls delivered to it that the film distributor studio and the Distributed Commerce Utility are to receive particular percentages of the 2.95 usage fee and that a state government authority must receive a certain tax payment in the form of a sales tax or VAT. Because this information is maintained within the protected processing environment within media player the consumers may never be exposed to the payment disaggregation scheme and or its details. Typically consumers do not care what the distributor cut is as opposed to the studio revenue. The protected processing environment within media player may provide this payment disaggregation locally or through a distributed or centralized financial clearing function as described above. 

Media player can report the usage containment information it has collected on a real time online and or periodic event driven basis. In one example media player may report at the end of each month the information it has collected over the preceding month. It may report collected payment information including disaggregation data provided by the control set to a financial clearinghouse run by Disney or for example such information may be reported directly to clearinghouse . Financial clearinghouse ensures that the consumer s account is appropriately debited and that the various payees e.g. Disney the film s distributor and others in the value chain receive appropriate splits of the consumer s payment. The financial clearinghouse may also provide consumer credit checks and authorizations helping to ensure that the consumer doesn t run up a big bill she can t pay.

Media player may report the usage information it has collected to a usage clearinghouse operated by an independent auditor the film s producer and actors may insist that an independent third party auditor not Disney performs this function or for example may report such information to Disney and or clearinghouse certain of such information may be concealed from Disney if required by rules and controls to ensure other value chain party rights and Disney may not be able to identify alter and or remove such information due for example to VDE protection mechanisms. The usage clearinghouse may analyze the usage data and issue reports indicating total number of views market share etc. Usage clearinghouse may also further analyze the information to provide demographic and or other marketing research information. This type of information can be very useful to advertisers and marketers.

Disney may also operate a rights and permissions clearinghouse . Even though permissions are distributed on the optical media in this example the rights and permissions clearinghouse can provide supplemental control sets for various reasons. For example the control sets distributed on the media may expire on a certain date. Rights and permissions clearinghouse may issue new control sets in lieu of the expired ones. Rights and permissions clearinghouse may also issue permissions to provide sales and or to otherwise change prices e.g. to reduce the price of an older film . Rights and permissions clearinghouse can also issue special permissions e.g. an extracting or anthologizing right that multi media developers or advertisers might be able to request and or for example redistribution rights to certain frames such as an approved image of Mickey Mouse for printing purposes . Disney could pre approve some of these special permissions so that the rights and permissions clearinghouse could automatically provide them on demand. Digital certificates might be used to interact with the permissions thereby assuring that the user receiving the control set is entitled to take advantage of it.

Prior to the inventions disclosed in the Ginter et al. specification the electronic community lacked general purpose reusable distributed peer to peer technologies that could among other things efficiently and effectively monitor and measure usage on the local computer or protected processing environment. Collecting analyzing and reporting usage data provides significant value to rightsholders and to other distribution chain participants to infrastructure Distributed Commerce Utility to customers and to other interested parties. Understanding what has happened can often be a fundamental determinant or contributor to what might or should happen. In addition usage information can be repurposed to support a wide range of other commercial activities including advertising and merchandising models.

Suppose one or more customers in each of several companies have information appliances in this one example such as personal computers with VDE protected processing environments PPEs as described in Ginter et al. Suppose further that over some time period perhaps a month in this example that VDE has been keeping track of detailed usage information and storing this information in the encrypted database on each hard drive on each computer that is a logical extension and under the control of each consumer PPE. These consumers have each been purchasing different combinations of information and entertainment from generally different sources. Each instance of VDE keeps track of usage information according to the controls associated with the content and or service being purchased or otherwise used.

On or shortly after the first of each month and or any other required or if supported allowed reporting intervals each instance of VDE communicates the usage records to the usage clearinghouse according to the controls associated with each of the digital properties they have used during the previous month. In turn the usage clearinghouse provides reports to each of the rightsholders regarding any use of a property during the previous month or other reporting interval e.g. daily weekly quarterly annually etc. .

In one example these reports contain information identifying both the individual customer and the company that employees them. In another example the reports contain detailed usage information but the identities of the individual customers has been removed by the usage clearinghouse . Alternatively both the individual and corporate identities may be removed. Instead the usage information may be aggregated by any one or more certain classes such as by industry geography and or by country and or any other useful classes.

In another useful example a particular company or individual customer may have not permitted VDE subject of course to this right being available through in place rules and controls to communicate identity information to the usage clearinghouse from their information appliances in the first place. The user may have established VDE controls prohibiting disclosure of such identifying information. In another example the user may have used the negotiation mechanisms disclosed in the Ginter et al. application to negotiate additional levels of privacy and confidentiality other than those required in the various control sets associated with the information being purchased or otherwise used by each customer that is the electronic negotiation process generates a modified or new rules and controls set reflecting the additional levels of privacy and confidentiality. In yet another example a rightsholder rights and permissions clearinghouse or usage clearinghouse or other party may have used the same negotiation mechanisms to negotiate through the use of VDE rules and controls sets alternative levels of privacy and confidentiality.

As illustrated in FIGS. and the usage clearinghouse functions that may remove identifying information aggregate data analyze data generate reports and or transmit those reports to rightsholders and other interested parties may exist in one or more logical and physical locations. For example a distributed usage clearinghouse executing on the local computer or other information appliance may perform any or all of these usage clearinghouse functions. One or more usage clearinghouses may exist within a given company or within a given collection of companies comprising a vertical industry healthcare for example trading group or family of companies keiretsu . Similarly these usage clearinghouse functions may be performed by usage clearinghouses within each country or other jurisdiction or defined by any other class and or geographic variable.

Usage clearinghouse may also provide raw data aggregated data and or customized reports to rightsholders distribution chain participants and or other interested parties. These parties include for example content creators publishers repackagers repurposers advertising agencies and their clients trade associations market research and consulting companies circulation audit and audience measurement bureaus the sales marketing and advertising functions of companies with an interest in one or more markets and government agencies.

In another example the usage clearinghouse may also sell information to advertisers indicating exposure to particular ads and or classes of ads by individuals customers within a company and or group of companies markets and or other analysis groupings and categories.

Personal and business confidentiality and privacy are often essential aspects of the modern experience. Individuals may not want others to know with whom they are associating. In many aspects of business firms may not wish to reveal their interest in communicating or interacting or conducting business with other parties. In today s Internet for example it is possible for those with certain kinds of access to determine the nature of queries between a given person and a directory service. Such information may provide important clues regarding existing or pending business arrangements that have not yet been publicly announced a merger or acquisition for instance.

VDE secure containers provide one basis for secure directory services in which confidentiality and privacy are preserved. In one example the Corporation Counsel in a Fortune 100 company wishes to obtain the email address of the investment banker in the firm handling a proposed acquisition but without revealing her interest to anyone else. The attorney sends a query in a VDE secure container to the secure directory service with the name and company of the person she wishes to contact. The secure directory service then sends the response in another VDE secure container back to the attorney. Both the query and the response can make use of certificates issued by the certifying authority authenticating both the attorney and the secure directory service . Payment for the query can be handled by the financial clearinghouse who deposits payment in the provider account of the secure directory service while debiting the account of the company that employs the attorney.

Because these transactions are conducted using VDE and VDE secure containers those observing the communications learn no more than the fact that these parties are communicating. Security analysts have developed techniques for traffic analysis in which the frequency of communications among two or more parties is observed and changes in the frequency of communications are correlated with other information to make inferences regarding the content and or purpose of these communications.

Using VDE and VDE secure containers it is possible to defeat traffic analysis however at some added expense. In this one example the company could send a VDE container to the secure directory service with an empty or null query that would generate in the average amount of elapsed time a return message in a VDE container with a null response. The instance of VDE on the attorney s computer would generate a payment transaction destined for the financial clearinghouse but would aggregate these payment records with others to eliminate correlations between the pattern of queries and payments. While inefficient from a commerce standpoint this method of using VDE and VDE secure containers to defeat traffic analysis attacks can in principle be used among plural parties wishing to hide the pattern of communications among them while taking advantages of the secure trusted efficient distributed transaction capabilities disclosed in the Ginter et al. application.

The various Commerce Utility Systems may be distributed to varying degrees and in varying combinations as illustrated in and A C . In one example shown in an American Fortune 100 company with operations in several countries e.g. the United States Japan and Europe and within many of those in multiple locations within each country has found it desirable to internationally distribute VDE Distributed Commerce Utility . To increase the efficiency of purchasing external information and to maximize its leverage with information providers the company has chosen to negotiate with several providers agreements that treat all purchases as having been made from within the US and being in US dollar currency. In this example the company maintains its own global Intranet . Intranet connects company headquarters HQ shown here as being located within the United States with company US employee electronic appliances US . . . US N company Japanese employee electronic appliances JP . . . JP N and company European employee electronic appliances EU . . . EU N . Intranet also permits each of these employees to communicate with one another. VDE based transactions between the company and its information suppliers are also routed through one or another of the company s US gateways to the Internet.

To provide efficient administrative and support services the company has deployed in each country at least one distributed financial clearinghouse and at least one distributed usage clearinghouse . For example company may operate a financial clearinghouse A and a usage clearinghouse A in the United States a financial clearinghouse B and a usage clearinghouse B in Japan and a financial clearinghouse C and usage clearinghouse C in western Europe. In countries with multiple sites and within the United States several of these distributed clearinghouses may exist. In addition to negotiating agreements with information providers the company may also have negotiated agreements with a large commercial usage clearinghouse and with a major financial clearinghouse . These centralized clearinghouses could be located anywhere and may communicate with company via the Internet and the corporate Intranet . Neither of these clearinghouses are affiliated with the company other than through this business arrangement. Each of the distributed clearinghouses within the company operates under the simultaneous authority of both the company and the external clearinghouses with which the company has a business arrangement.

In this one example a product marketing manager JP employed by this company in Japan acquires a market research report from an American distributor . The report and associated controls are sent from the American distributor to this employee JP in a VDE secure container . The instance of VDE on the manager s appliance JP keeps track of usage and the payment due the information provider. Periodically these audit records are transmitted in VDE secure containers to distributed usage clearinghouse private usage clearinghouse B and to the internal financial clearinghouse B both of which are located in Japan on the company s internal private corporate network or Intranet . From time to time and in accordance with VDE controls associated with the content purchased the private usage clearinghouse B removes in this example individual identifying information in accordance with VDE rules and controls managing protected processing environment processes and sends in a VDE secure container the audit records to the external commercial usage clearinghouse . All of the company s internal distributed usage clearinghouses A B C send periodic communications in VDE secure containers to the commercial usage clearinghouse . In turn the master usage clearinghouse creates and sells licenses and or otherwise distributes reports to rightsholders and other parties e.g. third parties having a commercial interest in obtaining the information in which the identities of individuals are removed and which in many circumstances company names in accordance with VDE rules and control have also been removed.

From time to time and in accordance with VDE controls associated with the content purchased copies of the complete usage records with employee identification information are also sent to the company s master usage clearinghouse HQ which may be located at corporate headquarters as are audit records from all the company s distributed usage clearinghouses A B C. These are then aggregated and combined for further analysis reporting and auditing.

The internal distributed financial clearinghouses A B C also receive audit records in VDE secure containers in accordance with VDE controls sets for the purchased information from each of the VDE protected processing environments reporting to them. Each internal financial clearinghouse A B C aggregates the payments and from time to time sends a VDE secure container with audit records indicating the aggregate sums to be transferred to the information providers as a result of transactions. The company may also provide update information regarding the accounts from which the company s funds are to be transferred and or the provider accounts that are to receive such funds. In turn the external master financial clearinghouse completes these payment transactions and sends audit records back to the company and to the information providers confirming the payment transactions. In the preferred embodiment these activities occur securely under the control of distributed VDE nodes and are automated at least in part through the use of VDE containers and chain of handling and control managing multi nodal multi party sequence of processes. As an alternative example the calculation for the amount of payment and the completion of the payment transactions is performed at the external master financial clearinghouse from usage information received from the usage clearinghouse of course if usage clearinghouse and financial clearinghouse are the same party the financial clearinghouse already has received such information . The external and internal financial might then in this example compare payment information.

This example does not depend on the extent to which administrative and support services are distributed. In a related example the usage and financial clearinghouse functions could have been distributed to each VDE aware protected processing environment as illustrated in and A C. In this example each protected processing environment could report directly to the master external clearinghouses to distributed external clearinghouses and or to internal clearinghouse functions organized differently than described just above for example by continent North America South and Central America Australia Europe etc. rather than by country and company location.

In one further example the corporate headquarters HQ and its associated headquarters based clearinghouses HQ HQ provide a centralized clearinghouse system through which all usage and financial information must flow. In this particular more centralized example all user appliances report their usage and financial transactions to headquarters based clearinghouses HQ HQ in secure containers over Intranet . Company headquarters financial clearinghouse HQ may interface directly into VDE compliant general purpose payment systems that directly support the use of VDE chain of handling and control for ensuring the enforcement of automated secure financial transaction fulfillment in accordance with rules and controls governing payment related variables such as payment amounts parties locations timing and or other conditions. These headquarters based clearinghouses HQ HQ which may function as a single integrated Commerce Utility System in turn may communicate appropriate aggregated and or other audit trail and or payment information to the individual clearinghouses A B C A B C within each country. While less efficient than the less hierarchical example described above this arrangement may appeal to large corporations who wish to exert centralized control over usage and financial information by acting as the central administrator for the provision of credit and or electronic currency to distributed internal financial clearinghouses and by efficiently managing in house collection of transaction related information.

In this example organization A user protected processing environments A . . . A N each have an instance of a virtual distribution environment protected processing environment and can communicate with one another over Intranet A via secure electronic containers . Similarly organization A user electronic appliances B . . . B N each have an instance of a virtual distribution environment protected processing environment and can communicate with one another over Intranet B via secure electronic containers . In addition organization A and organization B can communicate with one another over Internet via secure electronic containers .

Organization A s private trusted transaction authority A may be used for facilitating organization A s internal communications and processes. Private trusted transaction authority A might be used for example to carefully track items sent from one user to another within organization A. The public transaction authority C meanwhile can be used to coordinate between organization A and organization B without for example revealing confidential information of either organization to the other organization. Below are more detailed examples of how the arrangement might be advantageously used to conduct business transactions.

Suppose a confidential memo needs to be approved by users A A and A who can each revise the memo before being distributed to each of users A A A and A none of whom can change the memo with copies to users A A and A who also can t change the memo after all three of them have signed off on it and to no one else. Private transaction authority A can maintain a rule set that specifies these requirements. Transaction authority A can 

Organization A s Intranet might also be used to exchange and or distribute highly confidential design specifications. Transaction authority A can for example maintain in digital form a detailed record of who has signed off on the design specifications thus ensuring personal accountability and providing a high degree of efficiency.

As mentioned above private transaction authorities A B can also provide a firewall function to protect confidential information from escaping to outside of the respective organizations A B. Suppose for example that organization A is an integrated circuit design house and organization B is an integrated circuit foundry. Organization A designs and specifies the circuit layout of a chip producing a tape out that it sends to organization B. Organization B manufactures an integrated circuit based on the tape out and delivers chips to organization A.

Transaction authority can be used to facilitate the above business transaction while protecting confidentiality within each of organizations A and B. For example 

Public transaction authority C could then forward the design specification still within a secure container over Internet to organization B s private transaction authority B .

Organization B s transaction authority B could manage the chip manufacturing process ensuring that all steps and conditions required to manufacture chips in accordance with organization A s design specification are followed.

The transaction authority may assist in forming agreements between the international parties by for example passing offers and counteroffers back and forth in secure containers and using the contract forming techniques described above to establish some or all of the terms and provide non repudiation. Once a contract is formed transaction authority may maintain a master set of rules and controls specifying all the conditions that must be satisfied to complete the transaction and may thus provide consequences for different events. Alternatively once the contract is executed the transaction authority role may be virtual particularly in simpler models that is the value chain rules and controls can be carried by VDE containers whose rules and controls may as a whole specify all processes and conditions that must fulfilled including their sequence of operation. Rules and controls provided by a transaction authority may take international law into account with differing rules applying to different countries. The rules could take into account various import and export requirements and restrictions international tax treaties between nations contain upfront and or ongoing customs related routing and filing requirements identify reputable currency transaction authorities assist in filing contracts or certain contract terms with relevant national and international authorities manage any shipping or other transportation requirements assist in establishing conclusive translation services for contract terms particularly standard terms and conditions manage differences in international certifying authority requirements and formats impose societal regulations required by applicable governing bodies and collect applicable governing body taxes such as taxes for both national and regional governing entities etc. Transaction authority may communicate between the various international parties using secure electronic containers and may securely validate and authentic various event notifications provided by the international parties.

Complex business interactions under the control of a transaction authority may also be distributed within and among for example organizations and or jurisdictions. Suppose a complex international real estate transaction requires participation of several functions within the purchasing and selling companies several financial institutions insurance companies and law firms and perhaps government agencies in a few countries. Suppose further that each of the organizational and individual parties to the transaction has computers that are VDE aware and that within each organization or agency there is at least one distributed transaction authority that performs services for this real estate transaction under an authority granted by a master transaction authority .

In this one example each of the parties to the real estate transaction has contributed commerce rules and parameters representing their business relationships in the form of VDE rules and controls that define each parties role in the overall transaction. For instance the insurance company must insure the property at a value and cost that the purchaser finds acceptable and that is also approved by the mortgage lender s . Also suppose that these transaction VDE rules and controls have already been mutually agreed upon using negotiation mechanisms described in the Ginter et al. application and that the negotiated rules and controls together with the history of negotiating these rules and controls have all been stored at the master transaction authority for this real estate transaction. The most senior transaction authority may be a master transaction authority or might be any mutually agreed upon distributed transaction authority. In this one example we assume the former. In short in short all parties have agreed to the rules and controls that govern the transaction. The negotiation process may have been simplified because the transaction authority may have distributed a distributed template application for international real estate sales the template being based on the transaction authority s past experience or that were created by the transaction authority especially for this transaction as a value added service to its important customers.

Each of the parties to the transaction is according to the VDE control sets that define this atomic transaction responsible for seeing that certain pieces of the transaction are completed prior to the closing and consummation of the overall transaction. In some cases plural parties are jointly responsible for completing part of the over all transaction. For example the buyer and seller must have agreed on a purchase price. In this example they contribute their business requirements including for example their price and other variables and they use the VDE negotiation mechanisms to arrive at an agreement that represents a fair balance of interests. If the electronic negotiation is unsuccessful the parties may directly negotiate or VDE secure containers with audit records indicating failure are sent to the transaction authority who in turn notifies each of the other parties authorized to participate in the overall transaction.

If the buying and selling parties do agree in this one example notification is sent by the VDE protected processing environment that completes the negotiation or receives negotiation completion instructions digitally signed by both parties through the use of VDE techniques to a distributed transaction authority which in turn notifies other parties including other participating transaction authorities that price has been agreed upon. Based on VDE controls for subtransactions VDE may securely notify a party or parties that certain other subtransactions are now to be completed. In this example the title search company may now perform their task an insurance company may now begin negotiations with the buyer for coverage using the VDE negotiation mechanisms. An attorney in the Counsel s office for the purchaser may begin negotiations with his counterpart in the seller s company both in house attorneys may interact with their outside counsel using VDE and VDE secure containers in creating and negotiating the various documents whose execution completes parts or the overall transaction.

In this example each of the parties may have one or more digital certificates issued by the certifying authority to authenticate each of the parties to this transaction and its subtransactions. The financial clearinghouse provides a payment vehicle for various value added services in one example those provided by the transaction authority . The usage clearinghouse collects audit records sent from time to time in VDE secure containers from each of the participating VDE protected processing environments and provides an independent third party audit of these transactions. The secure directory services helps participants locate each other s electronic addresses while maintaining confidentiality and privacy.

As each of the subtransactions is completed a distributed transaction authority within the organization within which the subtransaction is completed notifies the master authority for this transaction of completion of that subtask. According to the previously agreed upon VDE rules and controls sets some or all of the persons participating in the transaction may also be notified by audit records and or messages that are securely sent from and authenticated by at least one participating VDE protected processing environment including for example PPEs at nodes for individuals distributed Commerce Utility Systems a distributed transaction authority and or the master authority for this transaction.

When all the component elements of the overall transaction have completed a transaction authority in this example the master transaction authority for this real estate sale notifies each of the participants and each of the participating distributed transaction authorities that the preconditions have all been met and settles the overall transaction. Optionally the transaction authority may give seller and purchase a last opportunity to proceed to completion or to hold up the transaction.

This one example shows that Commerce Utility Systems including transaction authority may be distributed to intermediate VDE protected processing environments that support one or more Commerce Utility Systems .

Amortizing infrastructure and other resources across many users building critical mass more rapidly than competitors supporting specialization to tailor and deliver the most appealing products and services to customers maximizing negotiating leverage power for purchasing and building the most comprehensive infrastructure to serve as the best one stop resource for a given business activity these are all central concepts in building successful modern businesses. VDE and Distributed Commerce Utility provide a foundation for creating highly competitive and successful cyberspace businesses that demonstrate these attributes. Many of these businesses will reflect the character of the Internet and the World Wide Web. Like VDE and Distributed Commerce Utility they will comprise a distributed community that realizes maximum advantage by supporting electronic commerce partnerships. They will provide different layers of services and complementary products and services and will realize great advantage in coordinating their activities to their mutual benefit.

The Digital Broadcasting Network DBN will be just such an innovative commercial enterprise. Comprised of many different World Wide Web WEB based sites and services DBN participants will gain greater leverage and operating efficiency by sharing resources experiencing maximum buying power generating marketing and customer information and supporting a rational administrative overlay that ties together their many frequently complementary activities. Much like the consistent rules that enable and underlie both the World Wide Web and the design of VDE and Distributed Commerce Utility and layered upon the capabilities of both these architectures the Digital Broadcasting Network employs their inventions to support a highly efficient largely automated and distributed community that maximizes business efficiencies. In a similar manner other examples would include other groupings of entities that function together as Virtual Enterprises e.g. corporations or other organizations . The distributed nature of VDE and the Commerce Utility Systems are particularly important in providing an effective infrastructure for these modern potentially large scale cyberspace business activities.

The Digital Broadcasting Network may function as a cooperative of WEB sites and for example service providers with a central and perhaps regional and logical e.g. market based headquarters groups or it may function as a for profit shareholder corporation in a business model reminiscent of television broadcast companies e.g. NBC or it may function as a cooperative or virtual corporation that has some mix or combination of mixes of the above attributes and employ distributed peer to peer hierarchical and centralized administrative business relationships and activities. In one example a plurality of corporations may join together to provide the advantages of size and coordination with individual participants providing some degree of specialty expertise and the body of entities coordinating together in some fashion in a higher level cooperative or corporation.

In one example the Digital Broadcasting Network may be a single corporation that has many licensed franchisees. The licensed franchisees may comprise WEB sites that serve geographically and or logically specialized market areas and or serve other WEB sites in a hierarchy and or peer to peer context of Distributed Commerce Utility services as described above. On behalf of itself and its franchisees this corporation may for example 

In one example DBN may employ many of the security and administrative capabilities of VDE and many of the service functions provided by the present inventions to manage and automate the distributed relationships and activities that are central to the DBN business model. For example 

Portions or all of specific service functions e.g. as described above may be highly distributed and may operate significantly primarily or even exclusively on franchise and service network web servers.

While the inventions have been described in connection with what is presently considered to be the most practical and preferred embodiment it is to be understood that the inventions are not to be limited to the disclosed embodiment but on the contrary are intended to cover various modifications and equivalent arrangements included within the spirit and scope of the appended claims.


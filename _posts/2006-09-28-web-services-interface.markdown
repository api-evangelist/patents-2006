---

title: Web services interface
abstract: A Call Session Control Function (CSCF) entity in an IP Multimedia Subsystem (IMS) network comprises a first interface for interfacing with other entities and uses signalling in an Extensible Markup Language (XML) format. The other entities that the CSCF interfaces with can be located outside the IMS network, such as servers supporting third party IT or web-based applications, or within the IMS network. The CSCF directs XML based service requests by filtering XML messages received via the first interface.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08782248&OS=08782248&RS=08782248
owner: Rockstar Bidco, LP
number: 08782248
owner_city: Plano
owner_country: US
publication_date: 20060928
---
This invention relates to an IP Multimedia Subsystem IMS communications network and to implementing applications such as web services within such a network.

The IP Multimedia Subsystem IMS is a Next Generation Networking NGN architecture for telecom operators standardised by the Third Generation Partnership Project 3GPP which can provide multimedia services to mobile and fixed terminals. IMS uses SIP Session Initiation Protocol based signalling and Internet Protocol IP connectivity.

A number of CSCF Call Session Control Function entities are used to establish a session within the IMS network and process SIP signalling packets. The CSCF entities are the Proxy CSCF P CSCF Interrogating CSCF I CSCF and Serving CSCF S CSCF . shows part of an IMS network which includes the S CSCF. The S CSCF is responsible for handling registration processes making routing decisions and maintaining session states.

Application servers AS within an IMS network can host and execute applications which provide services. An Application Server interfaces with the S CSCF via an IMS Service Control ISC interface which uses SIP signalling. Services can include call related services such as Call waiting Call holding Call forwarding Call transfer Call blocking services. Applications can also provide services such as notifying a user of particular information such as stock prices or football results. Applications can be provided by the operator of the IMS network with the application being hosted and executed by a SIP Application Server within the IMS network.

Alternatively an application can be provided by a third party service provider external to the IMS network as shown in . An Application Server within the IMS network called an Open Service Architecture Service Capability Server OSA SCS can provide IMS network resources to implement the external service. The S CSCF communicates with the OSA SCS over an IMS Service Control ISM SIP based signalling interface . An OSA gateway acts as an intermediary between the OSA SCS and an Application in the IT environment . Alternatively the OSA gateway can interface directly with the S CSCF . An Application can interface directly with the OSA Gateway via an OSA Application Programming Interface OSA API which typically uses Parlay over CORBA. Application interfaces with OSA Gateway in this manner. For Applications which use XML a Parlay X interface is used and a Parlay X gateway is required. Application uses a Parlay X interface to communicate with the Parlay X gateway . The Parlay X gateway uses a Parlay interface to communicate with the OSA gateway . IT based applications or web based services typically exchange data in an XML format and so the arrangement of gateways shown in is usually required. It can be seen that with the current architecture two gateway elements are required whenever an application which uses an XML based messaging format is connected to the IMS network. This considerably increases the complexity of implementing applications provided by third parties.

The present invention seeks to provide an alternative way of implementing applications in an IMS network.

A first aspect of the present invention provides a Call Session Control Function CSCF entity for use in an IP Multimedia Subsystem IMS network the Call Session Control Function CSCF entity comprising 

a first interface for interfacing with other entities wherein the first interface is arranged to use signalling in an Extensible Markup Language XML format.

The world of IT applications use web services as their interface and as such they are based upon XML signalling. Providing an XML interface on the CSCF which can directly communicate with IT applications avoids the need to use an OSA Parlay X gateway to interface with such applications. This can considerably simplify the provision of applications provided by third parties.

The other entities that the CSCF interfaces with can be located outside the IMS network such as servers supporting third party IT or web based applications. The provision of an XML based interface on the CSCF also has advantages in communicating with other network entities which are located within the IMS network such as other Application Servers other CSCF entities endpoints network databases such as a Home Subscriber Server HSS or parts of the billing system such as a Charging Collection Function CCF .

Preferably the CSCF according to the present invention can direct XML based service requests by filtering XML messages received via the first interface. The IMS network can use inspection techniques at the XML level to provide the necessary complex service routing and logic handling. A further advantage of the present invention is that the IMS network can host a new entity an XML application server. The CSCF acts as an anchor point for persistent session capability for the applications.

XML is a self describing protocol and new network features can be defined via the XML format. Supporting XML at the Call Session Control Function which is the primary entity within the IMS network for any session allows extensive new features to be added to the network with greater ease than is currently possible.

Preferably the transport layer of signalling between the CSCF and other entities especially any external entity is secured such as by using the Transport Layer Security mechanism of IMS or the HTTPS protocol and the content of the signalling messages can be encrypted using various standards based security components such as WS Security or X.509.

The term Call Session Control Function CSCF is intended to refer to any of a Proxy CSCF P CSCF an Interrogating CSCF I CSCF and a Serving CSCF S CSCF . These will be generally referred to as x CSCF.

The functionality described here can be implemented in software hardware or a combination of these. The invention can be implemented by means of hardware comprising several distinct elements and by means of a suitably programmed computer. Accordingly another aspect of the invention provides software for implementing the method.

The software may be stored on an electronic memory device hard disk optical disk or other machine readable storage medium. The software may be delivered as a computer program product on a machine readable carrier or it may be downloaded to the Call Session Control Function via a network connection.

In accordance with this invention the S CSCF also has an XML based signalling interface which allows the S CSCF to communicate directly with network entities which use XML based signalling. The network entities can be other entities within the IMS network such as Application Servers other x CSCF entities or endpoints. Alternatively the other entities can be outside the IMS network such as the Application Server supporting IT Application A as shown in . The provision of interface allows the S CSCF to directly control the provision of a service without the need to use an OSA Parlay gateway . It is preferred that the S CSCF has both the XML interface and the ISC SIP based interface and selectively uses the interfaces as necessary. This allows the S CSCF to perform SIP and XML namespace based access from the same network point.

The XML signalling interface can be used to interface with applications as shown in or to interface with any other network entity that uses an XML format for signalling messages.

The CSCF has a network protocol interface for communicating with other entities within the IMS network. This is typically SIP based but in accordance with the present invention this interface can also send and receive messages in the XML format and forward these to the XML filtering unit for processing.

The XML filtering unit can be used to perform various functions such as routing generating charging information and making operational measurements. One function which the control logic can perform is a Charge Triggering Function CTF . The control logic compares information elements in the received data with stored data billing triggers which are indicative of charging events where charging information should be generated. The inspection process uses a set of rules. When received data matches one or more of the stored billing triggers e.g. a condition specified in a rule the control logic creates an information flow that captures any relevant information and creates an Accounting Request. The Charge Data Function CDF will act on this request to generate a charging record which is typically known as a Charging Data Record CDR . An output function of the Application Server packages the charging information into the required output format. Preferably the Accounting Request issued by the Application Server is compliant to the 3GPP Rf interface standard as defined in 3GPP TS 32.260 3rd Generation Partnership Project Technical Specification Group Service and System Aspects Telecommunication management Charging management IP Multimedia Subsystem IMS charging . 3GPP TS 32.260 also defines how each Accounting Request is acknowledged by an Accounting Answer ACA .

One example of a rule is a simple instruction for the control logic of the filtering unit to look for a particular information element in the received data such as a particular subscriber identity e.g. john nortel.com . A rule can instruct the control logic to look for a particular information element in the received data and to compare the value with a condition such as a limit or a range which is specified in the rule. As an example a rule can specify a number of messages that a user is allowed to send at a particular tariff and a tariff for the message e.g. first ten messages per day free of charge next ten messages per day at a price of X per message .

The Accounting Requests are sent to a Charging Data Function CDF over an interface . The Charging Data Function is a part of the IMS architecture which collates the accounting requests received from the AS and the accounting requests received from other entities such as accounting requests received from the S CSCF . The CDF creates a Charging Data Record CDR and sends it to a Charging Gateway Function CGF . The CGF subsequently issues billing information via an interface to a billing system . The billing system will add a charge to a subscriber s account.

In cases where the comparison process compares the XML data with multiple rules a separate Accounting Request can be generated on each occasion where a rule instructs the control logic to generate charging information. schematically illustrates an alternative scheme performed by the filtering unit at a S CSCF in which the comparison process compares all of the XML data in a particular signalling flow against a set of rules and issues a single Accounting Request which collates all of the charging information which results from the comparison. This can reduce network signalling overheads and the burden of subsequently processing the multiple Accounting Requests. Application XML data is received by the filtering unit . The filtering unit checks the XML data against a set of rules Rule Rule . . . Rule N stored in rules database . On the first occasion when a comparison of a rule with the XML data results in a match a create billing record function is invoked. As an example a rule may state 

In an online charging scheme a user has an account which defines an amount of credit and a check is made in real time whether the user has sufficient credit before granting or denying access to a service. In an online charging implementation of the present invention the S CSCF inspects incoming XML data and compares elements in the XML data with rules using the filtering unit and then generates a Credit Control Request CCR to an Online Charging System OCS . The CCR is preferably sent via the Ro interface as defined in 3GPP 32.360. The OCS will compare the request with the subscriber s available credit and will reply with a Credit Control Authorisation CCA if sufficient credit exists. As the authorised credit is used up or as stored rules are triggered at the filtering unit further credit control requests may be sent from the filtering unit to the OCS . At the end of the session the filtering unit will inform the OCS to allow it to release any unused credit. The OCS is responsible for keeping the Billing System informed of the usage of credit to allow billing records to be generated.

At stage operational rules are checked. In this example a count is maintained of audio messages and a check is made that the current count value is within a threshold limit. At stage personal rules are checked. This may involve communicating with a Home Subscriber Server HSS which maintains details of the subscriber. In this example the personal rules implement a form of online charging. The signalling message includes charging information for delivering the message. The Personal Rules at step check that the user has sufficient credit in their account to deliver the message and then debit the account. At stage a set of IT Application Rules are checked. Finally at stage governance rules are checked. In this example it checks that the IT Application making use of the IMS network is a valid application and counts the number of messages that have been delivered. The Governance Rules may impose a maximum number of messages that the IMS network will deliver from that IT Application.

At each of the stages data can be generated as a result of comparing the received XML data with the rules. The data can be sent after that stage has been completed or the data can be collated as described above. If generated data is destined for different entities e.g. charging information destined for a charging entity operational measurements destined for a network management entity then the generated data can be collated according to which network entity that data is destined.

At some later point during the call session terminal initiates a call hold event. Terminal issues a message instructing a music on hold server to play music on hold to terminal . Message includes XML data which carries an instruction to play an audio message the address of the server which should play the music during the call hold event and charging information. As shown in the XML signalling message is received by the S CSCF. XML filtering unit within the S CSCF receives the message and compares the message with the rules in the rules database. After performing the rules check the XML signalling message is forwarded to the music on hold server . As described in the examples previously the rules check can result in charging information being generated by the S CSCF. In this example it is assumed that the rules allow the XML message to be forwarded to the music on hold server . The music on hold server establishes a bearer path with terminal and begins to play music on hold as shown in .

The invention described above is not limited to providing services to wireless subscribers. Any form of access network wireless wireline or combination of these can be used to connect a user equipment to the IMS network.

The invention is not limited to the embodiments described herein which may be modified or varied without departing from the scope of the invention.


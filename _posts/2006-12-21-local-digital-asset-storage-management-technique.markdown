---

title: Local digital asset storage management technique
abstract: A technique is described for managing the local storage of digital assets, such as audio, (moving or still) pictures, text, executable code and combinations thereof, in the storage device of a user appliance, such as a personal video recorder, set top box, mobile phone or storage server. A digital asset is received that is intended for local storage in the storage device and that has been pushed down from a source. A rank order is assigned to each digital asset stored or to be stored in a storage device that has a finite capacity storage space for storing digital assets. The assigned rank orders of one or more of the digital assets are repeatedly examined and a digital asset having a rank order that is lowest among the examined rank orders may be deleted. Each rank order is assigned based on predefined default ranking rules and user instructions pertaining to one or more of the digital assets that are capable of causing a deviation from the default ranking rules, if any have been provided by the user. A signal may be provided containing executable instructions that can be executed at programmable electronic circuits for performing the above steps. Such a signal may be stored on a storage medium. A system for performing the above steps may include a receiver for receiving the digital assets and a processor for assigning ranking orders and for repeatedly examining the ranking orders and selectively deleting digital assets with low ranking orders.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07680993&OS=07680993&RS=07680993
owner: Tandberg Television, Inc.
number: 07680993
owner_city: Duluth
owner_country: US
publication_date: 20061221
---
The present invention pertains to the management and storage of digital assets such as audio signals moving picture signals still pictures executable code text and the like and combinations thereof e.g. audio visual programs electronic games web pages etc. in the storage device of a user appliance such as a personal video recorder set top box mobile phone or storage server.

Applicant hereby expressly incorporates by reference herein International Patent Application No. WO 002003024036A1 entitled Method And System For Scheduled Streaming Of Best Effort Data published Mar. 20 2003.

A digital asset is a digital representation of information that can be used i.e. moved copied modified rendered or executed. Common examples of digital assets are audio signals such as songs mobile phone ring tones and movie sound tracks image signals such as moving pictures still images fonts and clip art text and other file based data such as news articles databases and spreadsheets and executable code such as computer programs . Digital assets may include different combinations of these items. For example a typical movie may include one or more video programs one or more accompanying audio signals closed captioning text etc. Also more complicated composite digital assets may be created including individual component digital assets.

Absent other controls digital assets are normally amenable to the following types of uses by users copying i.e. making an additional replica of all or part of the digital asset movement i.e. transferring the digital asset from one location to another rendering i.e. converting all or part of the digital asset to humanly perceivable form such as by displaying or reproducing an audible sound modification i.e. editing the digital asset and execution i.e. causing a programmable apparatus to treat the digital asset as executable instructions and to act as directed by such instructions . Digital rights management DRM refers to managing or controlling the use of digital assets. Many different types of controls have been examined including absolutely preventing certain types of uses or permitting certain uses only under certain conditions. For instance it might be of interest to allow a user to watch a certain audio visual program but to prevent the user from copying the audio visual program. This is an expression of the rights that are intended to govern i.e. to be enforced on the audio visual program digital asset. DRM institutes measures to cause apparatuses to be governed by such rights.

Historically information such as audio programming or audio visual programming has been delivered in a broadcast fashion and according to the schedule of a broadcaster. For instance a radio broadcaster would choose live and pre recorded audio such as songs newscasts sportscasts interviews etc. and an appropriate schedule for delivering such audio. Likewise a television broadcaster would choose live and pre recorded audio and video such as television shows newscasts sportscast program guides etc. and an appropriate schedule for delivering such audio and video. Such audio or audio video programming would then be broadcast to all reception capable consumer appliances such as radio receiver sets or television receiver sets strictly according to the schedule of the broadcaster. A consumer desiring to listen to and or watch such programming would have to tune their respective receiver set at the appropriate time to listen to or view a particular audio or audio visual program segment. Herein programming segment means a particular portion of a signal with a definite start and stop time such as a television show radio show commercial etc. If the consumer did not use their radio receiver set or television receiver set at the appropriate time the user would miss all or part of the desired programming segment.

Equipment manufacturers developed consumer playback and recording appliances for playing back and recording audio visual programs such as video cassette recorders VCR s DVD players DVD recorders and personal video recorders PVR which are also commonly referred to as digital video recorders DVR . For example a PVR is distributed under the brand name TiVo by a company called TiVo Inc. located in Alviso Calif. This PVR contains a fixed magnetic disk recording device or hard disk drive. The PVR is connected to the phone network and receives programming segment information i.e. the name of each programming segment the program number on which the segment will appear and the start and stop times of the programming segment in the form of an electronic program guide EPG that can be presented to the user through a graphical user interface. Specifically the electronic program guide is displayed in tabular form on a display device as part of an on screen display. The user can then use simple navigation controls i.e. left right up down select etc. for choosing upcoming programming segments to be recorded. Other PVR s include a combined DVD recorder PVR marketed by Panasonic a company located in Osaka Japan and a combined cable television set top box PVR marketed by Scientific Atlanta a company located in Lawrenceville Ga. This latter set top box appliance also receives tunes demodulates demultiplexes deciphers and decodes decompresses the audio visual programming during normal real time i.e. non recorded playback television viewing by the user.

Not all digital assets are available from a broadcast network. Typically executable code is only available for purchase on a pre packaged storage medium such as a DVD or CD disc or by download from a computer network such as the Internet. Some cable operators do broadcast music but they do not publish broadcast schedules so it is difficult for a user to pre arrange to record a desired song. Furthermore many movies are never broadcasted or are not broadcasted until some later date. Rather such movies are available only or at least initially are available only for purchase or rental on pre packaged stored media such as DVD discs or VCR tapes. The disadvantage to the user of obtaining digital assets by pre packaged stored medium is that there is a delay between the user s desire to use the digital asset which is often spontaneous and the availability to the user of the pre packaged stored medium containing the content.

Many digital asset owners are still reluctant to freely deliver their digital assets via the Internet because they fear that this will encourage wide spread unauthorized copying distribution and use of the digital asset. For instance few movies are legally authorized for delivery to the user via the Internet. In any event even using a typical high speed connection it is generally not possible to deliver the movie for viewing in real time on account of the non continuous or bursty nature of the individual networks that make up the Internet. As an alternative it is theoretically possible to deliver a movie via the Internet for local storage prior to viewing thereby circumventing the burst delivery short coming of the Internet. However delivery of an entire movie which can be on the order of 10 gigabytes total in length depending on the duration of the movie and manner by which it is compressed would nevertheless take on the order of 12 hours assuming a very high average delivery rate of 2 megabits per second via a broadband Internet connection. This delay might not be any shorter than the time it takes the user to visit the local movie rental store and therefore might not offer an attractive alternative for the consumer. This is especially true if the delivery rate for the movie is on average 1 megabit per second or lower which may be more typical for most conventional broadband Internet connections.

Separately network service providers have attempted to respond to consumer demand for a more flexible viewing listening schedule. For example many cable service providers now provide so called video on demand VOD service. In a typical VOD service such as is provided by Time Warner Cable of New York and New Jersey a company located in New York N.Y. the user is provided an EPG which lists certain audio video programming segments that can be chosen by simple on screen navigation controls. Upon selecting a particular audio visual program segment a head end transmitting station attempts to deliver the selected audio visual programming segment to the particular user who selected the program. The user has some playback control functionality similar to a VCR using a remote controller the user can fast forward reverse pause stop and restart a selected audio visual programming segment. However this system has some short comings. First and foremost a communication channel must be available for each specific user who desires to use the VOD service at the same time. This has proved to be a challenge for cable service providers who are also simultaneously trying to deliver traditional broadcast audio visual programming high speed cable modem service and telephone service all on the same communication medium. Second the server and transmission equipment at the cable head end station must be capable of delivering enough copies of all desired audio visual programs that are demanded at that moment. Consider the specific problem of a very popular movie that has just been made available on a certain Friday night starting at 5 00 pm. If the demand is extraordinarily high for that particular movie many consumers will attempt to demand the same movie simultaneously albeit with slight time differences between the respective viewers. For instance if the most popular time for watching a movie is between 7 00 and 8 00 PM it is quite possible for one user to demand that the movie start at 7 00 sharp another at 7 05 and 30 seconds another at 7 17 and 25 seconds etc. Thus the server and transmitter equipment must be able to deliver each of these multiple copies of the movie at the requisite demanded time. More often than not these constraints of the network prevent fully flexible delivery of VOD or curtail the number of different audio visual programming segments that can be offered to the user at any one moment in time.

Yet another solution has been provided for delivery of VOD service to the user which attempts to leverage all of the benefits and circumvent all of the short comings of the various networks and consumer appliances mentioned above. Specifically MovieBeam Inc. a company located in Burbank California has provided a unique VOD solution that is achieved using special PVR like player appliances available to the consumer user and a head end broadcast service for distributing audio visual programming segments. The system works as follows. The consumer user can purchase the player appliance from a store. The player appliance has an antenna that is capable of receiving a VHF or UHF signal a modem jack for plugging the player into the user s phone line and audio video output jacks for connecting to a television set and loud speakers. Internally the player has a high capacity fixed magnetic disk. At the time of purchase the magnetic disk has already been pre loaded with the most current selection of movies available to other consumer users of the MovieBeam service. The user connects the player appliance to the user s phone line to a television antenna and to the user s television and sound system. Immediately the user can access any one of the pre recorded movies on the player appliance for playback with full navigation controls e.g. reverse fast forward pause stop and restart . Meanwhile new movies are broadcast from a terrestrial broadcast head end station via the VHF or UHF channels which are received by the user s player via the antenna. This broadcast and replacement occurs without request by the user and more or less continuously over time and invisibly from the perspective of the user the user need not perform any action to initiate the replacement of movies. This unsolicited delivery of information from a source the head end station to a destination the player is referred to as a push delivery model. The replacement of existing movies on the player appliance by the new movies refreshes or rotates the selections available to the user.

As a business model the user pays a fee to purchase the player appliance e.g. 199 plus a rental fee of e.g. 1.99 4.99 per movie rented. The player communicates customer usage i.e. the individual movie rentals to a central billing facility via a modem built into the player and the telephone connection to the player. The player is delivered with 100 different movies and movies are replaced at the rate of about 10 movies per week.

It is desirable to provide a system that facilitates the local management of digital assets e.g. in a push model delivery system such as the MovieBeam system. However the invention is amenable to other kinds of networks and consumer end user appliances such as cable networks and set top boxes and cellular networks and mobile phones.

A technique is described for managing the local storage of digital assets such as audio moving or still pictures text executable code and combinations thereof in the storage device of a user appliance such as a personal video recorder set top box or mobile phone. A digital asset is received that is intended for local storage in the storage device and that has been pushed down from a source. A rank order is assigned to each digital asset stored or to be stored in a storage device that has a finite capacity storage space for storing digital assets. The assigned rank orders of one or more of the digital assets are repeatedly examined and a digital asset having a rank order that is lowest among the examined rank orders may be deleted. Each rank order is assigned based on predefined default ranking rules and user instructions pertaining to one or more of the digital assets that are capable of causing a deviation from the default ranking rules if any have been provided by the user. A signal may be provided containing executable instructions that can be executed at programmable electronic circuits for performing the above steps. Such a signal may be stored on a storage medium. A system for performing the above steps may include a receiver for receiving the digital assets and a processor for assigning ranking orders and for repeatedly examining the ranking orders and deleting digital assets with low ranking orders.

An illustrative embodiment of the invention is an electronic appliance that receives digital assets by a push delivery model and stores such digital assets. However the invention is not strictly limited to the push delivery model and also applies to a pull delivery model in which the destination must issue a request to a source in order to cause the source to transfer information to the destination or a hybrid of the two models. Also the invention is illustrated for an appliance that only receives digital assets namely an appliance that is strictly a playback device. However the invention also applies to appliances that function as local servers i.e. which receive and store digital assets for later transfer to yet other appliances for storage playback and or rendering. The invention is also illustrated for a network in which digital assets are primarily transmitted by RF or microwaves in a broadcast fashion to all consumer appliances within the range of coverage of the transmitting tower s or satellite s . The invention is specifically illustrated for an ATSC compliant terrestrial broadcast signal. However the invention applies to other terrestrial broadcast signals such as DVB T or DVB H compliant signals and other types of wired and wireless broadcast signals such as DVB S DVB S2 and DVB C compliant signals. Likewise the digital assets in the description below illustratively are movies possibly also including coming attractions textual descriptions etc. However the digital assets can also be of any type including audio signals still images readable text databases spreadsheets executable code games web pages etc. Also the invention furthermore applies to other types of appliances such as mobile phones set top boxes or personal digital assistants. Transmission of digital assets can also be achieved by the following standards IEEE 802.11a b g or 802.11n WiFi 802.16e WiMAX CDMA GSM TDMA etc.

The MPEG 2 Transport Stream may be modulated and transmitted from the head end station to the consumer terminals in other ways. For instance the signal may be modulated using an OFDM modulation according to the DVB T or DVB H standards and transmitted terrestrially via the antenna . The signal may be QPSK modulated according to the DVB S standard and transmitted partly through space via a satellite dish and satellite not shown . The signal may be QAM modulated according to the DVB C standard and transmitted by a cable plant . The signal can also be modulated according to the V.92 standard or ADSL standards and transmitted via a telephone line . The signal may also be OFDMA modulated according to the IEEE 802.16e standard and transmitted via the antenna . Other wireless transmission possibilities include those that accord with GSM TDMA CDMA and or 802.11a b g or 802.11n. An antenna such as antenna a wireless NIC or other suitable structure may be used for this purpose.

If necessary the appliance can also have another front end circuit for transmission and also reception for example a modem analog front end. The modem analog front end circuit might communicate in a bidirectional fashion over a telephone network or a cable network . Illustratively the modem analog front end modulates and demodulates signals according to the ITU T V.92 Standard.

The demodulated signal illustratively is a sequence of MPEG 2 Transport Stream packets that make up the MPEG 2 Transport Stream transmitted via the channel to the receiver appliance . These Transport Stream packets are provided to a processor circuit which demultiplexes the Transport Stream packets carrying the digital assets recovers the IP packets carried in these demultiplexed Transport Stream packets that contain the digital assets and stores the recovered digital assets in a memory such as a fixed magnetic disk . Alternatively one or more of the digital assets may be stored in another type of memory such as the flash memory or the DRAM . To that end the processor transfers the data of the digital assets for storage via the bus to the appropriate memory or . The processor can also perform all of the functionality necessary for VOD playback including 1 providing on screen displays and or audio cues to a user and responding to instructions provided by the user e.g. via a remote control or operation panel to achieve a graphical user interface control for the user 2 retrieving digital assets from memory or 3 decrypting or deciphering the digital assets 4 decoding or decompressing the digital assets 5 enforcing rights or other controls associated with managing or controlling the usage of the digital assets 6 using the digital assets consistent with the rights including rendering the digital assets and 7 transmitting information via the modem front end .

Illustratively the processor is a programmable circuit whose operation is controlled by executable instructions or code located in one of the memories and or . Also if desired a smart card reader may be provided for accepting smart cards or other solid state removable media. A smart card is a storage medium which may be used to store keys or other messages used for protecting confidentiality or protecting integrity of digital assets. For example the smart card might store private keys that can be used to decipher the digital assets. If not provided by smart card such keys or other messages may be stored elsewhere e.g. in a tamper proof portion of the flash memory .

Two rendering devices are shown attached to the appliance namely a display for displaying images and a loudspeaker for reproducing sounds. Other rendering devices may also be provided such as a printer. The display may be virtually any display device suitable for viewing images such as a cathode ray tube liquid crystal display panel plasma display projection display light emitting diode display organic light emitting diode display etc. In the case of an appliance that is also a mobile phone or personal digital assistant the display and loudspeaker might also be incorporated into the appliance .

Illustratively the appliance efficiently manages the storage of digital assets in the memory and or . shows a hierarchical environment in which the invention operates. Illustratively the invention may be implemented by executable code stored in one of the memories or and executed by a programmable device such as the processor . Such code illustratively is incorporated into the zBand Client software code module which is available from TANDBERG Television Inc. Illustratively the module manages the receipt and storage of information. Illustratively the module is modified to achieve the inventive functionality described below. Illustratively if implemented by software the appropriate software code for achieving the inventive functions described below is initially delivered with the appliance from the factory. Alternatively the software code of the invention may be pull delivery model downloaded by the appliance from a private network or Internet source of the executable code via the telephone path or pushed down from the head end station and then stored in the appropriate memory and or . Software upgrades can also be delivered by pull delivery model download or push model broadcast or both .

The interaction of the modules of is as follows. MPEG 2 Transport Stream packets containing IP packets are received at a hardware layer specifically a demodulator and demultiplexer . As noted above demodulation can be performed by the front end or and MPEG 2 Transport Stream demultiplexing can be performed by the processor . Illustratively in the demultiplexing operation the processor performs a type of packet identifier or PID filtering according to which the PID field of each Transport Stream packet is examined and only those Transport Stream packets labeled with one or more PID values of interest are retained. The IP packets are recovered from such retained Transport Stream packets and the recovered IP packets are processed by a well known IP stack which is supplied with the operating system of the appliance . Illustratively the operating system can be any one of the Linux Windows CE Windows XP or VxWorks operating systems executing on the processor . Once processed the digital asset can be stored in one of the memories or .

As shown the module communicates with a graphical user interface via extensible markup language application programming interfaces XML API s . Through this communication the user can control or adjust certain parameters described below which vary the manner by which digital assets are retained in and deleted from the appliance in the memory or and their priority of retention. The module also communicates with other middleware via XML API s. Through this communication the module can cause the middleware and operating system to manage the storage space in the memory or in accordance with the user s parameters and other default rules as described below. Also shown are a video player and DRM kernel . The DRM kernel enforces the rights and controls that govern usage of the digital assets. Illustratively for the sake of increasing security the DRM kernel is partly implemented at the hardware layer . The video player includes the decoder decompressor for the digital asset and also achieves playback control i.e. reverse fast forward play pause stop restart etc. . The following is a sample list of decompression processes that can be performed on the digital assets by the processor JPEG JFIF MPEG 1 Video MPEG 2 Video MPEG 4 Video MPEG AVC ITU T H.264 VC 1 MPEG 1 Audio including so called MP3 MPEG 2 Audio MPEG AAC Dolby AC 3 DTS HD DTS SDDS ATRAC Meridian Lossless Packing LPCM DVD Subpicture Decode according to the DVD Video Standard Zip etc.

Given this background description preferred embodiments of the present invention will now be described. It will be understood of course that these embodiments are described by way of example only and do not limit the scope of the invention.

Fundamentally the present invention operates based on a system of caching i.e. locally storing in a particular storage space or cache files on a storage system box such as the appliances where the files are pushed or pulled to the box using rules set by a combination of the service provider and the local user e.g. the owner renter of the box. The cache used in accordance with the present invention is advantageously a locally provisioned fixed sized partition of a memory such as the fixed magnetic disc dedicated to the storage of digital assets in an on demand system. This cache is advantageously designed to maximize the relevance to the user of the digital assets currently stored therein. In addition the cache is thereby designed to ultimately increase and desirably maximize the revenue associated with the consumption of the digital assets. In other words if the cache is designed to store at least those digital assets that the user most especially wishes to consume the user will be pleased to be able to rent those items which best please him or her and the provider will garner increased revenue as the user increases the number of rentals and purchases. Thus the cache system of the present invention is most truly a win win system.

The cache system in accordance with the present invention provides additional advantages. For example the service provider can receive feedback as to which digital assets the user rents and may therefore be in a better position to offer more desirable digital assets tailored to that user s interest. Because the user is not obliged to rent any of these digital assets there is no downside to this tailored offering.

While the particular setup of a cache system in accordance with the present invention will of course vary depending on the overall system within which it resides it is still possible to establish certain requirements and or goals to be met by the cache system. Some of these requirements goals may be summarized as follows 

 1 The cache advantageously should have a fixed size set by the user. For example if the user chooses to store 100 movies or only 10 movies at a time in the cache this should be at the user s option.

Generally the cache storage is set to be a fixed size local storage partition in the storage box for example 100 Gbytes. As the user removes digital assets from the cache or as digital assets are automatically removed after e.g. a defined elapsed time without being rented this fixed size can provide information to the provider to know when more digital assets can be pushed down. Alternatively the provider need not necessarily know when no more digital assets can be pushed i.e. when the cache is nearly or completely full .

 2 The cache must prevent other applications within the overall system from using its allocated space. This could be achieved for example by initially filling the cache with dummy data. As digital asset data is received it would replace the dummy data. Even without any further security measures this would generally be effective because the other applications can thereby be made to consider the cache to be full and or difficult to overwrite. The other applications would therefore simply look for other areas to utilize.

Of course more powerful security methods may be used if deemed appropriate or desirable. Moreover the system box itself generally includes powerful security methods such as smart cards encrypted hard discs a tamper resistant housing and the like.

 3 The cache can advantageously be optimized for an embedded storage system i.e. a special purpose device such as a set top box PVR or cell phone. The cache is illustratively not deployed in a general purpose device such as a PC so that a user will not be able to add his own programs to the storage system. As a result storage areas in the memory can be pre allocated for a variety of purposes as appropriate before the storage system box is shipped out to the user. Therefore because dynamic storage need not be used the system control knows where pre allocated storage for a particular use is located in memory and the size s of this pre allocated storage.

 4 The cache can be operated to minimize file fragmentation. For example defragmentation programs are well known that operate to combine separated portions of files or other blocks of data that are intended to be contiguous sequences. As is well known in the art fragmented files are files that have been divided into multiple fragments that are dispersed at least partially randomly over the logical storage space. Fragmentation may occur intentionally or it may be the result of rewriting damaged areas of the file into new areas. Defragmentation naturally is the gathering into a sequential arrangement each of the sets of fragments that constitute the file so that the defragmented file now covers a contiguous unbroken area of the logical storage space. It may often occur that the defragmented file runs more efficiently than its fragmented version. Such defragmentation programs may be run in the background.

More importantly however the provider may be set up to push down a e.g. 7 Gbyte digital asset at a designated time. The cache can be controlled so that it is aware of this coming push down sufficiently in advance that it can set aside a continuous or sufficiently continuous storage area to receive therein this 7 Gbyte digital asset at the designated time thereby avoiding unnecessary fragmentation problems. As will be described below it may be necessary for the cache to delete certain low ranking digital assets in order to clear this 7 Gbyte storage area. Therefore because the cache is aware of the designated time it also knows that it does not have to delete the low ranking digital assets i.e. set aside this 7 Gbyte memory space until that time. Such a just in time set aside maximizes the availability of the digital assets which again improves cache memory management.

 5 Closely related to point 4 is that the cache is able to provision i.e. set aside known quantities of space for incoming digital assets. This can be done for large digital assets such as discussed in point 4 but it is also advantageous in providing for the orderly arrangement of standard sized or relatively small digital assets.

 6 The cache can be programmed by the user or by the XML API for pinning i.e. to retain certain digital assets regardless of the passage of time until that digital asset is expressly deleted or expired.

 7 The cache is programmed with ranking rules for the provided digital asset. These ranking rules control how the digital assets are stored and or deleted and can include both default ranking rules and overriding ranking rules. This subject is discussed more fully below.

 8 The cache may be programmed to be partitioned for different content types. For example one portion of the cache e.g. 20 Gbytes may be set aside for promotions and advertising for upcoming movies while another portion of the cache e.g. 80 Gbytes may be allocated for the movies themselves. Other sized or additional partitions are possible depending on the circumstances.

 9 Also similar to point 4 above the cache may be programmed for just in time delivery i.e. the memory space for a particular digital asset is set aside just before that digital asset is provided. More specifically the just in time delivery operation involves allocating space in the finite capacity storage space for storing a particular digital asset as that digital asset is received so that the space for storing portions of the digital asset is allocated just in time relative to the receipt of each such portion of the digital asset. Thus the space for this digital asset is not monopolized too soon i.e. an older digital asset that may end up being deleted when the new digital asset is received will remain available for use up to the very moment that the new digital asset is received. This is desirable to the user since he has the option to rent the older digital asset for a longer period of time and also helps optimize the rate at which the user rents movies because the service provider does not want to keep old movies sitting around too long nor does the service provider want available memory space unused.

 10 In the case that the cache is in an appliance that also functions as a PVR the cache can be programmed for a local push of digital assets into the cache. That is instead of the service provider pushing down digital assets directly to the cache the user first records generally broadcast digital assets into the PVR. Then with permission a PVR recorded digital asset can be moved from the PVR to the cache. The software can be reconfigured such that only a portion of the cache is available for locally pushed digital assets.

 11 As noted above DRM software is provided in the appliance to protect rights in the different digital assets. Examples of DRM software are the Encryptonite System DRM available from SecureMedia a company having offices in Boston Mass. San Francisco Calif. and Auckland New Zealand and Microsoft DRM available from Microsoft Corp. a company located in Redmond Wash. The cache can be programmed to operate in accordance with conventional DRM software and can be adapted to operate in accordance with new versions of DRM software as it is developed.

 12 Advantageously the cache will support a download into the cache i.e. where a particular digital asset is delivered by a pull down delivery model.

 13 Advantageously the cache will also support a Multicast Push into the cache wherein the provider multicasts the same digital asset s to a group of storage systems e.g. all of the storage systems having a particular subscriber level. Such multicasting may be over a network such as a network of interconnected nodes.

 14 Advantageously the cache can enforce the fact that a digital asset may be limited by a time based contract i.e. one having an expiry so that this digital asset is only available until a certain time date. After this time date the cache must delete this digital asset to comply with the contract.

Having described various features of the cache itself it should be noted that digital objects stored in the cache are files groups of files and or meta data. The meta data may include for example text ratings genre descriptions web links and the like. In this context program segments are generally not considered to be files but rather can be groups of files.

As mentioned above advantageously the cache normally operates in accordance with default ranking rules that determine over time which digital assets are held in the cache and which digital assets are deleted. The default ranking rules should be set on the head end and be announced to the users in a service announcement or other initial setup announcement . The default ranking rules could then only be overridden or ignored if either the service provider changed the default ranking rule or if the user were provided with the authorization for example with a plug in to override the default ranking rules.

Advantageously the default ranking rules would include the following factors for a particular digital asset 

 b Is the digital asset currently being browsed e.g. is the user reviewing promotional material related to the digital asset that might lead him to rent the digital asset Do Not Delete pin until the end of a relevant period of time 

 d Did the provider require the digital asset be placed in the cache ranking falls with age at the highest rate

 e Has the user marked this digital asset as a Favorite this digital asset is ranked higher by default ranking falls with age at lowest rate

 f Did the user request download of the digital asset but not yet rent it rank falls with age at intermediate rate

The following proposal for a default ranking scheme represents a preferred scheme yielding advantageous results as described above. It will be understood or course that other schemes may be used in appropriate circumstances using some or all of the present scheme s features and or incorporating new and different features to meet the requirements of new or differently arranged systems.

The following is an example of how a collection of digital assets program segments might be stored in the cache including rules for calculating the rank of a particular digital asset program segment and rules for retaining deleting the digital asset program segment based on its rank. As used herein the term rank ordering of a particular digital asset will be understood to mean the relative rank of that digital asset in the context of the other ranked digital assets. Of course other management examples are possible depending on the context and circumstances.

1. On a scheduled basis given a system configuration parameter for the client default every 3 minutes all program segments will be ranked

5. When a user browses the program segment details e.g. previews promotional material the program segment will be re ranked

Advantageously in accordance with the principles discussed above the cache will be reviewed for possible deletions when a program segment is about to be transmitted. The lowest ranking program segments in the cache will be deleted in order until enough room is available to receive the new program segment providing the incoming program segment is not ranked lower than any of the cached program segments. Program segments pinned in the cache will not be removed from the cache by anything other than a user request with confirmation .

CacheTarget DirPath Size 0 or more parameters that describe a separate cache. The default cache will be the Client s Storage folder. Each additional cache will be treated with the above rules independently e.g. CacheTarget Storage Meta Files 1000

CacheRankingPeriod Seconds The duration of time it takes for a cache ranking to be reduced by 100 in the rankings. Default is 7776000 seconds or 90 days. Digital assets older than this in the cache will be treated as less relevant.

The interface to the cache may be an agent interface provided using the XML protocol delivered using an HTTP request. The cache will not permit third parties to add digital assets unless directed through the agent interface. All files in the cache will be in a human readable folder and file structure with proper extensions to permit the management by a third party digital rights management system. Any content added to the cache by a third party will be removed by the cache management system. Given that this cache is designed to work in conjunction with a digital rights management system users will be able to remove and or copy contents from the cache if they have access to the native file system.

The information about the digital assets in the cache will be kept separately from the digital assets themselves and will be in a form that is accessible to third parties through the agent interface.

In addition to the above described embodiments and features many other features of the present invention may be employed in different contexts and in different combinations to supplement and or replace certain of the above described features.

For example a method for managing the storage of digital assets in a storage device may comprise the steps of 

 a receiving a digital asset intended for local storage in a storage device that has been pushed down from a source the storage device having a finite capacity storage space for storing digital assets 

 c repeatedly examining the assigned rank orders of one or more of the digital assets stored in the storage device and selectively deleting a digital asset having a rank order that is lowest among the examined rank orders 

wherein each rank order is assignable based on predefined default ranking rules and user instructions pertaining to one or more of the digital assets that are capable of causing a deviation from the default ranking rules.

This method may further comprise the step of enabling one or more uses of the non deleted digital assets by a user. Such enabled uses include one or more of presenting in a directory listing an indication of availability of at least part of the non deleted digital asset for use rendering at least a part of the non deleted digital asset executing at least a part of the non deleted digital asset modifying at least a part of the non deleted digital asset transferring at least a part of the non deleted digital asset to another medium and copying at least a part of the non deleted digital asset.

In the present invention at least one of the digital assets may include one or more of an audio signal a moving picture signal text executable code and a still image. At least one digital asset may be stored in compressed form in a form secure from unauthorized use or both and the storage in a form secure from unauthorized use may comprise storage in encrypted form.

As noted above a method in accordance with the present invention may comprise the step of pulling down at least one digital asset for storage at the storage device.

A method in accordance with the present invention may further comprise at least one of the following steps 

 a responsive to a user indication corresponding to the storage capacity of the finite capacity storage space allocating a fraction of the total capacity of storage space of the storage device to be used for storing digital assets 

 b preventing access to the storage space allocated for storage of the digital assets by at least one other device or application 

 c using a local embedded file system for storing and retrieving each digital asset stored in the finite capacity storage space 

 e for each received digital asset intended for local storage that is to be stored on the storage device allocating a part of the finite capacity storage space for storing the received digital asset if possible 

 f receiving an indication from a user to assign a rank ordering to a digital asset that prevents deletion of the digital asset 

 g receiving a new set of rules to be used in place of the predefined default rules for assigning rank order to a digital asset 

 h partitioning the finite capacity storage space into plural partitions where each of the partitions is for storing a different type of digital asset 

 i allocating space in the finite capacity storage space for storing a particular digital asset as that digital asset is received so that the space for storing portions of the digital asset is allocated just in time relative to the receipt of each such portion of the digital asset 

 j only enabling use of a particular digital asset that accords with rights permitted for such digital asset 

 l receiving at least one composite digital asset comprising a group of one or more component digital assets and zero or more metadata.

In accordance with the present invention the default ranking rules may comprise one or more of the following 

 3 reducing a ranking order of a digital asset based on a duration during which the respective digital asset has been stored in the storage device 

 4 ranking a digital asset as being in a group of digital assets last to be deleted amongst delete able digital assets responsive to a user indication that the respective digital asset is a user s favorite 

 5 reducing a ranking order of a digital asset by a smaller amount than other digital assets whose rank is reduced if the respective digital asset was pulled down but not used and

 a initially assigning a default numerical rank RANK as indicated by a source of a digital asset wherein a larger value of RANK has a higher ranking order and wherein delete able digital assets are deleted in order of lowest numerical rank 

 b if the respective digital asset is purchased increasing the value of RANK to a default highest permissible value 

 c if the respective digital asset is rented for a certain rental time period increasing the value of RANK to the default highest permissible value until the expiration of the rental period 

 d if the user has browsed the respective digital asset then increasing the value of RANK to the default highest permissible value for a certain period of time following the browsing of the respective asset 

 e responsive to a user indication that the respective digital asset is a user s favorite increasing the value of RANK to a value that is less than the default highest permissible value 

 f if the digital asset was pushed down by the source then reducing the value of RANK for that respective digital asset according to the formula RANK RANK otherwise reducing the value of RANK for that respective digital asset according to the formula RANK RANK where 

In accordance with the present invention rank orders may be assigned to one or more digital assets according to at least one of the following events 

 1 after the elapse of each successive time period of a certain duration all digital assets stored on the local storage device are ranked 

 2 assigning a rank order to a particular digital asset immediately preceding transmission of that respective digital asset from the source 

 3 assigning a rank order to a particular digital asset immediately upon completion of transmission of that particular digital asset 

 6 assigning a new rank order to a digital asset responsive to a user indication that the respective digital asset is a user s favorite.

Furthermore the examination of the assigned rank orders of one or more of the digital assets and the selective deletion of a digital asset having a rank order that is lowest among the examined rank orders may comprises the following alternative steps 

 1 if there is sufficient spare capacity in the finite capacity storage space for storing a new digital asset to be transmitted then the new digital asset is stored without requiring deletion of the digital asset having a rank order that is lowest among the examined rank orders or

 2 if there is insufficient spare capacity in the finite capacity storage space for storing a digital asset to be transmitted then deleting at least the digital asset having a rank order that is lowest among the examined rank orders.

In accordance with the present invention a method may comprise the step of receiving a command from a user to configure the management and storage of digital assets including at least one of the following commands 

 1 a command for designating additional storage space for storing digital assets including an indication of a location of the additional storage space and a storage capacity of the additional storage space 

 2 a command for changing the storage capacity of the storage space of the local storage device for storing digital assets and

 3 a maximum storage duration threshold used for reducing the rank order of digital assets stored on the local storage device.

The above description has been given in terms of systems options and features of the present invention which may advantageously be used in general apparatus and methods forming embodiments of the present invention. The flowcharts of illustrate exemplary general methods in accordance with the present invention although of course many variations and combinations are also fully described and supported by the present specification.

If step S determines that no new digital asset has been received the method proceeds to step S wherein it is determined whether or not it is an appropriate time to re rank and or delete digital assets already in the cache. If step S determines that the time is appropriate then the re ranking deleting operation takes place in step S. The operation of step S is also described more fully below in connection with the method of .

On the other hand if it is not an appropriate time for re ranking deleting then the method returns to step S to again determine if another new digital asset has been received. Each time step S determines that a new digital asset has not been received the method moves to step S to determine whether or not it is an appropriate time to re rank and or delete digital assets already in the cache.

Thus the method of is a continuous method keeping track of all incoming digital assets and maintaining the cached digital assets in their proper ranking.

As with the method of the method of accommodates the continual reception of digital assets and updating of the respective ranks and therefore this general method does not have a unique starting step. It is however convenient to describe the method beginning with step S wherein it is determined whether it is an appropriate time to re rank and or delete certain digital assets stored in the cache as in step S of the method of . As noted in the specification above such ranking deletion may be scheduled to occur at predetermined intervals or may occur in response to a specific event in the life cycle of one or more of the digital assets or in the method. For example as discussed above a particular digital asset may be rented for a certain period of time and at the end of that period its ranking will be changed. Step S is to be interpreted as covering any or all of these different circumstances triggering the re ranking deletion of cached digital assets.

Parallel to step S is step S wherein it is determined whether or not a new digital asset is received by the cache as a result of e.g. a push by the provider or a pull by the user as in step S of the method of . In the method of a negative answer in either of steps S and S results in a check of the other step whereby the method waits until a triggering event for ranking deletion occurs. However in response to a positive answer in either of steps S and S the method moves to a series of steps to determine what action by the user is to be taken with regard to a relevant digital asset and accordingly what rank that digital asset shall have or whether it should be deleted. One difference in processing may be that after a positive answer in step S only the new digital asset is processed while after a positive answer in step S all the cached digital assets are processed. In the embodiment of all cached digital assets are processed in each case. It should further be noted that the steps described below for the different user actions may be considered in any appropriate order as the user actions are individual and in most cases mutually exclusive at any one time.

In the following discussion of the method of it will first be assumed that a positive answer has been received from step S i.e. a new digital asset has been received.

In the exemplary embodiment of a yes answer in step S moves the method to step S wherein it is determined if the digital asset has been purchased P by the user. If the answer is yes the method moves to step S wherein the digital asset is given the highest possible ranking e.g. 1001 and is indicated as permanently pinned i.e. stored in the cache. The method then moves back to the combination of steps S and S.

If the answer in step S is no the method moves to step S wherein it is determined if the digital asset has been rented R by the user. If the answer is yes the method moves to step S wherein the digital asset is given the highest possible ranking e.g. 1001 and is indicated as pinned for a predetermined rental period. The method then moves back to the combination of steps S and S.

If the answer in step S is no the method moves to step S wherein it is determined if the digital asset has recently been or is being browsed B by the user. If the answer is yes the method moves to step S wherein the digital asset is given the highest possible ranking e.g. 1001 and is indicated as pinned for a predetermined browsing period. The method then moves back to the combination of steps S and S.

If the answer in step S is no the method moves to step S wherein it is determined if the digital asset has been designated as a Favorite F by the user. Such a designation means that the user does not as yet wish to purchase the digital asset but wishes to keep it around longer than other digital assets of lesser interest for future renting and or purchase. If the answer is yes the method moves to step S wherein the digital asset is given a medium high ranking e.g. 800.

In the embodiment of the determination of Favorite status is the final determination of special status for the new digital asset. If the answer in step S is no then the new digital asset receives no special status and is given a set ranking e.g. 500 in step S. Of course the server may override this set rank with a determined value for the set rank at this step. In a possible alternative embodiment the method may determines after step S that the processing began from step S i.e. only one new digital asset is being processed and move back to the combination of steps S and S. In the embodiment of the method moves to step S.

It will be understood that in variations of the method of this designation of set ranking can occur after whichever of the alternative special statuses is the last to be determined. Alternatively the new digital asset could be given this ranking or a different ranking by the provider before the digital asset is even sent or it could be given the this or other ranking upon reception by the user end. The new digital asset could also be given the set ranking at any point in the status evaluation provided that the method steps are constructed to finish with the digital asset having the intended status.

In the following discussion of the method of it will now be assumed that a positive answer may have also been received from step S i.e. the method has determined that it is an appropriate time to rank re rank or delete certain of the digital assets already stored in the cache. All of the above comments will apply to this second run through of the method of except where particularly noted or necessarily required. This second run through applies the method steps to each of the cached digital assets in turn as appropriate.

In the exemplary embodiment of a yes answer in step S again moves the method to step S wherein it is determined if the digital asset has been purchased P by the user. It is to be remembered that a digital asset may previously have been received and cached as a rented browsed favorite or standard digital asset without having been purchased. If the answer is yes the method moves to step S wherein the digital asset is given the highest possible ranking e.g. 1001 and is indicated as permanently pinned i.e. stored in the cache. The method then moves back to the combination of steps S and S for consideration of the next digital asset.

If the answer in step S is no the method moves to step S wherein it is determined if the digital asset has been rented R by the user. It is to be remembered that a digital asset may previously have been received and cached as a rented browsed favorite or standard digital asset and may be rented plural times. If the answer is yes the method moves to step S wherein the digital asset is given the highest possible ranking e.g. 1001 and is indicated as pinned for a predetermined rental period. The method then moves back to the combination of steps S and S for consideration of the next digital asset.

If the answer in step S is no the method moves to step S wherein it is determined if the digital asset has recently been or is being browsed B by the user. It is to be remembered that a digital asset may previously have been received and cached as a rented browsed favorite or standard digital asset and may be browsed plural times. If the answer is yes the method moves to step S wherein the digital asset is given the highest possible ranking e.g. 1001 and is indicated as pinned for a predetermined browsing period. The method then moves back to the combination of steps S and S for consideration of the next digital asset.

If the answer in step S is no the method moves to step S wherein it is determined if the digital asset has been designated as a Favorite F by the user. It is to be remembered that a digital asset may previously have been received and cached as a rented browsed favorite or standard digital asset and may be designated as a Favorite plural times. If the answer is yes the method moves to step S wherein the digital asset is given a medium high ranking e.g. 800. The method then moves back to the combination of steps S and S for consideration of the next digital asset.

If the answer in step S is no then the new digital asset receives no special status and is given a set ranking e.g. 500 by the method or server in step S.

At this point the method then decreases the ranking of any unpinned digital asset in dependence on how long the digital asset has been cached and advantageously the circumstances under which the digital asset was received. For example as discussed above a digital asset received from the provider without a request from the user may drop in ranking faster than a digital asset received in response to a request from the user under the assumption that if the user was sufficiently interested in a digital asset to specifically request it he is more likely to buy or rent it given a little more time.

In the advantageous example of in accordance with the exemplary equations given on page 30 of this specification in step S the value of the constant kor kmay be determined and then the new ranking may be calculated at step S.

Then either in dependence on the ranking or for another appropriate reason the method of determines in step S whether to delete the digital asset under consideration. Alternatively the method could wait until all the cached digital assets have bee re ranked and then could delete the selected digital assets all at once. The method then moves back to the combination of steps S and S for consideration of the next digital asset.

At any time that the method determines that all relevant digital assets have been re ranked deleted the method then moves back to the combination of steps S and S.

It will be understood as noted above that all of the above discussed variations of the methods of as well as any currently known and unknown equivalents thereof are considered to be within the scope of the present invention and to be disclosed herein. Moreover all of the numerous factors options and considerations discussed throughout the specification shall be considered as being within the scope of the present invention and to be usable in or in conjunction with the methods of .

Although the present invention has been described above most often in terms of method features the present invention is not limited to methods or method features. For example the scope of the present invention includes a signal containing executable instructions for causing a programmable electronic circuit to perform the method features described above. As another example the scope of the present invention also includes a storage medium storing any such signal.

The scope of the present invention also includes apparatus for accomplishing the features and functions described above. For example one preferred embodiment of an apparatus within the scope of the present invention includes a receiver for receiving a digital asset intended for local storage in a storage device that has been pushed down from a transmitter the storage device having a finite capacity storage space for storing digital assets and a processor for assigning a rank order to each digital asset stored or to be stored in the storage device said processor repeatedly examining the assigned rank orders of one or more of the digital assets stored in the storage device and selectively deleting a digital asset having a rank order that is lowest among the examined rank orders wherein each rank order is assignable based on predefined default ranking rules and user instructions pertaining to one or more of the digital assets that are capable of causing a deviation from the default ranking rules.

Such an apparatus may further comprise the storage device for storing one or more digital assets received by the receiver.

The above description of a new and highly effective cache system has many advantages over conventional systems. The provider of digital assets can make each individual digital asset available to selected e.g. registered users under conditions that make it cost effective for the provider and easy to use for the user. While most of the above discussion has related to a PUSH DOWN system wherein the provider determines which digital assets are provided and under what conditions the novel and advantageous system has also been described as operable under a PULL DOWN system wherein the user may request certain digital assets and possibly some of the conditions under which the content is provided. DRM rights are secured while at the same time the user is given increased flexibility both in accessing those programs or files that he is most interested in and in avoiding those programs in which he has no interest.

It will of course be apparent to those of skill in this art that many modifications and changes may be made in the above described embodiments without departing from the scope of the invention. Therefore reference should be made to the following claims for a fuller determination of that scope.


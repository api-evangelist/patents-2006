---

title: SATA device having self-test function for OOB-signaling
abstract: Disclosed is a SATA device having self-testing function with an OOB-signaling operation and a method of testing the same. The SATA device includes target and test-signaling controllers that sequentially generate and transceive control signals for the OOB-signaling operation. The SATA device also includes a test flow controller regulating the flow of the OOB-signaling control signals, and an analogue signal processor generating and transceiving analogue signals in correspondence with the OOB-signaling control signals. The analogue signals transmitted from the analogue signal processor return to the input terminal through a feedback loop.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07587294&OS=07587294&RS=07587294
owner: Samsung Electronics Co., Ltd.
number: 07587294
owner_city: Suwon-Si
owner_country: KR
publication_date: 20060124
---
This U.S. non provisional patent application claims priority under 35 U.S.C. 119 of Korean Patent Application 2005 08679 filed on Jan. 31 2005 the entire contents of which are hereby incorporated by reference.

The present invention is concerned with electronic devices including SATA interfaces which in particular relates to a SATA device with self test function and method of testing the same.

In the environment of a serial advanced technology attachment SATA interface it conducts an out of band OOB signaling operation in several cases of power on sequence modes for establishing smooth communication links and a power saving modes. During such a OOB signaling scheme signals are transmitted by means of intervals of on off periods and the number of burst signals not directly using signals with physical speed such as 1.5 Gbps 3 Gbps or 6 Gbps.

A SATA transceiving condition through the OOB signaling scheme is initialized as follows. The host controller of the host platform sends a control signal COMRESET to the SATA analogue circuit . The SATA analogue circuit transmits the control signal COMRESET to the device platform by way of the SATA cable in the form of analogue. The device controller of the device platform confirms the control signal COMRESET that is received through the SATA analogue circuit and then applies a control signal COMINIT to the SATA analogue circuit . The SAYA analogue circuit transmits the control signal COMINIT to the host platform by way of the SATA cable in the form of analogue. The host controller of the host platform confirms the control signal COMEINIT received thereto and then transmits a control signal COMWAKE hereinafter referred to as waking signal to the device platform . The device controller of the device platform confirms the control signal COMWAKE and then transmits the waking signal COMWAKE to the host platform . As same as such after exchanging a primitive signal ALIGN between the device platform and the host platform in order to accord a communication frequency or data rate therebetween the initialization for the SATA transceiving condition is completed by generating each standby signal Phy Ready.

The control signal COMREST i.e. reset signal is always generated from the host platform resetting the device platform . The control signal COMINIT i.e. initializing signal is generated always from the device platform requesting for initializing a communication condition. The initializing signal COMINIT is the same with the reset signal COMRESET in electrical dimension. The waking signal COMWAKE and the primitive signal ALIGN are all generated from the host platform and the device platform .

In testing such an OOB signaling scheme it needs to apply burst signals which are generated by the standard of SATA specification to a test target and to determine whether an OOB signaling operation has been properly completed. Thus it is required with external test equipment including an analogue circuit i.e. physical layer that is able to carry out serial communication with a test target.

The present invention is directed to a SATA device having a self test function without external test equipment and a method of testing the same.

Preferred embodiments of the present invention will be described below in more detail with reference to the accompanying drawings. The present invention may however be embodied in different forms and should not be constructed as limited to the embodiments set forth herein. Rather these embodiments are provided so that this disclosure will be thorough and complete and will fully convey the scope of invention to those skilled in the art. Like numerals refer to like elements throughout the specification.

Hereinafter it will be described about an exemplary embodiment of the present invention in conjunction with the accompanying drawings.

The analogue signal processor generates analogue signals in compliance with the SATA controller and then transmits the analogue signals to an external device or receives analogue signals from an external device and then transfers the received analogue signals to the SATA controller after processing the received analogue signals without noises.

The SATA controller is comprised of a target OOB signaling controller a test flow controller a test signaling controller and a link transmission unit .

In a normal mode prosecuting a regular operation the link transmission unit transforms information data which are transferred from the application system into the structure of frame information hereinafter referred to as FIS . After then the link transmission unit generates control data in accordance with the protocol thereof and transmits the control data to the target signaling controller . Or the link transmission unit abstracts the FIS from data received from the target signaling controller and then transfers the abstracted data to the application system. The data transception by the SATA device according to the invention is subjected to 1.0 Revision of the Serial ATA II Electrical Specification.

Referring to as the device platform is a test target the target signaling controller is composed of a device SATA digital circuit. The test signaling controller is composed of a host SATA digital circuit. The test flow controller regulates the flow of signals and data among the test signaling controller the target signaling controller and the analogue signal processor .

Referring to in a test mode the test signaling controller interrupts signals irrelevant to the OOB signaling operation and resets the target and test signaling controller and at the same time or in sequence step S . The test signaling controller generates and transfers the reset signal COMRESET to the test flow controller step S . The test flow controller transfers the reset signal COMRESET to the analogue signal processor . Further the test flow controller transfers the reset signal COMRESET which returns to the analogue signal processor through a feedback loop after output from the analogue signal processor to the target signaling controller step S . In this case it is available for the feedback loop to be used with a general feedback circuit in order to return the transmitted signals to the analogue signal processor .

The target signaling controller generates the initializing signal COMINIT as a responding signal after confirming whether the reset signal COMRESET is valid. The initializing signal COMINIT is transferred to the analogue signal processor by way of the test flow controller . During this the test flow controller enables the initializing signal COMINIT which returns to the analogue signal processor through the feedback loop after transmitted from the analogue signal processor to be transferred to the test signaling controller step S .

The test signaling controller generates the waking signal COMWAKE when it determines the initializing signal COMINIT is valid. The waking signal COMWAKE returns to the analogue signal processor through the feedback loop after transmitted from the analogue signal processor as like the reset signal COMRESET. After then the waking signal COMWAKE is transferred to the target signaling controller . It is also available for the feedback loop to be used with a general feedback circuit in order to return the transmitted signals to the analogue signal processor .

The target signaling controller activates the waking signal COMWAKE from determining whether the waking signal COMWAKE of the test signaling controller is valid. In this case if in the absence of the waking signal COMWAKE for a predetermined time the test operation is suspended step S .

The waking signal COMWAKE from the target signaling controller is also transferred to the test signaling controller as like the initializing signal COMINIT. While transceiving the waking signal COMWAKE the test flow controller regulates the flow of signals by switching interconnections among the analogue signal processor the target signaling controller and the test signaling controller .

Thereafter the alignment primitive signal ALIGN is generated from the test signaling controller and then as like the reset signal COERESET transferred to the target signaling controller . Further the target signaling controller if it determines that the alignment primitive signal ALIGN from the test signaling controller is valid generates and transfers the alignment primitive signal ALIGN to the test signaling controller through the same way with the initializing signal COMINIT.

If the transception with the alignment primitive signal ALIGN has been completed in normal the test signaling controller and the target signaling controller generate and transfers a standby signal PHY ready to the test flow controller in sequence step S . In response to the standby signal PHY ready the test flow controller generates a signal that informs of successful execution of the OOB signaling test step S .

If the OOB signaling test operation is not conducted successfully such that valid signals are hard to be transferred to the test flow controller in predetermined times step by step it is regarded as an erroneous condition and then the test operation is interrupted step S .

Next it will be described in detail about the feature of the OOB signaling test with the host platform in the SATA device according to the embodiment of the invention.

Returning to as the host platform is a test target the target signaling controller is composed of a host SATA digital circuit. The test signaling controller is composed of a device SATA digital circuit.

Returning to in a test mode the test signaling controller interrupts signals irrelevant to the OOB signaling operation and resets the target and test signaling controller and at the same time or in sequence step S .

The test signaling controller generates and transfers the reset signal COMRESET to the test flow controller step S . The test flow controller transfers the reset signal COMRESET to the analogue signal processor . Further the test flow controller transfers the reset signal COMRESET which returns to the analogue signal processor through a feedback loop after output from the analogue signal processor to the test signaling controller step S .

The target signaling controller generates the initializing signal COMINIT if it determines the reset signal COMRESET is valid. The initializing signal COMINIT is transferred to the test flow controller step S . During this the test flow controller enables the initializing signal COMINIT which returns to the analogue signal processor by way of the feedback loop after passing through the test flow controller and the analogue signal processor to be transferred to the target signaling controller step S .

The target signaling controller generates the waking signal COMWAKE when it determines the initializing signal COMINIT is valid. The waking signal COMWAKE is transferred to the test signaling controller by way of the test flow controller and the analogue signal processor as like the reset signal COMRESET.

The test signaling controller activates the waking signal COMWAKE from determining whether the waking signal COMWAKE of the target signaling controller is valid. In this case in the absence of the waking signal COMWAKE for a predetermined time the test operation is suspended step S . The waking signal COMWAKE of the test signaling controller is transferred to the target signaling controller again.

Thereafter the alignment primitive signal ALIGN is generated from the target signaling controller and then as like the reset signal COERESET transferred to the test signaling controller . Further the test signaling controller if it determines that the alignment primitive signal ALIGN from the target signaling controller is valid generates and transfers the alignment primitive signal ALIGN to the target signaling controller through the same way with the initializing signal COMINIT.

If the transception with the alignment primitive signal ALIGN has been completed in normal the test signaling controller and the target signaling controller generate and transfers a standby signal PHY ready to the test flow controller in sequence step S . In response to the standby signal PHY ready the test flow controller generates a signal that informs of successful execution of the OOB signaling test step S .

As also in this case if valid signals are hard to be transferred to the test flow controller in predetermined times step by step it is regarded as an erroneous condition and then the test operation is interrupted step S .

Although the present invention has been described in connection with the embodiment of the present invention illustrated in the accompanying drawings it is not limited thereto. It will be apparent to those skilled in the art that various substitution modifications and changes may be thereto without departing from the scope and spirit of the invention.

As described above the invention is able to prosecute the OOB signaling test operation for an electronic device by means of an embedded module such a SATA controller by itself without using any specific test equipment. As a result it reduces a cost for the OOB signaling test and enhances a yield with reliability.


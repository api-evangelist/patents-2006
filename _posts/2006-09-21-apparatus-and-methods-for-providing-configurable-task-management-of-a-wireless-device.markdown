---

title: Apparatus and methods for providing configurable task management of a wireless device
abstract: Methods, devices, computer readable media and apparatus are presented for providing configurable task management, such as data collection management, on a wireless device. Task management provides conditions and associated actions which may be dynamically configured and implemented in conjunction with any application executed on the wireless device.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07969922&OS=07969922&RS=07969922
owner: Qualcomm Incorporated
number: 07969922
owner_city: San Diego
owner_country: US
publication_date: 20060921
---
The present Application for Patent claims priority to Provisional Application No. 60 763 994 entitled MobileView Dynamic Mechanism for Configuring Data Collection on Device filed Jan. 31 2006 and assigned to the assignee hereof and hereby expressly incorporated by reference herein.

The described embodiments generally relate to wireless communications devices and computer networks. More particularly the described aspects relate to the remote configuration of executable tasks such as data collection on a wireless device.

Wireless networking connects one or more wireless devices to other computer devices without a direct connection such as a copper wire or optical cable. Wireless devices communicate data typically in the form of packets across a wireless or partially wireless computer network and open a data or communication channel on the network such that the device can send and receive data packets. The wireless devices often have wireless device resources such as programs and hardware components which individually and cooperatively operate to use and generate data in accordance to their design and specific protocol or configuration such as using open communication connections to transmit and receive data on the network

The current trend in the wireless communication device industry is to market devices that have a wide range of functionality. For example a single wireless communication device may be capable of wireless telephone communication digital photography wireless Internet communication electronic mail email and or Short Message Service SMS communication wireless audio and or video downloading other wireless network service communications and the like. In addition the wireless communication device may be capable of storing or wirelessly accessing numerous applications that can then be executed on the wireless communication device.

As the functionality of these devices expands the device users increasingly demand high performance and reliability. To insure such high performance and reliability applications are being implemented to monitor performance so that service providers device manufacturers and the like can respond to problems or the potential providers device manufacturers and the like can respond to problems or the potential for problems in a timely fashion. Most of these monitoring type applications require data to be collected at the wireless device and in many instances communicated to a network device for subsequent performance analysis. For example a wireless telephone may log data related to calls or may capture data when an event such as a call failure or a call drop occurs.

Currently applications that require data collection at the wireless device rely on the source code of the application to define what data is collected how the data is collected and any other parameters related to data collection. Thus if the user of the application desires to change what data is collected how the data is collected or any other related parameter the user must modify the source code and update the applications being implemented on the wireless devices. This becomes a cause for concern because in many of these monitoring type applications the user will readily desire to make data collection changes based on the monitored performance of the device or the wireless network. In many instances such as when a service provider is attempting to identify a problem within a device or the network changes in data collection need to be implemented dynamically on the fly in order for the service provider to address the problem or the potential for a problem in a timely fashion.

As previously noted the functionality in a wireless device is diverse and as such the collectable data may vary from device to device. In this instance current monitoring type applications may need to be device specific in terms of collection code to accommodate the variance in device functionality. Additionally the computing capability of wireless devices means that the applications and functionality can readily be added and or removed from the device. As such devices may be capable of collecting additional new data or conceivably may no longer possess the capability of collecting previously stored data. In this instance monitoring type applications may require modification of the source code to be able to collect new data or modifications to the source code to insure application functionality if previous data is no longer available.

Thus a need exists to develop a data collection system that provides for dynamic configuration of data collection commands. In this regard configurable data collection will allow the user to change what data is collected how data is collected or other data collection related parameters without having to modify the source code of the application that requires data collection. Such a system will provide application users the ability to change data collection on the wireless device dynamically as dictated by network performance device performance or the like. Additionally such a system will allow the application users the ability to tailor data collection based on the data collection functionality of specific wireless devices or the applications currently be executed on the wireless device.

The present methods apparatus device computer readable media and processors provide for configurable task management such as data collection on a wireless device. By providing for dynamically configurable task management the need to modify or otherwise change task related source code in an associated task performing application or in any other application requiring wireless device data is no longer required. Such dynamically configurable task management allows a service provider or other user to efficiently and dynamically change what tasks are performed how the task is performed and any other parameters related to the execution of the task.

In one aspect a method for configurable data collection at a wireless communication device is defined. The method comprises receiving a task configuration message including at least one condition operable to occur on the wireless communication device and at least one corresponding action identifier operable to map at least one action specified in the message to the respective condition and performing each action referenced by each action identifier corresponding to each condition based on detecting the respective condition. In one aspect performing each action will include collecting predetermined data from a processing subsystem of the wireless communication device based on an action parameter corresponding to the action identifier. In such aspects the corresponding condition may include a triggering event a constant event or the like. The collection event may include collecting data from a predetermined log location collecting event data from an event occurring at the wireless communication device a data packet request event or the like. In other aspects the actions performed may include disabling the device disabling a device component providing for limited device use executing an application on the device executing a component on the device or the like. The method may further include referencing an action list received from the task configuration message based on the at least one action identifier identifying each action from a plurality of actions in the action list corresponding to each respective condition based on each corresponding action identifier and monitoring for the occurrence of each condition. In some aspects the condition and action may include further parameters that further define the condition and the associated action or actions.

A further related aspect is defined by a computer readable medium for collecting data at a wireless communication device. The medium includes instructions stored thereon comprising a first set of instructions for receiving a task configuration message including at least one condition operable to occur on the wireless communication device and at least one corresponding action identifier operable to map at least one action specified in the message to the respective condition and a second set of instructions for performing each action referenced by each action identifier corresponding to each condition based on detecting the respective condition. Another related aspect is defined by a processor device implemented in a wireless communication device and configured to perform the operations of receiving a task configuration message including at least one condition operable to occur on the wireless communication device and at least one corresponding action identifier operable to map at least one action specified in the message to the respective condition and performing each action referenced by each action identifier corresponding to each condition based on detecting the respective condition.

Further an aspect provides for a wireless communication device adapted to perform configurable tasks. The device comprises a communications module operable to receive a task configuration message comprising at least one condition operable to occur on the wireless communication device and at least one corresponding action identifier operable to map at least one action specified in the message to the respective condition. The device further comprises a task module in communication with the communications module and operable to perform each action referenced by each action identifier corresponding to each condition based on detecting the respective condition.

In yet another aspect a method for data collection configuration at a network device is defined. The method includes selecting one or more conditions operable to occur at a wireless communication device and at least one action associated with each condition generating a task configuration message comprising the selected conditions and at least one corresponding action identifier operable to map at least one action specified in the message to the respective condition and communicating the task configuration message to one or more wireless devices wherein at least one wireless device is operable to receive the task configuration message and perform each action referenced by each action identifier corresponding to each condition based on detecting the respective condition.

A further related aspect is defined by a computer readable medium for collecting data at a wireless communication device. The medium includes instructions stored thereon comprising a first set of instructions for selecting one or more conditions operable to occur at a wireless communication device and at least one action associated with each condition a second set of instructions for generating a task configuration message comprising the selected conditions and at least one corresponding action identifier operable to map at least one action specified in the message to the respective condition and a third set of instructions for communicating the task configuration message to one or more wireless devices. The wireless device receives the task configuration message and performs each action referenced by each action identifier corresponding to each condition based on detecting the respective condition.

Another related aspect is defined by a processor device implemented in a wireless communication device and configured to perform the operations of selecting one or more conditions operable to occur at a wireless communication device and at least one action associated with each condition generating a task configuration message comprising the selected conditions and at least one corresponding action identifier operable to map at least one action specified in the message to the respective condition and communicating the task configuration message to one or more wireless devices.

A further aspect provides a network device for configuring data collection on a wireless device. The network device includes a task configuration module operable to receive identification of at least one condition operable to occur on a wireless communication device and at least one action associated with each condition. Further the task configuration module is operable to generate a task configuration message comprising the at least one condition the corresponding at least one action and at least one action identifier associated with the at least one condition wherein each action identifier is operable to map the respective action to the respective at least one condition specified in the message. Additionally the network device includes a communications module operable to communicate the task configuration message to one or more wireless devices.

Thus the aspects herein described provide for dynamically configurable task management such as data collection at a wireless device. By providing for dynamically configurable task management a service provider or the like can modify what tasks are performed how the task is performed or any other parameter related to execution of a task on the wireless device without having to modify the source code of an associated task related application or any other application requiring wireless device data. The aspects herein disclosed provide for configuration to occur dynamically as dictated by the performance of the device applications or functions related to the device the wireless network or the like.

The present devices apparatus methods computer readable media and processors now will be described more fully hereinafter with reference to the accompanying drawings in which aspects of the invention are shown. The devices apparatus methods computer readable media and processors however may be embodied in many different forms and should not be construed as limited to the aspects set forth herein rather these aspects are provided so that this disclosure will be thorough and complete and will fully convey the scope of the invention to those skilled in the art. Like numbers refer to like elements throughout.

According to one aspect provides a schematic diagram representation of a system for providing dynamically configurable data collection at a wireless device. The system includes one or more wireless devices that are in wireless communication via wireless network with a network device such as a user manager server.

The network device includes a processing engine that is operable to execute a task configuration module which is operable to generate a message operable to cause a wireless device to perform a predetermined task. A task is herein defined as the combination of the performance of one or more predetermined actions based on the meeting or occurrence of one or more predetermined conditions. The task configuration module may include a task condition selector that is operable to provide a user with task condition selection options or that is operable to allow a user to define a task condition. A task condition identifies one or any combination of an event state log code and data upon the occurrence or detection of which initiates the associated action. Further a task condition may be defined in programming logic such as a script code or the like. For example conditions may include but are not limited to a triggering event or combination of events a constant condition or state or any user definable condition operable to occur on or be detectable by a wireless device. Examples of triggering events include but are not limited to the occurrence of predetermined events and or log codes the receipt of a packet payload matching a predetermined packet payload on or off states for a device application or function or the like. Examples of a constant condition include but are not limited to constant data collection of predetermined data constant execution of a device application constant execution of a device function or the like. The task condition selector may also include condition parameters that further define the data collection conditions.

The task configuration module may include task action selector that is operable to provide a user with action selection options or allows a user to define an action. An action is herein defined as the task such as data collection message generation or any other function or operation on the device which takes place upon the occurrence or detection of the associated condition or conditions. In the aspects in which the action involves data collection examples include but are not limited to a predetermined log identifier collection action a predetermined event identifier collection action a packet request and response action and the like. The task selector may also be operable for providing selection or definition of one or more action parameters that further define the action.

The task configuration module additionally may include configuration message generator operable for generating a configuration message i.e. communication based upon the selected conditions actions and associated parameters. Additionally the configuration message may implement action identifiers such as numeric values or the like that serve to associate a condition with one or more actions. Once the configuration message has been generated it is communicated to the one or more wireless devices and is operable to cause the performance of the one or more dynamically configured actions based on the occurrence or detection of the one or more dynamically configured conditions.

The wireless device includes a processing engine that is operable to execute a task module . The task module may be initially downloaded to the wireless device from a service provider such as customer care representative from the network device or from another network device. Alternatively the task module may be pre installed by the wireless device manufacturer or otherwise loaded onto the wireless device. The task module may include a task condition interpreter that is operable to determine from received configuration message conditions to be monitored. In addition the task condition interpreter may be operable to determine from received configuration message condition parameters associated with the conditions. Task module is operable to apply the respective parameters to the respective condition to perform the desired monitoring activity. The task module may further include a task action interpreter that is operable to determine actions associated with determined conditions from received configuration messages . Task module is thereby operable to monitor for the occurrence of the parsed condition and to initiate the performance of the respective action upon the occurrence of the detected condition. According to some aspects the communication message may include action identifiers such as numeric values or the like that serve to associate a condition with one or more actions . In addition the task action interpreter may be operable to determine from configuration message action parameters associated with an action and apply the parameters to the performance of the respective action.

Referring to according to one aspect a block diagram representation of a wireless communication device operable to provide configured data collection. The wireless device may include any type of computerized wireless device such as cellular telephone Personal Digital Assistant PDA two way text pager portable computer and even a separate computer platform that has a wireless communications portal and which also may have a wired connection to a network or the Internet. The wireless device can be a remote slave or other device that does not have an end user thereof but simply communicates data across the wireless network such as remote sensors diagnostic tools data relays and the like. The apparatus and method for creating digitally signed licenses can accordingly be performed on any form of wireless device or computer module including a wired or wireless communication portal including without limitation wireless modems PCMCIA cards access terminals personal computers telephones or any combination or sub combination thereof.

The wireless device includes computer platform that can transmit data across wireless network and that can receive and execute routines and applications and optionally display data transmitted from network device such as a user manager server or another computer device connected to wireless network . Computer platform includes a memory and or data registry which may comprise volatile and nonvolatile memory such as read only and or random access memory RAM and ROM EPROM EEPROM flash cards or any memory common to computer platforms. Further data registry may include one or more flash memory cells or may be any secondary or tertiary storage device such as magnetic media optical media tape or soft or hard disk.

Further computer platform also includes a processing engine which may be an application specific integrated circuit ASIC or other chipset processor logic circuit or other data processing device. Processing engine or other processor such as ASIC may execute an application programming interface API layer that interfaces with any resident programs such as task module stored in the data registry of the wireless device . API is typically a runtime environment executing on the respective wireless device. One such runtime environment is Binary Runtime Environment for Wireless BREW software developed by Qualcomm Inc. of San Diego Calif. Other runtime environments may be utilized that for example operate to control the execution of applications on wireless computing devices.

In some aspects API may include one or more static extensions that provide an interface between programs operating on computer platform such as task module and the data and functionality of processing engine . Additionally in some aspects API may further include one or more dynamic extensions that provide an alternative and or supplementary interface between programs operating on computer platform such as task module and the data and functionality of processing engine . In particular dynamic extension may add further functionality to static extension and thus dynamic extension may utilize extension and then perform the additional functionality before providing data to a program operating on computer platform . Further in some aspects dynamic extension may be associated with redundant code across a plurality of programs operating on computer platform thus providing a common interface for redundant desired functionality thereby saving wireless device resources such as the memory needed to store such code.

Processing engine includes various processing subsystems embodied in hardware firmware software and combinations thereof that enable the functionality of wireless device and the operability of the wireless device on wireless network . In one aspect the task module is capable of collecting data from any of the various subsystems of the wireless device. For example in one aspect the processing engine may include one or a combination of processing subsystems such as sound non volatile memory file system transmit receive searcher physical layer link layer call processing layer main control remote procedure music audio handset power management diagnostic digital signal processor vocoder messaging call manager Bluetooth Bluetooth Location Position LPOS position determination position engine user interface sleep data services security authentication USIM SIM voice services graphics USB video services camera camcorder interface and associated display drivers multimedia such as MPEG GPRS etc. along with other functionality applications. It should be noted that the subsystems could include any data or data service operable on a wireless device which embody the device s operational functionality.

In one example in which the wireless device is defined as a Code Division Multiple Access CDMA device the processing subsystems may include but are not limited to one or more of a receive component for receiving communications sent to the processor of the wireless device a call processing component and or system determination component for handling the initiation authentication handoffs data exchanges messaging protocols internal processing and decision making etc. associated with processing a message and a transmit component for sending communications from the processor of the wireless device such as to handset components wireless network wireless network components and other devices connected to the wireless network. In the CDMA wireless device aspect the call processing component may handle the majority of the call processing tasks while system determination component may handle tasks relating to selecting an appropriate system from a plurality of systems with which to communicate as well as higher level decision making tasks referenced by the call processing component. In addition CDMA wireless device processing subsystems may further include one or more of a diagnostic component for evaluating a subsystem a fax component for handling facsimile communications a call manager component for characterizing and logging call types a messaging component for text sending and receiving and a data services component for processing all data related communications such as establishing and maintaining data calls. Additionally processing subsystems may include a position sensing component for determining the geographic position of the device such as a Global Positioning System GPS or the like.

The data registry of computer platform includes task module . The task module includes task condition interpreter that is operable to determine from received configuration messages one or more conditions and perform an action or actions according to the determined conditions.

As previously discussed a task condition identifies an event or state that is required for initiation of the action or actions. A task condition may be defined in programming logic such as a script code or the like. Task conditions may include but are not limited to a triggering event in which the occurrence of a specified event triggers an action such as data collection or the like. For example in one aspect a packet payload match or mismatch compared with a predetermined packet payload as identified by condition and or condition parameter may serve as the triggering event for the collection of data. Another task condition may include a constant condition such as a constant data collection in which predetermined data is collected constantly i.e. continuously or constant executing of a device application or function is performed.

It should also be noted and within the bounds of the currently described aspects that programmable logic may be configured such that multiple task conditions must be met before the occurrence of an action or actions ensues. For example in one aspect a first triggering event condition and a second triggering event condition are configured such that the first triggering must occur followed by occurrence of the second triggering event before one or more predefined task action s occurs. In instances in which multiple conditions are configured the conditions may be configured such that a task action or actions occur only if the conditions occur in a configured order e.g. first triggering event condition followed by the second triggering event condition or alternatively the conditions may be configured such that task action or actions occur once all the conditions occur regardless of the order in which they occur.

In addition the task condition interpreter is operable to determine from received configuration messages any condition parameters associated with the task conditions and apply the parameters to the condition. Examples of condition parameters will be described in detail infra. such as in relation to .

The task module additionally includes task action interpreter that is operable to determine from received configuration messages actions and to perform the action in accordance with the associated condition . In addition the task action interpreter may be operable to determine from received configuration messages action parameters associated with the actions and apply the action parameters to the actions.

In some aspects action may include a data collection action. For example action may provide for collection of data such as log data and or event data which may be stored in database collection of packet request and response data and the like. Log data such as data associated with a predetermined log identifier a call log an Internet session log or the like may be collected and stored in device memory such as database and or within registries of processing engine and or processing subsystems . Event data may comprise data associated with a predetermined event identifier as defined by a communications protocol or as defined in an over the air message and or any data corresponding to a specific scenario predetermined by a communication subsystem. Event data may be stored in device memory such as database and or within registries of processing engine and or processing subsystems . For example event data may correspond to a call that is dropped i.e. call drop event data or the failure to establish a call connection i.e. call failure event data . Request and response data are defined by specific instructions within the configuration message that direct the task module to issue a query to collect one or specific data packets on the wireless device. For example the configuration message may include a request and response action that directs the device to collect i.e. request a specific data packet. The request and response action may be configured as a one time only request or the request and response action may be configured such that the request is made at predetermined intervals e.g. once every 5 seconds or at predetermined times. Additional examples of event data include over the air OTA messages or any portion or OTA messages.

In other aspects action may include initiating or terminating of any other application or function that is associated with the wireless device. Examples include disabling the device or a device component providing for limited device use executing a device component or an application on the device if a specific condition is met. For example a condition may define a battery level threshold and if the battery level falls below the threshold then the action that ensues is the disablement of certain predefined device components to conserve battery power.

In addition the task action interpreter is operable to determine from received configuration messages any action parameters associated with the actions and apply the action parameters to the associated action. Examples of action parameters will be described in detail infra. such as with respect to .

In some aspects in which the action is defined by data collection the collected data is stored as one or more collected data logs and may be communicated to the network device for further processing and analysis. In aspects in which the collected data is communicated to a network device the task module may further include data reporter that determines from the received configuration messages data reporting parameters that configure the communication of collected data to the network device or any other network entity. For example data reporting parameters may include instructions on how the collected data is to be communicated to the network device and may define the timing for communicating the collected data. For example the data may be configured to be communicated to the network device on an ongoing basis on a predetermined interval basis such as hourly daily weekly etc. on the occurrence of a predefined triggering event or at the request of a predetermined party such as the service provider network device and or wireless device user.

Additionally computer platform may further include one or more listener agents dynamically instantiated based on a respective one or more parsed condition and or one or more condition parameters and or one or more parsed actions and or one or more action parameters as respectively determined by task condition interpreter and task action interpreter . For example listener agent may be instantiated in API or in any area of memory and may further communication between an instantiating program such a task module and processing engine via one or both of static extension and dynamic extension . Further each listener agent may correspond to a single one or a plurality of any combination of conditions condition parameters actions and action parameters . For example more than one action or action parameter may depend on the occurrence of a common condition and thus a single listener agent may be instantiated corresponding to the more than one action or action parameter for example to save device resources such as memory. For example listener agent may correspond to a given event identifier log code identifier and or any other parameter for monitoring and or for performing an action as defined by condition and or condition parameter and or parsed action and or action parameters . Each listener agent is operable to monitor processing engine for the occurrence of the corresponding condition and or condition parameter and or parsed action and or action parameters and record data associated with the condition and or condition parameter such as logging the occurrence of an event identifier logging the payload of a log code. Further for example each listener may alternatively or additionally notify an interested program such as task module of the occurrence of the condition and or condition parameter thereby triggering action based on action parameter .

As previously noted computer platform may further include a communications module embodied in hardware firmware software and combinations thereof that enables communications among the various components of the wireless device as well as between the wireless device and the wireless network . The communication module may include the requisite hardware firmware software and or combinations thereof for establishing a wireless communication connection. The communication module receives task configuration messages communications from network device and in some aspects communicates the data related to the task to network devices for further processing and analysis.

Additionally wireless device has input mechanism for generating inputs into wireless device and output mechanism for generating information for consumption by the user of the wireless device. For example input mechanism may include a mechanism such as a key or keyboard a mouse a touch screen display a microphone in association with a voice recognition module etc. Further for example output mechanism may include a display an audio speaker a haptic feedback mechanism etc.

Referring to according to another aspect a block diagram is illustrated of a network device such as a user manager server. The network device may comprise at least one of any type of hardware server personal computer mini computer mainframe computer or any computing device either special purpose or general computing device. Further the modules and applications described herein as being operated on or executed by the network device may be executed entirely on the network device or alternatively in other aspects separate servers or computer devices may work in concert to provide data in usable formats to parties and or to provide a separate layer of control in the data flow between the wireless device and the modules and applications executed by network device .

The network device has computer platform that can transmit and receive data across wireless network and that can execute routines and applications. Computer platform includes a data storage which may comprise volatile and nonvolatile memory such as read only and or random access memory RAM and ROM EPROM EEPROM flash cards or any memory common to computer platforms. Further data storage may include one or more flash memory cells or may be any secondary or tertiary storage device such as magnetic media optical media tape or soft or hard disk. Further computer platform also includes a processing engine which may be an application specific integrated circuit ASIC or other chipset processor logic circuit or other data processing device. The computer platform may further include a communications module embodied in hardware firmware software and combinations thereof that enables communications among the various components of the network device as well as between the network device and the wireless network . The communication module may include the requisite hardware firmware software and or combinations thereof for establishing a wireless communication connection.

The data storage of the network device includes task configuration module . As mentioned previously the task configuration module includes task condition selector that is operable to provide for selection of conditions and associated condition parameters . For example selection of the task conditions may be conducted by a service provider representative a network device administrator or any other authorized entity that has access to the network device.

In addition the task condition selector is operable to provide selection of condition parameters associated with the selected conditions. Examples of condition parameters will be described in detail infra. such as with respect to .

The task configuration module additionally includes task action selector that is operable to provide for selection of action and associated action parameters . Selection configuration of an action typically corresponds with selection configuration of an associated condition and as such may be conducted by a service provider representative a network device administrator or any other authorized entity having access to the network device.

In addition the task action selector is operable to provide selection of action parameters associated with the selected action . Action parameters further define and or limit the action. Examples of action parameters will be described in detail infra. such as with respect to .

The task configuration module may optionally include data reporting selector that is operable to provide for selection of data reporting parameters . Data reporting parameters define characteristics related to communicating data related to the action such as collected data to the network device or to other networked devices for further processing and analysis. For example data reporting parameters may include intervals for communicating the data such as continuous communication predetermined interval communication e.g. hourly daily weekly monthly etc. predetermined event triggered communication service provider representative requested communication network device administrator requested communication and or wireless device user requested communication and the like.

The data collection configuration module may further include configuration message generator that is operable to generate configuration messages based on the selected data collection conditions actions and associated parameters. The configuration message may be configured such that selected conditions are associated with one or more action identifiers that correspond to a specific action . Further detailed explanation of the configuration message is described in relation to infra. Once the configuration message generated the communication module provides for the message to be communicated to one or more wireless devices .

Referring once again to the wireless network includes any communications network operable at least in part for enabling wireless communications between wireless device and any device connected to wireless network such as network device . Further wireless network may include all network components and all connected devices that form the network. For example wireless network may include at least one or any combination of a cellular telephone network a multicast network such as a Forward Link Only FLO network such as the MEDIAFLO System available from Qualcomm Inc. of San Diego Calif. a digital video broadcasting DVB network such as DVB S for satellite DVB C for cable DVB T for terrestrial television DVB H for terrestrial television for handhelds a terrestrial telephone network a satellite telephone network an infrared network such as an Infrared Data Association IrDA based network a short range wireless network a BLUETOOTH technology network a ZIGBEE protocol network an ultra wide band UWB protocol network a home radio frequency HomeRF network a shared wireless access protocol SWAP network a wideband network such as a wireless Ethernet compatibility alliance WECA network a wireless fidelity alliance Wi Fi Alliance network and a 802.11 network a public switched telephone network a public heterogeneous communications network such as the Internet a private communications network and a land mobile radio network.

Suitable examples of telephone networks include at least one or any combination of analog and digital networks technologies such as code division multiple access CDMA wideband code division multiple access WCDMA universal mobile telecommunications system UMTS advanced mobile phone service AMPS time division multiple access TDMA frequency division multiple access FDMA orthogonal frequency division multiple access OFDMA global system for mobile communications GSM single carrier 1 radio transmission technology RTT evolution data only EV DO technology general packet radio service GPRS enhanced data GSM environment EDGE high speed downlink data packet access HSPDA analog and digital satellite systems and any other technologies protocols that may be used in at least one of a wireless communications network and a data communications network.

Referring to in one specific aspect wireless device for data collection comprises a cellular telephone. A cellular telephone system may include a plurality of wireless devices in communication with wireless network which is connected to a wired network via a carrier network . Wireless devices are being manufactured with increased computing capabilities and often can communicate packets including voice and data over wireless network . As described earlier these smart wireless devices have APIs resident on their local computer platform that allow software developers to create software applications that operate on the cellular telephone and control certain functionality on the device. is a representative diagram that more fully illustrates the components of a cellular wireless network and the interrelation of the elements of one aspect of the present system. Cellular wireless network is merely exemplary and can include any system whereby remote modules such as wireless devices communicate over the air between and among each other and or between and among components of a wireless network including without limitation wireless network carriers and or servers.

In system network device can be in communication over a wired network e.g. a local area network LAN with a separate data repository for storing the task configuration module or the like. Further a data management server may be in communication with network device to provide post processing capabilities data flow control etc. Network device data repository and data management server may be present on the cellular telephone system with any other network components that are needed to provide cellular telecommunication services. Network device and or data management server communicate with carrier network and wireless network through data links and which may be data links such as the Internet a secure LAN WAN or other network. Carrier network controls messages generally being data packets sent to a mobile switching center MSC . Further carrier network communicates with MSC by a network such as the Internet and or POTS plain old telephone service . Typically in network a network or Internet portion transfers data and the POTS portion transfers voice information. MSC may be connected to multiple base stations BTS by another network such as a data network and or Internet portion for data transfer and a POTS portion for voice information. BTS ultimately broadcasts messages wirelessly to the wireless devices such as wireless devices by short messaging service SMS or other over the air methods.

As previously noted the conditions and actions will typically be configured such that any condition or action has associated parameters that further define the condition or action.

Examples of condition parameters related to aspects in which the action taken is defined by data collection include but are not limited to a condition identification ID the condition priority condition overflow option condition buffer size condition buffer limit condition threshold collection interval defined by a pre condition time and a post condition time payload match criteria including the payload size and or block the number of actions associated with the condition and a listing of the associated actions.

The condition identification parameter will typically be a value that correlates to a specific triggering event such as an event identifier or in the case of constant collection the condition identification may be a special value such as the maximum allowed value or any other value which will allow for the constant collection of all associated parameters and or actions such as logs events request and response packets and or the like.

The condition priority parameter is the priority assigned to the condition such that the evaluation of the condition and or the performance of the associated actions may be ranked in the case where limited resources exist on the wireless device and multiple conditions are present. For example the priority parameter may prioritize the delivery of collected data to the application. In some aspects for example a relatively high priority value will insure the condition is evaluated and or the associated action takes place while a relatively low priority value will dictate that the condition is evaluated and or the associated action will be performed only if the resources are available.

The condition overflow option parameter sets the overflow listener parameter to define the action that takes place when a temporary storage buffer is full of collected data. Option parameters include but are not limited to drop data when buffer is filled clobber to discard collected data when buffer is filled notify user when buffer is full or approaching maximum storage and the like. Condition overflow may be set to a value that indicates a combination of options.

The condition buffer size parameter sets the amount of storage space allocated to collection of data for the specified condition and condition buffer limit parameter sets the amount of useable space in the allocated storage space. The condition threshold parameter sets the threshold for buffer usage that triggers notification of the collecting application that storage space is approaching maximum allocated space. A special value for threshold may dictate that no notification is sent to the collecting application as the storage space approaches maximum allocation or another special value may dictate that the application is notified each time a triggering event occurs.

As previously noted the condition interval parameter may include the pre condition time and the post condition time. The pre condition time is the time prior to the occurrence of the triggering event for which action is to be taken such as data collection. For example if the pre condition time is set to two seconds data collection will occur for actions that occur up to two seconds prior to the occurrence of the triggering event. The post condition time is the time after the occurrence of the triggering event for which the respective action such as data collection is to be taken. For example if the post condition time is set to four seconds data collection will occur for actions that occur up to four seconds after the occurrence of the triggering event.

The payload match or mismatch criteria parameter may include but is not limited to the matching or mismatching value to be found in the payload block the matching or mismatching size of the payload block the offset location of the payload in the data block and the like.

The action parameters may include parameters that further define the actions to be taken. Examples of action parameters include but are not limited to action sampling rate logging value logging priority logging logic logging overflow option logging buffer size logging buffer limit logging threshold payload offset and payload size. In addition some of these action parameters may be specific to an action type or to another associated action parameter. For example the collection of a log code and or an event ID may be associated with parameters that include but are not limited to one or any combination of log or event identification primary and alternative logging or event priority action overflow option action buffer size and limit action threshold payload match criteria including payload size payload value and payload offset and additional action logic. Additionally request and reply actions may be associated with parameters that include but are not limited to one or any combination of the size of a requested packet the block containing the requested packet and additional action logic.

The action sampling rate parameter may be configured to define the rate at which the action will be sampled. Typically the sampling rate is defined in packets per second. Additionally by way of example if the sampling rate is four packets per second the sampling rate may further be configured to collect the first four packets within the second the last four packets within the second random collection of packets within the second or any other conceivable collection scheme can be defined. In some aspect the sampling rate may be set to a special value e.g. the maximum allowed value to indicate that no sampling rate has been set i.e. all data packets are to be collected .

Additional action logic which is relevant to collecting log data event data and request and response data allows for additional rules to be defined for collection of data. The action logic field of the configuration message may include one or more values that correspond to the additional rules. Examples of additional action logic rules include but are not limited to payload mismatch i.e. collecting only if the payload of the packet differs from the payload of the previous packet do not collect if the payload matches request and response only at device power up request and response at the beginning of each log file write and the like.

The log or event value comprises an identification ID or code that corresponds to the log code or event being collected.

The primary logging or event priority is a value that is set to define the collection priority for the action. Typically a value is assigned to define the priority in the likelihood that multiple actions occur simultaneously.

The action overflow option sets an overflow listener parameter to define the action that takes place when the temporary storage buffer is full of collected data. Option parameters include but are not limited to drop data when buffer is filled clobber discard collected data when buffer is filled notify user when buffer is full or approaching maximum storage and the like. Action overflow may be set to a value that indicates a combination of options.

The action buffer size sets the amount of storage space within the action buffer allocated for the collection of data for the specified action and the action buffer limit sets the amount of useable space within the allocated storage space. The action threshold sets the threshold for buffer usage that will trigger notification of the collecting application that storage space is approaching maximum allocated space. A special value for action threshold may dictate that no notification is sent to the collecting application as the storage space approaches maximum allocation or another special value may dictate that the application is notified each time the action is collected.

Additionally action parameters may include payload match criteria for example if the collection action further requires a payload match. Payload match parameters may include but are not limited to the matching value to be found in the payload block the matching size of the payload block an offset payload location within the block and the like.

According to aspects provide timeline block diagram and log file descriptions of data collection actions performed in accordance with configured conditions and actions. provides an example of a condition such as a triggering event including condition parameters that define the triggering event condition identification ID as value 267 the pre occurrence time as three 3 seconds and the post occurrence time as seven 7 seconds. The pre occurrence time and the post occurrence time define a time interval comprising a collection window . The triggering event condition is mapped to three action identifiers having corresponding identifier values of 1 3 and 4 . The three action identifiers respectively map to data collection action for recording the payload of log ID 0x4003 data collection action for recording the occurrence of event ID 268 and data collection action for recording the payload of log ID 0x4105. The occurrence of condition a triggering condition based on the occurrence of event ID causes the definition of a collection window based on condition parameters and further causes the action defined by actions . Referring to the timeline the first occurrence of the triggering event having event ID 267 sets the collection window that is defined as three seconds prior to the triggering event i.e. the pre time and seven seconds after the triggering event i.e. the post time . In particular the actions define logging the value found in log ID 0x4003 event ID 268 and logging the value in log ID 0x4105 . Thus the configured action of data collection occurs for all detected conditions e.g. for all occurrences of the configured event ID and log codes during the collection window. As such and log file is compiled which includes all data corresponding to the defined actions as well as the triggering event 267 . It should be noted that data collection could be configured such that conditions and or the condition parameters may or may not be included in the log file.

Referring to according to one aspect a flow diagram of a method for configuring an action such as data collection on a wireless device is presented. At Event conditions and actions are defined within a task selection module and or logic that is executable at network device. At Event the task configuration module and or logic is executed at a network device that allows a network administrator or service provider to select a task condition such as a data collection condition. A data collection condition will determine when and in some aspects if data is to be collected. Examples of data collection conditions which may be configured in programmable logic include but are not limited to constant collection condition triggering event collection and the like. In addition to providing for selection of a condition the module and or logic may provide for selection of additional parameters associated with the data collection conditions that further define conditions for the action.

At Event a determination is made if any actions are associated with the condition. In some aspects the condition itself may serve as the task in which case no actions are associated with the condition. If no action or actions are associated with the condition the process will proceed to Event and an assessment of further conditions is made.

If the condition does have an associated action or actions then at Event once the condition has been selected the module and or logic provides for the selection of one or more actions such as data collection actions. Data collection actions define what data is to be collected when the condition is satisfied. Examples of data collection actions include but are not limited to collecting log data collecting event data collecting request and response data and the like. In addition to providing for selection of actions the module and or logic may provide for selection of additional parameters associated with the actions that further define the action.

At Decision a determination is made as to whether further conditions are to be selected. Typically further condition selections are dictated by the need to perform further actions such as multiple data collection actions. If further condition selections are warranted the process returns to Event for further selection.

If all conditions and associated actions have been selected then at Event a configuration message is generated. In many aspects the structure of the message will include static structure that includes parameters relevant to the application and custom configurable structure that is variable in length and includes the conditions and actions. In some aspects the configuration message will map conditions to one or more action IDs and the action IDs will map to a listing of action blocks that include the action parameters.

At Event once the configuration message has been generated it is communicated to one or more wireless devices that receive the message determine data collection configuration and execute data collection according to the determined configuration. While in many aspects the configuration message is communicated wirelessly it is also possible to communicate the configuration message through a wired medium if the wireless device supports both wireless and wired communication.

Referring to according to one aspect a flow diagram of a method for providing configurable data collection on a wireless device is presented. At Event a wireless device receives a task configuration message. The message includes one or more task conditions such as data collection conditions or the like. Additionally each task condition will typically have one or more associated actions that define the action such as data collection that is to take place once the condition is met. Examples of data collection actions include but are not limited to collecting log data collecting event data collecting request and response data and the like.

At Event an executable module and or logic within the mobile device will parse the configuration message to determine the one or more conditions and any parameters associated with the conditions. At Event the executable module and or logic will further parse the configuration message to determine the one or more actions associated with each of conditions and any parameters associated with the actions. It should be noted that the executable module and or logic may determine the data collection conditions and data collection actions sequentially in parallel or in any other order.

At Event once the conditions and associated actions have been determined an executable module and or logic within the mobile device will perform the action or actions as prescribed by the determined conditions and associated actions. In those aspects in which the action involves collection of data the collected data will typically be stored at the wireless device in logged data format.

For example in some aspects Event comprises the instantiation of listener agent corresponding to each condition and or condition parameter and or action and or action parameters parsed from configuration message . Each listener agent monitors processing engine for the occurrence of its corresponding condition and or condition parameter and initiates the subsequent action based on action parameters . For example referring to task module may parse configuration message and instantiate a listener agent for each of event ID log ID 0x4003 event ID and log ID 0x4105. The listener agent corresponding to event ID is enabled and in communication with task module thereby notifying task module of the occurrence of the configured triggering event. At the same time the other listener agents are buffering data associated with the occurrence of their respective log code IDs and event ID. In some aspects upon receiving notification of the occurrence of event ID from the corresponding listener agent task module requests the buffered data from the listener agents corresponding to log ID 0x4003 event ID and log ID 0x4105. Further the logic associated with task module filters the buffered data according to the pre occurrence and post occurrence condition parameters and then records the filter data into data log ..

At optional Event the collected data is communicated typically wirelessly to a network device. For example data log is forwarded to network device such as a user manager device. In many instances a service provider or network administrator will desire access to the collected data to monitor the performance of the network and or the device. Communication of the collected data may occur at predetermined intervals as the data is collected based on the occurrence of an event occurring at the wireless device or at the bequest or the network administrator the service provider and or wireless device user. The data collection configuration message may also provide configuration related to the communication of the collected data such as how and when the collected data is to be communicated to the network device.

The various illustrative logics logical blocks modules and circuits described in connection with the embodiments disclosed herein may be implemented or performed with a general purpose processor a digital signal processor DSP an application specific integrated circuit ASIC a field programmable gate array FPGA or other programmable logic device discrete gate or transistor logic discrete hardware components or any combination thereof designed to perform the functions described herein. A general purpose processor may be a microprocessor but in the alternative the processor may be any conventional processor controller microcontroller or state machine. A processor may also be implemented as a combination of computing devices e.g. a combination of a DSP and a microprocessor a plurality of microprocessors one or more microprocessors in conjunction with a DSP core or any other such configuration.

Further the steps of a method or algorithm described in connection with the embodiments disclosed herein may be embodied directly in hardware in a software module executed by a processor or in a combination of the two. A software module may reside in RAM memory flash memory ROM memory EPROM memory EEPROM memory registers a hard disk a removable disk a CD ROM. An exemplary storage medium is coupled to the processor such that the processor can read information from and write information to the storage medium. In the alternative the storage medium may be integral to the processor. The processor and the storage medium may reside in an ASIC. The ASIC may reside in a user terminal. In the alternative the processor and the storage medium may reside as discrete components in a user terminal. Additionally in some aspects the steps and or actions of a method or algorithm may reside as one or any combination or set of instructions on a machine readable medium and or computer readable medium.

While the foregoing disclosure shows illustrative aspects and or embodiments it should be noted that various changes and modifications could be made herein without departing from the scope of the described aspects and or embodiments as defined by the appended claims. Furthermore although elements of the described embodiments may be described or claimed in the singular the plural is contemplated unless limitation to the singular is explicitly stated. Additionally all or a portion of any aspect and or embodiment may be utilized with all or a portion of any other aspect and or embodiment unless stated otherwise.

Thus the described aspects provide for configurable task management such as data collection management at a wireless device. Configurable data collection provides for data collection conditions and associated data collection actions to be configured based on the requirements of a data collection application such as a monitoring application or the needs of a service provider. Such configurable data collection obviates the need to modify the source code of the data collection application in the instance in which data collection alteration is necessary. In addition to configuring conditions for data collection and associated collection actions the described aspects provide for configuring the parameters associated with the conditions and actions. The configurable nature of the described data collection schemes allow users to modify data collection on the fly and or dynamically.

Many modifications and other embodiments of the invention will come to mind to one skilled in the art to which this invention pertains having the benefit of the teachings presented in the foregoing descriptions and the associated drawings. Therefore it is to be understood that the invention is not to be limited to the specific embodiments disclosed and that modifications and other embodiments are intended to be included within the scope of the appended claims. Although specific terms are employed herein they are used in a generic and descriptive sense only and not for purposes of limitation.


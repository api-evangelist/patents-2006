---

title: Expedited bandwidth request for emergency services for wireless clients
abstract: Methods, apparatuses, and systems directed to reliably providing emergency services to wireless clients. In one embodiment, a wireless client determines if an attempt to transmit an emergency message exists. If so, the wireless client determines if one or more wireless access points support expedited bandwidth capabilities. If so, the wireless client notifies one of the wireless access points that the wireless client has an expedited bandwidth request.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07746897&OS=07746897&RS=07746897
owner: Cisco Technology, Inc.
number: 07746897
owner_city: San Jose
owner_country: US
publication_date: 20060331
---
The present application claims priority to U.S. provisional patent application Ser. No. 60 774 291 filed Feb. 17 2006.

The present invention relates to wireless networks and more particularly to methods apparatuses and systems directed to reliably providing emergency and or expedited services to wireless clients.

Market adoption of wireless LAN WLAN technology has exploded as users from a wide range of backgrounds and vertical industries have brought this technology into their homes offices and increasingly into the public air space. This inflection point has highlighted not only the limitations of earlier generation systems but also the changing role that WLAN technology now plays in people s work and lifestyles across the globe. Indeed WLANs are rapidly changing from convenience networks to business critical networks. Increasingly users are depending on WLANs to improve the timeliness and productivity of their communications and applications and in doing so require greater visibility security management and performance from their networks.

Admission control is a technique used in bandwidth constrained networks or over bandwidth allocated links to manage the effects of congestion. In wireless local area networks WLANs wireless clients may request bandwidth for Quality of Service QoS services via a traffic specification TSPEC request according to the IEEE 802.11e specification or the Wi Fi Alliance s Wi Fi Multimedia WMM specification. In response to this request a wireless access point will attempt to admit the QoS flow if over the air OTA bandwidth is available. A policy configured by a system administrator permits this operation. One characteristic of admission control is that a wireless access point will continue to accept and admit new QoS flows but only until the OTA bandwidth is used up or until the OTA usage reaches a pre defined threshold set by the system administrator. Once this occurs subsequent requests for OTA bandwidth are denied.

The present invention provides methods apparatuses and systems directed to reliably providing emergency services to wireless clients in a wireless network. As described in more detail below in one implementation a wireless client determines whether the wireless network supports expedited or emergency bandwidth services. In one implementation a wireless access point advertises its capabilities which may include QoS and or expedited bandwidth services. As described in more detail below upon receipt of a notification that a wireless client has an expedited bandwidth request the wireless access point may apply a policy to preferentially accept the expedited bandwidth request thereby providing prioritized access to QoS and emergency services for wireless clients.

A network environment including a wireless local area network WLAN according to one implementation of the present invention is shown in . In a specific embodiment of the present invention the system includes a wireless network management module running on a WLAN management server an Authentication Authorization and Accounting AAA server a local area network LAN a router and wireless access points and collectively referred to as wireless access points . LAN is implemented by a switch or an array of switches and or other network devices such as a bridge.

As illustrates these network elements are operably connected to a network . Network in one implementation generally refers to a computer network such as a LAN a WAN etc. that includes one or more intermediate network devices e.g. routers switches etc. which allow for the transmission of messages between WLAN management server and wireless clients via wireless access points . Of course network can include a variety of network segments transmission technologies and components such as terrestrial WAN links satellite links optical fiber links and cellular links network could also be a campus LAN. LAN may be a LAN or LAN segments implemented by an Ethernet 802.3 switch not shown or an array of switches having multiple ports to which wireless access points are connected. The wireless access points are typically connected to switch ports via Ethernet links however other link layer connection protocols or communication means can be employed. illustrates one possible network environment in which the invention may operate however other implementations are possible. For example although WLAN management server is illustrated as being on a different LAN or LAN segment it may be co located with wireless access points .

The wireless access points are operative to wirelessly communicate with remote wireless client devices and . In one implementation the wireless access points implement the wireless network protocol specified in the IEEE 802.11 WLAN specification. The wireless access points may be autonomous or so called fat wireless access points or light weight wireless access points operating in connection with a wireless switch see . In addition the network infrastructure may also include a Wireless LAN Solution Engine WLSE offered by Cisco Systems Inc. of San Jose Calif. or another wireless network management system. In some implementations the network infrastructure may also include one or more Wireless Control System WCS nodes operative to manage one or more wireless switches and access points. Of course configuration and management information can be obtained in a variety of manners without departing from the scope of the present invention.

While illustrates one implementation in which the wireless network management module is implemented in the WLAN management server in other implementations wireless network management module may be implemented in a central controller . illustrates a hierarchical wireless network including a central controller which may be used to manage bandwidth allocation of the wireless network according to one implementation of the present invention. In one implementation the central controller may be implemented as a wireless domain server WDS or alternatively as a wireless switch. If the central controller is implemented with a WDS the central controller is operative to communicate with autonomous or so called fat wireless access points. If the central controller is implemented with a wireless switch the central controller is operative to communicate with light weight wireless access points. Of course other control points in the wireless network infrastructure can be used for the allocation of bandwidth described herein.

Additional elements of hardware system are described below. In particular wireless network interface provides communication between hardware system and any of a wide range of wireless networks such as a WLAN i.e. IEEE 802.11 WiMax i.e. IEEE 802.16 Cellular e.g. GSMA etc. Mass storage provides permanent storage for the data and programming instructions to perform the above described functions implemented in the system controller whereas system memory e.g. DRAM is used to provide temporary storage for the data and programming instructions when executed by processor . I O ports are one or more serial and or parallel communication ports that provide communication between additional peripheral devices which may couple to hardware system .

Hardware system may include a variety of system architectures and various components of hardware system may be rearranged. For example cache may be on chip with processor . Alternatively cache and processor may be packed together as a processor module with processor being referred to as the processor core. Furthermore certain implementations of the present invention may not require nor include all of the above components. For example the peripheral devices shown coupled to standard I O bus may couple to high performance I O bus . In addition in some implementations only a single bus may exist with the components of hardware system being coupled to the single bus. Furthermore hardware system may include additional components such as additional processors storage devices or memories.

In one embodiment the operations of wireless client side functionality are implemented as a series of software routines run by hardware system . These software routines which can be embodied in a wireless network interface driver comprise a plurality or series of instructions to be executed by a processor in a hardware system such as processor and may support one or more application programming interfaces APIs . Initially the series of instructions are stored on a storage device such as mass storage . However the series of instructions can be stored on any suitable storage medium such as a diskette CD ROM ROM etc. Furthermore the series of instructions need not be stored locally and could be received from a remote storage device such as a server on a network via network communication interface . The instructions are copied from the storage device such as mass storage into memory and then accessed and executed by processor . In alternate embodiments the present invention is implemented in discrete hardware or firmware.

While illustrates for didactic purposes the hardware architecture of a wireless client according to one implementation of the present invention the present invention however may be implemented on a wide variety of computer system architectures such as dual mode cellular phones e.g. cellular plus 802.11 capable devices wireless VoIP phones Personal Digital Assistants e.g. converged devices which support WLAN data voice and cellular Laptop computers and the like. An operating system manages and controls the operation of hardware system including the input and output of data to and from software applications not shown . The operating system provides an interface such as a graphical user interface GUI between the user and the software applications being executed on the system. According to one embodiment of the present invention the operating system is the Windows 95 98 NT XP operating system and or Windows CE WinCE operating system available from Microsoft Corporation of Redmond Wash. However the present invention may be used with other suitable operating systems such as the Apple Macintosh Operating System available from Apple Computer Inc. of Cupertino Calif. UNIX operating systems LINUX operating systems Symbian operating systems and the like.

As described above in one implementation the wireless network interface driver of the wireless client determines whether one or more wireless access points supports QoS and expedited bandwidth services based on wireless management frames advertising such capabilities or not advertising such capabilities . The wireless network interface driver supports APIs that allow wireless client applications e.g. a VoIP application to designate an emergency call or bandwidth use type or to select an expedited request type for the call. For example the wireless client application may select one of the BW Use Values as appropriate. Other network applications may also do the same for their corresponding traffic streams. Such selections may be done during call signaling or subsequent to call signaling. In one implementation during a 911 call the wireless network estimates the location of the wireless client. In one implementation the computed location can be provided back to the VoIP client application of the wireless client or to other nodes. The computed location may be used for example to help locate the user in an emergency. In one implementation the wireless client may optionally request location information from the wireless access points that support QoS and expedited bandwidth services select a wireless access point and notify the selected wireless access point that the wireless client has an expedited bandwidth request.

The wireless network interface driver transmits the ADDTS request in a manner consistent with the IEEE 802.11e specification or WMM specification. According to the 802.11e specification the ADDTS request is a management frame that includes a TSpec information element TSpec IE that can be used to specify a requested set of QoS attributes such as data rate packet size packetization interval and priority. In one implementation the stream for which QoS is requested is identified by a Traffic Stream Identifier TSID contained in the TSpec IE. As described in more detail below after receipt of the ADDTS request from the wireless client the wireless access point processes the TSpec IE and the Expedited Bandwidth IE and determines whether to grant the requested QoS for the identified stream. If the stream parameters do not include an expedited bandwidth request the wireless network interface driver transmits the ADDTS request in a manner consistent with the IEEE 802.11e specification . After transmitting the ADDTS request the wireless network interface driver passes response attributes of the ADDTS response frame to the wireless client application which can perform some action s in response to the message such as retrying the request or beginning the voice stream.

The expedited bandwidth IE may be appended to other types of wireless management frames such as re association request frames. An exemplary process flow associated with roaming is described below in connection with . In addition to 802.11e ADDTS the wireless infrastructure may also use expedited bandwidth IE during roam events. For example as described above as the wireless client roams the wireless network interface driver may determine that a stream corresponding to an expedited bandwidth request is still active. is a flow chart illustrating a process flow according to one implementation of the present invention implemented at a wireless client. As illustrates wireless client during a roam event determines if there is an active stream associated with a current expedited bandwidth request . If so wireless client appends the expedited bandwidth IE to a re association request frame . Wireless client then transmits the re association request to the selected wireless access point . If there is no current expedited bandwidth request the wireless client then transmits the re association request to the wireless access point without appending an expedited bandwidth IE .

As described below an expedited bandwidth request indicates that the wireless client requires expedited bandwidth services from the wireless network for one or more designated traffic streams. In one implementation the expedited bandwidth request may be related to a given identified traffic stream such that as long as the session stream is alive all packets in the stream i.e. existing VoIP call will be treated with the same QoS. In one implementation the expedited bandwidth request may be an expedited bandwidth request information element expedited bandwidth request IE . In one implementation the wireless client notifies the wireless access point that a given message e.g. emergency call is associated with QoS or emergency service by generating an emergency notification identifier i.e. an expedited bandwidth request information element appending the emergency notification identifier to a wireless management frame and then transmitting the wireless management frame to the wireless access point.

In one implementation the expedited bandwidth request IE may be a part of an 802.11e WMM Add Traffic Stream ADDTS request an association request a re association request a Traffic Stream Specification TSPEC request or another wireless management frame. According to the 802.11e specification the ADDTS request is a management frame that includes a TSpec information element IE that can be used to specify a requested set of QoS attributes such as data rate packet size packetization interval and priority. In one implementation the stream for which QoS is requested is identified by a Traffic Stream Identifier TSID contained in the TSpec IE. In one implementation the expedited bandwidth request IE may be transmitted from a non access point QoS station non AP QSTA to a wireless QoS access point QAP in an Add Traffic Stream ADDTS action frame containing a TSPEC request.

As described above in one implementation a wireless access point advertises its capabilities which may include QoS and or expedited bandwidth capabilities. Upon receipt of an expedited bandwidth request IE the wireless access point may apply one or more policies to preferentially admit one or more traffic streams associated with the expedited bandwidth request thereby providing prioritized access to QoS and emergency services for wireless clients.

In one implementation when the wireless access point receives a management frame the wireless access point determines whether the wireless management frame includes an expedited bandwidth request IE . As described above the expedited bandwidth request IE enables the wireless network infrastructure to differentiate a normal request for bandwidth from an emergency or expedited bandwidth request. If the wireless access point has determined that it has received a notification that the wireless client has an emergency or priority message the wireless access point identifies the type of bandwidth use from the bandwidth use field of the expedited bandwidth request IE . The wireless access point then determines if bandwidth is available . In one implementation the wireless access point determines whether it has sufficient bandwidth or network resources to satisfy the QoS parameters identified in the TSpec IE. If bandwidth is available the wireless access point reserves bandwidth resources for the traffic stream. If bandwidth is not available the wireless access point reclaims bandwidth for the traffic stream . Examples of reclaiming are described in below.

The wireless access point may reclaim bandwidth in a variety of ways. How the wireless access point may reclaim bandwidth may depend on the specific application and or how a system administrator has configured the wireless network. For example in one implementation the wireless access point may terminate one or more existing connections with low priority. In one implementation the wireless access point may request or cause some wireless clients to roam. Alternatively in one implementation the wireless access point may use a pool of reserved or available pre allocated bandwidth.

In one implementation the wireless access point may capture bandwidth that is already pre reserved for other purposes and use that bandwidth for emergency or priority calls. For example a system administrator may set a threshold for voice services to reserve some bandwidth for mission critical data. If the bandwidth already meted out is at the threshold bandwidth reserved for mission critical data may be used to carry an emergency call.

In some network configurations a system administrator may allocate some OTA bandwidth for other services that also require admission control. Examples of such services include video conferencing or other services requiring real time response from a WLAN. If the bandwidth already meted out for voice is at its threshold bandwidth that is reserved for other services could be used to carry the emergency call or session.

In another possible implementation bandwidth may be reserved for roaming in calls which is often performed in WLANs to prevent dropped calls. End users complain when their call is dropped mid stream more often than when they are not being able to initiate a new call. Such dropped calls result from insufficient capacity on the wireless access point to which the wireless client roams. To facilitate this feature system administrators will often set aside a roaming reserve. In this example if the only bandwidth available on the wireless access point corresponds to the roaming reserve the wireless access point would go ahead and admit the bandwidth request using that reserve thereby providing access to emergency services.

Another possible implementation scenario involves wireless network where a system administrator has defined policy that prevents VoIP calls. When the emergency bandwidth request IE is received on a service set identifier SSID configured to not accept calls note however that a signaling session between and endpoint and call manager may previously exist for this example and be carried on the current SSID virtual LAN VLAN the wireless access point would go ahead and admit the bandwidth request anyway thereby providing access to emergency services. Note that in this example additional security measures may need to be enforced by the WLAN infrastructure which could include bandwidth policing to ensure that the request for emergency bandwidth is not a ruse for a DoS attack.

Another implementation involves call pre emption. In this case when a wireless access point receives an emergency bandwidth request IE another voice flow that was not admitted with an emergency bandwidth request IE is terminated thereby making room for the new emergency voice flow. This policy if so configured by a system administrator is preferably carefully implemented because call pre emption may have the negative side effect of tearing down calls related to the emergency. For example if the original call becomes disconnected and the Public Service Answering Point PSAP calls back this call back may not be designated as an emergency call to the WLAN infrastructure and may suffer from subsequent pre emption e.g. a Good Samaritan observing the emergency also calls to report it causing the PSAP call back to be pre empted. 

Reclaiming bandwidth is useful in cases where a designated access category is used to carry the emergency call traffic typically AC VO . In some cases the wireless access point is configured for mandatory admission control. If the WLAN is congested then the wireless access point may deny the TSPEC request for bandwidth to carry the call. One benefit of the expedited bandwidth request IE is that when the wireless access point has already meted out all available bandwidth the wireless access point would admit the call anyway assuming other policy issues would not prevent the admission . The wireless access point may be configured such that the wireless access point would accept the expedited bandwidth request if the wireless access point knows that a given call is an emergency call. In one implementation because the wireless access point knows the use associated with the traffic stream the wireless access point may optionally invoke a policy giving the expedited bandwidth request preferential treatment. For example the wireless access point may take no action or take pre emptive action e.g. delete a traffic stream of lower priority if necessary to make room for a new traffic stream . Furthermore the wireless access point may use bandwidth allocated for non voice services if priority is above a certain value assuming TSPEC is for AC VO interpret MLPP codes per 3GPP 3Generation Partnership Project www. 3gpp.org specification and or interpret MLPP codes per proprietary specification.

The present invention has been explained with reference to specific embodiments. For example while embodiments of the present invention have been described as operating in connection with IEEE 802.11 networks the present invention can be used in connection with any suitable wireless network environment. Other embodiments will be evident to those of ordinary skill in the art. It is therefore not intended that the present invention be limited except as indicated by the appended claims.


---

title: Voltage comparator apparatus and method having improved kickback and jitter characteristics
abstract: A comparator apparatus for comparing a first and a second voltage input includes a pair of cross-coupled inverter devices, including a pull up device and a pull down device, with output nodes defined between the pull up and pull down devices. A first switching device is coupled to the first input and a second switching device is coupled to the second input, with control circuitry configured for selective switching between a reset mode and a compare mode. In the reset mode, the first and second voltage inputs are coupled to respective output nodes so as to develop a differential signal thereacross, and the pull down devices in each inverter are isolated from the pull up devices. In the compare mode, the voltage inputs are isolated from the output nodes, and the pull down devices in each inverter are coupled to the pull up devices to latch the output nodes.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07570082&OS=07570082&RS=07570082
owner: International Business Machines Corporation
number: 07570082
owner_city: Armonk
owner_country: US
publication_date: 20060815
---
This invention was made with U.S. Government support under Contract No. NBCH 3039004 awarded by the Defense Advanced Research Projects Agency DARPA . The Government has certain rights in this invention.

The present invention relates generally to voltage comparator circuits in integrated circuits and more particularly to a voltage comparator apparatus and method having improved kickback and jitter characteristics.

Comparators are widely used in integrated circuits that include for example analog to digital converters and voltage signal receivers on interconnections and clock distribution lines. A voltage comparator circuit provides an indication of which of two input voltages is larger or smaller. Since a voltage comparator often senses small differences between the input voltages and generates a digital output a large amplification may be needed. The large amplification necessary for sensing small differences may be constructed using a differential amplifier operating in a non linear region. The differential amplifier has two transistors connected as a source coupled pair with one of the transistors turned off and the other transistor turned on. Therefore the amplifier has one transistor turned on even under a static condition when the transistors are in a stable non switching state.

As amplification circuits comparators are susceptible to influence of noise on the input voltages. The noise on the input voltages causes erratic switching and false triggering of the comparator output. Thus positive feedback can be applied to decrease the decision time limiting the effects of the noise on the inputs.

In one type of conventional CMOS voltage comparator cross coupled inverters are used to latch the state of a pair of input voltages applied to opposing legs of the latch. During a reset phase of the comparator both the output voltage nodes are biased through control switching to a stable state e.g. at the supply voltage and are also isolated from the ground terminal of the device so as to prevent static power dissipation. When the input voltages are to be compared during the compare phase a strobe clock signal deactivates the bias control circuitry and couples the inverters output nodes to the input voltages. The input voltage having the higher value will cause the transistor associated therewith to conduct more strongly thus pulling the corresponding output node down more quickly and in turn latching the output voltages to the complementary rail values.

However one disadvantage associated with CMOS comparators that have their inputs active during the compare phase is coupling of the output voltages to the input nodes. In particular the kickback caused by the output voltage nodes when transitioning from the metastable state can in turn cause jitter on the input voltages. Unfortunately when attempting to amplify a small input voltage differential it is possible that the resulting jitter on the input signals can actually cause the comparator to latch the incorrect state. As result the overall performance of the comparator is diminished in terms of resolution i.e. the accuracy of the comparator in bits given a regeneration time and in terms of offset i.e. the magnitude of applied input voltage differential below which results in an indeterminate output decision .

Accordingly it would be desirable to be able to provide a voltage comparator with improved immunity to output kickback and jitter on the input voltage signals.

The foregoing discussed drawbacks and deficiencies of the prior art are overcome or alleviated by a comparator apparatus for comparing a first and a second voltage input. In an exemplary embodiment the apparatus includes a pair of cross coupled inverter devices each of which includes a pull up device and a pull down device with corresponding output nodes defined between the pull up and pull down devices of each inverter. A first switching device is coupled to the first voltage input and a second switching device is coupled to the second voltage input with control circuitry configured for selective switching between a reset mode and a compare mode of operation. In the reset mode of operation the first and second voltage inputs are coupled to respective output nodes so as to develop a differential signal across the output nodes and the pull down devices in each inverter are isolated from the respective pull up devices. In the compare mode of operation the first and second voltage inputs are isolated from respective output nodes and the pull down devices in each inverter are coupled to the respective pull up devices so as to allow latching of the output nodes to a corresponding full rail value.

In another embodiment a method for comparing a first voltage input and a second voltage input includes coupling during a reset mode the first and second voltage inputs to a corresponding pair of output nodes of a comparator device the output nodes defined between corresponding pull up and pull down devices of a pair of cross coupled inverter devices isolating during the reset mode the pull down devices of the inverter devices from the pull up devices so as to develop a differential signal across the output nodes isolating during a compare mode the first and second voltage inputs from the output nodes and recoupling during the compare mode the pull down devices of the inverter devices to the pull up devices so as to allow latching of the output nodes to a corresponding full rail value.

As a result of the summarized invention a solution is technically achieved in which a voltage comparator is configured so as to isolate the voltage input signals from the output stage during a compare phase of the circuit thereby improving the kickback and jitter characteristics of the device.

Disclosed herein is a voltage apparatus and method having improved kickback and jitter characteristics. Briefly stated the present invention embodiments are configured so as to isolate the voltage input signals from the output stage during the compare phase of the circuit. Instead the control circuitry couples the voltage input signals to the output stage so as to generate a small differential thereon during the reset phase of the circuit. Simultaneously during the reset phase the NFET devices of the cross coupled inverters are isolated from the associated PFET devices thus isolating the NFET devices from the output nodes. Such as configuration as described more fully below substantially improves kickback and jitter for a voltage comparator device.

Referring initially to there is shown a schematic diagram of an existing dynamic voltage comparator circuit . The circuit features a pair of cross coupled inverters including PFETs P and P along with NFETs N and N. A first output node OUT N is defined between P and P while a second output node OUT P is defined between P and N on opposing legs of the inverters. The input voltages IN N IN P to be compared with one another are respectively coupled to the gates of NFETs N and N. A small differential between the voltages on IN N and IN P is during a compare phase latched by the cross coupled inverters to a full rail voltage at the output nodes OUT N and OUT P.

As further shown in control devices for the comparator circuit include PFETs P P P P and P in addition to NFET N. The control devices are operated by a uniphase clock signal CLK i.e. uniphase in that the logical complement signal is not needed for operation of the comparator .

Then during a desired compare operation of the voltages at IN N and IN P the clock signal CLK is strobed high to result in the equivalent circuit shown in . As shown each of the control PFET devices P through P are deactivated by the logic high value of CLK while control NFET device N is activated to provide a ground path for the output nodes OUT N OUT P. Whichever of the input voltages IN N IN P is higher with respect to the other will result in the corresponding NFET N N to conduct more strongly than the other. In turn one of the output nodes OUT N OUT P will begin to discharge faster than the other ultimately causing one of the output node to latch to ground and the other to latch at the rail voltage V.

As indicated above however the input voltages IN N and IN P applied to the gates of NFETs N and N are capacitively coupled to the output nodes during the compare operation in . Where the difference between the voltages at IN N and IN P is relatively small the kickback of the changing voltages of OUT N and OUT P can possibly affect the values IN N and IN P to the extent that an incorrect state is ultimately latched at the output nodes.

Therefore in accordance with an embodiment of the invention is a schematic diagram of a voltage comparator circuit having improved kickback and jitter characteristics. As is shown the circuit includes a cross coupled inverter configuration defined by PFETs P P and NFETs N N. However in comparison to the conventional comparator of the control circuitry of comparator is significantly different. First it will be noted that PFETs P and P are respectively configured within the current path of the output nodes OUT P OUT N selectively isolating the pull up device e.g. P from the corresponding pull down device e.g. N in each inverter. In addition an NFET N as opposed to a PFET is configured between the output nodes and is activated during the reset phase described below. NFETs N and N are connected in parallel with pull down devices N and N respectively.

As will also be noted from the NFETs N N coupled to comparator input voltages IN N IN P are connected in parallel with respect to inverter NFETs N and N as is the case with control NFET N. PFETs P P and NFETs N N N and N are each controlled by a uniphase clock signal CLK.

In other words the combination of N N P P and r effectively creates a low gain amplifier during the reset phase of operation. Thus a differential signal between IN N and IN P is actually stored in the output nodes OUT P and OUT N during the reset phase of operation. Subsequently during the compare phase of operation the developed differential seen at the output nodes OUT P and OUT N is immediately latched by the cross coupled inverters which are once again fully connected. Moreover the latching takes place while the inputs IN N and IN P are decoupled from the output nodes thereby providing significant protection of the inputs IN N and IN P from kickback generated at the output nodes OUT P and OUT N during latching to the full rail voltages.

The equivalent circuit diagram of the comparator during the compare phase is shown in . In the compare phase CLK is low thus deactivating NFETs N N and N so as to isolate the inputs IN N and IN P from the output nodes. In addition N is deactivated while PFETs P and P are activated by the low clock signal thereby recoupling the pull up and pull down devices of the inverters. So long as a differential signal was established at OUT P and OUT N during the reset phase the inverters would not be at a metastable state strictly speaking upon activation of the compare phase. Thus for example if the voltage at OUT P were to be slightly less than the voltage at OUT N during reset then OUT P would be pulled down to ground and OUT N would be pulled up to the rail voltage upon a transition to the compare phase shown in .

Thus configured comparator circuit offers significantly less jitter due to kickback on the output nodes as well as improved offset characteristics. Although comparator uses bias current during the static reset phase to store the input voltage differential on the output nodes representing a tradeoff in terms of static power dissipated the peak power dissipated is actually lower than the conventional dynamic comparator of .

While the invention has been described with reference to a preferred embodiment or embodiments it will be understood by those skilled in the art that various changes may be made and equivalents may be substituted for elements thereof without departing from the scope of the invention. In addition many modifications may be made to adapt a particular situation or material to the teachings of the invention without departing from the essential scope thereof. Therefore it is intended that the invention not be limited to the particular embodiment disclosed as the best mode contemplated for carrying out this invention but that the invention will include all embodiments falling within the scope of the appended claims.

